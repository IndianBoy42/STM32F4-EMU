; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--c99 --split_sections --debug -c --asm --interleave -ostm32nes\cpu.o --depend=stm32nes\cpu.d --cpu=Cortex-M4.fp --apcs=interwork -O3 -Otime --diag_suppress=9931 -I../Inc -I../Drivers/STM32F4xx_HAL_Driver/Inc -I../Drivers/CMSIS/Device/ST/STM32F4xx/Include -I../Drivers/CMSIS/Include -I../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -I.\RTE\_stm32nes -IC:\Users\FieryDragon\AppData\Local\Arm\Packs\ARM\CMSIS\5.5.1\CMSIS\Core\Include -IC:\Users\FieryDragon\AppData\Local\Arm\Packs\Keil\STM32F4xx_DFP\2.13.0\Drivers\CMSIS\Device\ST\STM32F4xx\Include -D__UVISION_VERSION=527 -D_RTE_ -DSTM32F407xx -DUSE_FULL_LL_DRIVER -DSTM32F407xx -DUSE_HAL_DRIVER --omf_browse=stm32nes\cpu.crf ..\Src\cpu.c]
                          THUMB

                          AREA ||i.cpu_abs||, CODE, READONLY, ALIGN=2

                  cpu_abs PROC
;;;16     /* ABS */   
;;;17     static inline uint16_t cpu_abs(void)   
000000  4902              LDR      r1,|L1.12|
;;;18     {    
;;;19     	uint16_t savepc;
;;;20       	savepc = cpu_getoperand16();
;;;21     
;;;22       	PC++;   
000002  89ca              LDRH     r2,[r1,#0xe]  ; PC
000004  8a08              LDRH     r0,[r1,#0x10]         ;20  ; operand16
000006  1c92              ADDS     r2,r2,#2
;;;23       	PC++;   
000008  81ca              STRH     r2,[r1,#0xe]
;;;24     
;;;25      	return savepc;
;;;26     }   
00000a  4770              BX       lr
;;;27     
                          ENDP

                  |L1.12|
                          DCD      ||.data||

                          AREA ||i.cpu_absx||, CODE, READONLY, ALIGN=2

                  cpu_absx PROC
;;;54     /* ABS,X */   
;;;55     static inline uint16_t cpu_absx(void)   
000000  480c              LDR      r0,|L2.52|
;;;56     {   
;;;57     	uint16_t savepc;
;;;58       	savepc = cpu_getoperand16(); 
;;;59     
;;;60       	PC++;   
000002  89c1              LDRH     r1,[r0,#0xe]  ; PC
000004  8a02              LDRH     r2,[r0,#0x10]         ;58  ; operand16
000006  1c89              ADDS     r1,r1,#2
;;;61       	PC++;   
000008  81c1              STRH     r1,[r0,#0xe]
;;;62       	if (opcodeticks[opcode]==4)   
00000a  490b              LDR      r1,|L2.56|
00000c  79c3              LDRB     r3,[r0,#7]  ; opcode
00000e  f851c023          LDR      r12,[r1,r3,LSL #2]
000012  4601              MOV      r1,r0                 ;58
000014  f1bc0f04          CMP      r12,#4
;;;63       		if ((savepc>>8) != ((savepc+X)>>8))   
000018  78cb              LDRB     r3,[r1,#3]
00001a  8a09              LDRH     r1,[r1,#0x10]         ;58
00001c  4419              ADD      r1,r1,r3
00001e  d106              BNE      |L2.46|
000020  0a12              LSRS     r2,r2,#8
000022  ebb22f11          CMP      r2,r1,LSR #8
000026  d002              BEQ      |L2.46|
;;;64       			cpu_clockticks++;   
000028  6a02              LDR      r2,[r0,#0x20]  ; cpu_clockticks
00002a  1c52              ADDS     r2,r2,#1
00002c  6202              STR      r2,[r0,#0x20]  ; cpu_clockticks
                  |L2.46|
;;;65     	savepc += X;   
00002e  b288              UXTH     r0,r1
;;;66     	return savepc;
;;;67     }   
000030  4770              BX       lr
;;;68     
                          ENDP

000032  0000              DCW      0x0000
                  |L2.52|
                          DCD      ||.data||
                  |L2.56|
                          DCD      ||.constdata||

                          AREA ||i.cpu_absy||, CODE, READONLY, ALIGN=2

                  cpu_absy PROC
;;;69     /* ABS,Y */   
;;;70     static inline uint16_t cpu_absy(void)   
000000  480c              LDR      r0,|L3.52|
;;;71     {    
;;;72     	uint16_t savepc;
;;;73     	savepc =  cpu_getoperand16();
;;;74     
;;;75     	PC++;   
000002  89c1              LDRH     r1,[r0,#0xe]  ; PC
000004  8a02              LDRH     r2,[r0,#0x10]         ;73  ; operand16
000006  1c89              ADDS     r1,r1,#2
;;;76     	PC++;   
000008  81c1              STRH     r1,[r0,#0xe]
;;;77     
;;;78     	if (opcodeticks[opcode]==4)   
00000a  490b              LDR      r1,|L3.56|
00000c  79c3              LDRB     r3,[r0,#7]  ; opcode
00000e  f851c023          LDR      r12,[r1,r3,LSL #2]
000012  4601              MOV      r1,r0                 ;73
000014  f1bc0f04          CMP      r12,#4
;;;79     		if ((savepc>>8) != ((savepc+Y)>>8))   
000018  790b              LDRB     r3,[r1,#4]
00001a  8a09              LDRH     r1,[r1,#0x10]         ;73
00001c  4419              ADD      r1,r1,r3
00001e  d106              BNE      |L3.46|
000020  0a12              LSRS     r2,r2,#8
000022  ebb22f11          CMP      r2,r1,LSR #8
000026  d002              BEQ      |L3.46|
;;;80     			cpu_clockticks++;   
000028  6a02              LDR      r2,[r0,#0x20]  ; cpu_clockticks
00002a  1c52              ADDS     r2,r2,#1
00002c  6202              STR      r2,[r0,#0x20]  ; cpu_clockticks
                  |L3.46|
;;;81     	savepc += Y;   
00002e  b288              UXTH     r0,r1
;;;82     	return savepc;
;;;83     }   
000030  4770              BX       lr
;;;84     
                          ENDP

000032  0000              DCW      0x0000
                  |L3.52|
                          DCD      ||.data||
                  |L3.56|
                          DCD      ||.constdata||

                          AREA ||i.cpu_adc||, CODE, READONLY, ALIGN=2

                  cpu_adc PROC
;;;2      /* Instructions */   
;;;3      static inline void cpu_adc(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;4      {   
;;;5      	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c7d              LDR      r4,|L4.512|
00000c  2910              CMP      r1,#0x10
00000e  d27d              BCS      |L4.268|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8fd2d2d2          DCB      0x8f,0xd2,0xd2,0xd2
00001c  d4d4d4d4          DCB      0xd4,0xd4,0xd4,0xd4
000020  dadadada          DCB      0xda,0xda,0xda,0xda
000024  4977              LDR      r1,|L4.516|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08e              B        |L4.332|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d244              BCS      |L4.192|
000036  e8dff000          TBB      [pc,r0]
00003a  0407              DCB      0x04,0x07
00003c  0a891f89          DCB      0x0a,0x89,0x1f,0x89
000040  8927              DCB      0x89,0x27
000042  4871              LDR      r0,|L4.520|
000044  f000b8c4          B.W      |L4.464|
000048  486f              LDR      r0,|L4.520|
00004a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004c  e07e              B        |L4.332|
00004e  496e              LDR      r1,|L4.520|
000050  4b6e              LDR      r3,|L4.524|
000052  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000054  f0200280          BIC      r2,r0,#0x80
000058  708a              STRB     r2,[r1,#2]
00005a  2200              MOVS     r2,#0
00005c  701a              STRB     r2,[r3,#0]
00005e  4a6c              LDR      r2,|L4.528|
000060  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000062  3a15              SUBS     r2,r2,#0x15
000064  2af1              CMP      r2,#0xf1
000066  d271              BCS      |L4.332|
000068  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006a  f0120f80          TST      r2,#0x80
00006e  bf04              ITT      EQ
000070  f0220203          BICEQ    r2,r2,#3
000074  700a              STRBEQ   r2,[r1,#0]
000076  e069              B        |L4.332|
000078  4966              LDR      r1,|L4.532|
00007a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007e  5c88              LDRB     r0,[r1,r2]
000080  1c52              ADDS     r2,r2,#1
000082  f8812100          STRB     r2,[r1,#0x100]
000086  e061              B        |L4.332|
000088  4963              LDR      r1,|L4.536|
00008a  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008e  f4124370          ANDS     r3,r2,#0xf000
000092  bf04              ITT      EQ
000094  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000096  5c9b              LDRBEQ   r3,[r3,r2]
000098  d018              BEQ      |L4.204|
00009a  f5b35f80          CMP      r3,#0x1000
00009e  d010              BEQ      |L4.194|
0000a0  f5b35f00          CMP      r3,#0x2000
0000a4  d014              BEQ      |L4.208|
0000a6  f5b35f40          CMP      r3,#0x3000
0000aa  bf18              IT       NE
0000ac  2000              MOVNE    r0,#0
0000ae  d02e              BEQ      |L4.270|
                  |L4.176|
0000b0  4b55              LDR      r3,|L4.520|
0000b2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b4  f0130f04          TST      r3,#4
0000b8  bf14              ITE      NE
0000ba  3220              ADDNE    r2,r2,#0x20
0000bc  1c52              ADDEQ    r2,r2,#1
0000be  800a              STRH     r2,[r1,#0]
                  |L4.192|
0000c0  e044              B        |L4.332|
                  |L4.194|
0000c2  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c4  f3c20c0b          UBFX     r12,r2,#0,#12
0000c8  f813300c          LDRB     r3,[r3,r12]
                  |L4.204|
0000cc  708b              STRB     r3,[r1,#2]
0000ce  e7ef              B        |L4.176|
                  |L4.208|
0000d0  f3c2030b          UBFX     r3,r2,#0,#12
0000d4  f5b36f40          CMP      r3,#0xc00
0000d8  bf84              ITT      HI
0000da  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000de  f5a36340          SUBHI    r3,r3,#0xc00
0000e2  d810              BHI      |L4.262|
0000e4  f5b36f00          CMP      r3,#0x800
0000e8  bf84              ITT      HI
0000ea  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ee  f5a36300          SUBHI    r3,r3,#0x800
0000f2  d808              BHI      |L4.262|
0000f4  f5b36f80          CMP      r3,#0x400
0000f8  bf86              ITTE     HI
0000fa  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fe  f5a36380          SUBHI    r3,r3,#0x400
000102  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L4.262|
000106  f81c3003          LDRB     r3,[r12,r3]
00010a  e7df              B        |L4.204|
                  |L4.268|
00010c  e01d              B        |L4.330|
                  |L4.270|
00010e  f6437310          MOV      r3,#0x3f10
000112  429a              CMP      r2,r3
000114  d305              BCC      |L4.290|
000116  f002000f          AND      r0,r2,#0xf
00011a  4408              ADD      r0,r0,r1
00011c  f890002c          LDRB     r0,[r0,#0x2c]
000120  e7c6              B        |L4.176|
                  |L4.290|
000122  f5b25f7c          CMP      r2,#0x3f00
000126  d3c3              BCC      |L4.176|
000128  f002000f          AND      r0,r2,#0xf
00012c  4408              ADD      r0,r0,r1
00012e  7f00              LDRB     r0,[r0,#0x1c]
000130  e7be              B        |L4.176|
000132  f5a04180          SUB      r1,r0,#0x4000
000136  3916              SUBS     r1,r1,#0x16
000138  bf08              IT       EQ
00013a  2000              MOVEQ    r0,#0
00013c  d039              BEQ      |L4.434|
00013e  f5a04180          SUB      r1,r0,#0x4000
000142  3917              SUBS     r1,r1,#0x17
000144  bf08              IT       EQ
000146  2001              MOVEQ    r0,#1
000148  d033              BEQ      |L4.434|
                  |L4.330|
00014a  0a00              LSRS     r0,r0,#8
                  |L4.332|
;;;6      	uint8_t value = cpu_getmemory(savepc);   
;;;7      
;;;8      	int saveflags=(P & 0x01);   
00014c  7961              LDRB     r1,[r4,#5]  ; P
;;;9      	int sum= ((char) A) + ((char) value) + saveflags;   
00014e  78a3              LDRB     r3,[r4,#2]  ; A
000150  b2c0              UXTB     r0,r0                 ;6
000152  f0010201          AND      r2,r1,#1              ;8
000156  4418              ADD      r0,r0,r3
000158  4410              ADD      r0,r0,r2
;;;10     	if ((sum>0x7f) || (sum<-0x80)) P |= 0x40; else P &= 0xbf;   
00015a  f1000280          ADD      r2,r0,#0x80
00015e  f5b27f80          CMP      r2,#0x100
000162  bf2c              ITE      CS
000164  f0410140          ORRCS    r1,r1,#0x40
000168  f00101bf          ANDCC    r1,r1,#0xbf
00016c  7161              STRB     r1,[r4,#5]
;;;11     	sum= A + value + saveflags;   
;;;12     	if (sum>0xff) P |= 0x01; else P &= 0xfe;   
00016e  28ff              CMP      r0,#0xff
000170  b2c9              UXTB     r1,r1
000172  bfcc              ITE      GT
000174  f0410101          ORRGT    r1,r1,#1
000178  f00101fe          ANDLE    r1,r1,#0xfe
00017c  7161              STRB     r1,[r4,#5]
;;;13     	A=sum;   
00017e  b2c0              UXTB     r0,r0
;;;14     	if (P & 0x08)   
000180  b2c9              UXTB     r1,r1
000182  70a0              STRB     r0,[r4,#2]            ;13
000184  f0110f08          TST      r1,#8
000188  d024              BEQ      |L4.468|
;;;15     	{   
;;;16     		P &= 0xfe;   
00018a  f00101fe          AND      r1,r1,#0xfe
;;;17     		if ((A & 0x0f)>0x09)   
00018e  f000020f          AND      r2,r0,#0xf
000192  7161              STRB     r1,[r4,#5]            ;16
000194  2a09              CMP      r2,#9
000196  bf84              ITT      HI
000198  1d80              ADDHI    r0,r0,#6
;;;18     			A += 0x06;   
00019a  70a0              STRBHI   r0,[r4,#2]
;;;19     		if ((A & 0xf0)>0x90)   
00019c  b2c0              UXTB     r0,r0
00019e  f00002f0          AND      r2,r0,#0xf0
0001a2  2a90              CMP      r2,#0x90
0001a4  d919              BLS      |L4.474|
0001a6  3060              ADDS     r0,r0,#0x60           ;17
;;;20     		{   
;;;21     			A += 0x60;   
0001a8  70a0              STRB     r0,[r4,#2]
;;;22     			P |= 0x01;   
0001aa  f0410001          ORR      r0,r1,#1
0001ae  7160              STRB     r0,[r4,#5]
0001b0  e013              B        |L4.474|
                  |L4.434|
0001b2  f7fffffe          BL       joypad_read
0001b6  e7c9              B        |L4.332|
0001b8  2000              MOVS     r0,#0
0001ba  e7c7              B        |L4.332|
0001bc  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
0001be  4408              ADD      r0,r0,r1
0001c0  f5a04000          SUB      r0,r0,#0x8000
0001c4  7800              LDRB     r0,[r0,#0]
0001c6  e7c1              B        |L4.332|
0001c8  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
0001ca  4408              ADD      r0,r0,r1
0001cc  f5a04040          SUB      r0,r0,#0xc000
                  |L4.464|
0001d0  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001d2  e7bb              B        |L4.332|
                  |L4.468|
;;;23     		}   
;;;24     	}   
;;;25     	else   
;;;26     	{   
;;;27     		cpu_clockticks++;   
0001d4  6a20              LDR      r0,[r4,#0x20]  ; cpu_clockticks
0001d6  1c40              ADDS     r0,r0,#1
0001d8  6220              STR      r0,[r4,#0x20]  ; cpu_clockticks
                  |L4.474|
;;;28     	}   
;;;29     	if (A) P &= 0xfd; else P |= 0x02;   
0001da  78a0              LDRB     r0,[r4,#2]  ; A
0001dc  7961              LDRB     r1,[r4,#5]  ; P
0001de  2800              CMP      r0,#0
0001e0  bf14              ITE      NE
0001e2  f00101fd          ANDNE    r1,r1,#0xfd
0001e6  f0410102          ORREQ    r1,r1,#2
0001ea  7161              STRB     r1,[r4,#5]
;;;30     	if (A & 0x80) P |= 0x80; else P &= 0x7f;   
0001ec  f0100f80          TST      r0,#0x80
0001f0  b2c8              UXTB     r0,r1
0001f2  bf14              ITE      NE
0001f4  f0400080          ORRNE    r0,r0,#0x80
0001f8  f000007f          ANDEQ    r0,r0,#0x7f
0001fc  7160              STRB     r0,[r4,#5]
;;;31     }   
0001fe  bd10              POP      {r4,pc}
;;;32     
                          ENDP

                  |L4.512|
                          DCD      ||.data||
                  |L4.516|
                          DCD      ||.bss||
                  |L4.520|
                          DCD      PPU_Reg
                  |L4.524|
                          DCD      PPU_Latch_Flag
                  |L4.528|
                          DCD      PPU_scanline
                  |L4.532|
                          DCD      Spr_Mem
                  |L4.536|
                          DCD      PPU_Mem

                          AREA ||i.cpu_and||, CODE, READONLY, ALIGN=2

                  cpu_and PROC
;;;32     
;;;33     static inline void cpu_and(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;34     {   
;;;35     	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c63              LDR      r4,|L5.408|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L5.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eb3b3b3          DCB      0x8e,0xb3,0xb3,0xb3
00001c  b5b5b5b5          DCB      0xb5,0xb5,0xb5,0xb5
000020  bbbbbbbb          DCB      0xbb,0xbb,0xbb,0xbb
000024  495d              LDR      r1,|L5.412|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L5.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L5.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4857              LDR      r0,|L5.416|
000044  e0a5              B        |L5.402|
000046  4856              LDR      r0,|L5.416|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L5.330|
00004c  4954              LDR      r1,|L5.416|
00004e  4b55              LDR      r3,|L5.420|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a52              LDR      r2,|L5.424|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L5.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L5.330|
000076  494d              LDR      r1,|L5.428|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L5.330|
000086  494a              LDR      r1,|L5.432|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L5.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L5.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L5.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L5.268|
                  |L5.174|
0000ae  4b3c              LDR      r3,|L5.416|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L5.190|
0000be  e044              B        |L5.330|
                  |L5.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L5.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L5.174|
                  |L5.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L5.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L5.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L5.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L5.202|
                  |L5.266|
00010a  e01d              B        |L5.328|
                  |L5.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L5.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L5.174|
                  |L5.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L5.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L5.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d01b              BEQ      |L5.372|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d015              BEQ      |L5.372|
                  |L5.328|
000148  0a00              LSRS     r0,r0,#8
                  |L5.330|
;;;36     	uint8_t value = cpu_getmemory(savepc);   
;;;37     
;;;38     	A &= value;   
00014a  78a1              LDRB     r1,[r4,#2]  ; A
00014c  b2c0              UXTB     r0,r0                 ;36
00014e  4008              ANDS     r0,r0,r1
000150  70a0              STRB     r0,[r4,#2]
;;;39     	if (A) P &= 0xfd; else P |= 0x02;   
000152  7961              LDRB     r1,[r4,#5]  ; P
000154  bf14              ITE      NE
000156  f00101fd          ANDNE    r1,r1,#0xfd
00015a  f0410102          ORREQ    r1,r1,#2
00015e  7161              STRB     r1,[r4,#5]
;;;40     	if (A & 0x80) P |= 0x80; else P &= 0x7f;   
000160  f0100f80          TST      r0,#0x80
000164  b2c8              UXTB     r0,r1
000166  bf14              ITE      NE
000168  f0400080          ORRNE    r0,r0,#0x80
00016c  f000007f          ANDEQ    r0,r0,#0x7f
000170  7160              STRB     r0,[r4,#5]
;;;41     }   
000172  bd10              POP      {r4,pc}
                  |L5.372|
000174  f7fffffe          BL       joypad_read
000178  e7e7              B        |L5.330|
00017a  2000              MOVS     r0,#0
00017c  e7e5              B        |L5.330|
00017e  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000180  4408              ADD      r0,r0,r1
000182  f5a04000          SUB      r0,r0,#0x8000
000186  7800              LDRB     r0,[r0,#0]
000188  e7df              B        |L5.330|
00018a  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
00018c  4408              ADD      r0,r0,r1
00018e  f5a04040          SUB      r0,r0,#0xc000
                  |L5.402|
000192  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000194  e7d9              B        |L5.330|
;;;42     
                          ENDP

000196  0000              DCW      0x0000
                  |L5.408|
                          DCD      ||.data||
                  |L5.412|
                          DCD      ||.bss||
                  |L5.416|
                          DCD      PPU_Reg
                  |L5.420|
                          DCD      PPU_Latch_Flag
                  |L5.424|
                          DCD      PPU_scanline
                  |L5.428|
                          DCD      Spr_Mem
                  |L5.432|
                          DCD      PPU_Mem

                          AREA ||i.cpu_asl||, CODE, READONLY, ALIGN=2

                  cpu_asl PROC
;;;42     
;;;43     static inline void cpu_asl(CpuAdrMode adrmode)   
000000  b570              PUSH     {r4-r6,lr}
;;;44     {   
;;;45     	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4dff              LDR      r5,|L6.1032|
00000c  4604              MOV      r4,r0
00000e  2910              CMP      r1,#0x10
000010  d27c              BCS      |L6.268|
000012  e8dff001          TBB      [pc,r1]
000016  0808              DCB      0x08,0x08
000018  0d0d8eb4          DCB      0x0d,0x0d,0x8e,0xb4
00001c  b4b4b6b6          DCB      0xb4,0xb4,0xb6,0xb6
000020  b6b6bcbc          DCB      0xb6,0xb6,0xbc,0xbc
000024  bcbc              DCB      0xbc,0xbc
000026  49f9              LDR      r1,|L6.1036|
000028  f3c4000a          UBFX     r0,r4,#0,#11
00002c  5c08              LDRB     r0,[r1,r0]
00002e  e08d              B        |L6.332|
000030  f0040007          AND      r0,r4,#7
000034  2808              CMP      r0,#8
000036  d243              BCS      |L6.192|
000038  e8dff000          TBB      [pc,r0]
00003c  04060988          DCB      0x04,0x06,0x09,0x88
000040  1e888826          DCB      0x1e,0x88,0x88,0x26
000044  48f2              LDR      r0,|L6.1040|
000046  e0a6              B        |L6.406|
000048  48f1              LDR      r0,|L6.1040|
00004a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004c  e07e              B        |L6.332|
00004e  49f0              LDR      r1,|L6.1040|
000050  4bf0              LDR      r3,|L6.1044|
000052  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000054  f0200280          BIC      r2,r0,#0x80
000058  708a              STRB     r2,[r1,#2]
00005a  2200              MOVS     r2,#0
00005c  701a              STRB     r2,[r3,#0]
00005e  4aee              LDR      r2,|L6.1048|
000060  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000062  3a15              SUBS     r2,r2,#0x15
000064  2af1              CMP      r2,#0xf1
000066  d271              BCS      |L6.332|
000068  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006a  f0120f80          TST      r2,#0x80
00006e  bf04              ITT      EQ
000070  f0220203          BICEQ    r2,r2,#3
000074  700a              STRBEQ   r2,[r1,#0]
000076  e069              B        |L6.332|
000078  49e8              LDR      r1,|L6.1052|
00007a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007e  5c88              LDRB     r0,[r1,r2]
000080  1c52              ADDS     r2,r2,#1
000082  f8812100          STRB     r2,[r1,#0x100]
000086  e061              B        |L6.332|
000088  49e5              LDR      r1,|L6.1056|
00008a  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008e  f4124370          ANDS     r3,r2,#0xf000
000092  bf04              ITT      EQ
000094  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000096  5c9b              LDRBEQ   r3,[r3,r2]
000098  d018              BEQ      |L6.204|
00009a  f5b35f80          CMP      r3,#0x1000
00009e  d010              BEQ      |L6.194|
0000a0  f5b35f00          CMP      r3,#0x2000
0000a4  d014              BEQ      |L6.208|
0000a6  f5b35f40          CMP      r3,#0x3000
0000aa  bf18              IT       NE
0000ac  2000              MOVNE    r0,#0
0000ae  d02e              BEQ      |L6.270|
                  |L6.176|
0000b0  4bd7              LDR      r3,|L6.1040|
0000b2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b4  f0130f04          TST      r3,#4
0000b8  bf14              ITE      NE
0000ba  3220              ADDNE    r2,r2,#0x20
0000bc  1c52              ADDEQ    r2,r2,#1
0000be  800a              STRH     r2,[r1,#0]
                  |L6.192|
0000c0  e044              B        |L6.332|
                  |L6.194|
0000c2  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c4  f3c20c0b          UBFX     r12,r2,#0,#12
0000c8  f813300c          LDRB     r3,[r3,r12]
                  |L6.204|
0000cc  708b              STRB     r3,[r1,#2]
0000ce  e7ef              B        |L6.176|
                  |L6.208|
0000d0  f3c2030b          UBFX     r3,r2,#0,#12
0000d4  f5b36f40          CMP      r3,#0xc00
0000d8  bf84              ITT      HI
0000da  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000de  f5a36340          SUBHI    r3,r3,#0xc00
0000e2  d810              BHI      |L6.262|
0000e4  f5b36f00          CMP      r3,#0x800
0000e8  bf84              ITT      HI
0000ea  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ee  f5a36300          SUBHI    r3,r3,#0x800
0000f2  d808              BHI      |L6.262|
0000f4  f5b36f80          CMP      r3,#0x400
0000f8  bf86              ITTE     HI
0000fa  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fe  f5a36380          SUBHI    r3,r3,#0x400
000102  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L6.262|
000106  f81c3003          LDRB     r3,[r12,r3]
00010a  e7df              B        |L6.204|
                  |L6.268|
00010c  e01d              B        |L6.330|
                  |L6.270|
00010e  f6437310          MOV      r3,#0x3f10
000112  429a              CMP      r2,r3
000114  d305              BCC      |L6.290|
000116  f002000f          AND      r0,r2,#0xf
00011a  4408              ADD      r0,r0,r1
00011c  f890002c          LDRB     r0,[r0,#0x2c]
000120  e7c6              B        |L6.176|
                  |L6.290|
000122  f5b25f7c          CMP      r2,#0x3f00
000126  d3c3              BCC      |L6.176|
000128  f002000f          AND      r0,r2,#0xf
00012c  4408              ADD      r0,r0,r1
00012e  7f00              LDRB     r0,[r0,#0x1c]
000130  e7be              B        |L6.176|
000132  f5a04180          SUB      r1,r0,#0x4000
000136  3916              SUBS     r1,r1,#0x16
000138  bf08              IT       EQ
00013a  2000              MOVEQ    r0,#0
00013c  d01c              BEQ      |L6.376|
00013e  f5a04180          SUB      r1,r0,#0x4000
000142  3917              SUBS     r1,r1,#0x17
000144  bf08              IT       EQ
000146  2001              MOVEQ    r0,#1
000148  d016              BEQ      |L6.376|
                  |L6.330|
00014a  0a20              LSRS     r0,r4,#8
                  |L6.332|
;;;46     	uint8_t value = cpu_getmemory(savepc);   
;;;47     	P= (P & 0xfe) | ((value >>7) & 0x01);   
00014c  7969              LDRB     r1,[r5,#5]  ; P
00014e  b2c0              UXTB     r0,r0                 ;46
000150  f00101fe          AND      r1,r1,#0xfe
000154  ea4111d0          ORR      r1,r1,r0,LSR #7
000158  7169              STRB     r1,[r5,#5]
;;;48     	value = value << 1;   
00015a  0640              LSLS     r0,r0,#25
00015c  0e06              LSRS     r6,r0,#24
00015e  f4044170          AND      r1,r4,#0xf000
000162  2200              MOVS     r2,#0
000164  1309              ASRS     r1,r1,#12
;;;49     	cpu_putmemory(savepc,value);   
000166  4630              MOV      r0,r6
000168  2905              CMP      r1,#5
00016a  f0808140          BCS.W    |L6.1006|
00016e  e8dff001          TBB      [pc,r1]
000172  1414              DCB      0x14,0x14
000174  1a1aaa00          DCB      0x1a,0x1a,0xaa,0x00
                  |L6.376|
000178  f7fffffe          BL       joypad_read
00017c  e7e6              B        |L6.332|
00017e  2000              MOVS     r0,#0
000180  e7e4              B        |L6.332|
000182  69a9              LDR      r1,[r5,#0x18]  ; prg_rombank0
000184  1908              ADDS     r0,r1,r4
000186  f5a04000          SUB      r0,r0,#0x8000
00018a  7800              LDRB     r0,[r0,#0]
00018c  e7de              B        |L6.332|
00018e  69e9              LDR      r1,[r5,#0x1c]  ; prg_rombank1
000190  1908              ADDS     r0,r1,r4
000192  f5a04040          SUB      r0,r0,#0xc000
                  |L6.406|
000196  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000198  e7d8              B        |L6.332|
00019a  4a9c              LDR      r2,|L6.1036|
00019c  f3c4010a          UBFX     r1,r4,#0,#11
0001a0  5456              STRB     r6,[r2,r1]
0001a2  f000b924          B.W      |L6.1006|
0001a6  f0040107          AND      r1,r4,#7
0001aa  2908              CMP      r1,#8
0001ac  f080811f          BCS.W    |L6.1006|
0001b0  e8dff001          TBB      [pc,r1]
0001b4  0408880c          DCB      0x04,0x08,0x88,0x0c
0001b8  111c2d37          DCB      0x11,0x1c,0x2d,0x37
0001bc  4994              LDR      r1,|L6.1040|
0001be  700e              STRB     r6,[r1,#0]
0001c0  f000b915          B.W      |L6.1006|
0001c4  4992              LDR      r1,|L6.1040|
0001c6  704e              STRB     r6,[r1,#1]
0001c8  f000b911          B.W      |L6.1006|
0001cc  4993              LDR      r1,|L6.1052|
0001ce  f8816100          STRB     r6,[r1,#0x100]
0001d2  f000b90c          B.W      |L6.1006|
0001d6  4991              LDR      r1,|L6.1052|
0001d8  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0001dc  548e              STRB     r6,[r1,r2]
0001de  f8910100          LDRB     r0,[r1,#0x100]  ; Spr_Mem
0001e2  1c40              ADDS     r0,r0,#1
0001e4  f8810100          STRB     r0,[r1,#0x100]
0001e8  f000b901          B.W      |L6.1006|
0001ec  4989              LDR      r1,|L6.1044|
0001ee  780a              LDRB     r2,[r1,#0]  ; PPU_Latch_Flag
0001f0  2a00              CMP      r2,#0
0001f2  bf04              ITT      EQ
0001f4  4b8b              LDREQ    r3,|L6.1060|
0001f6  701e              STRBEQ   r6,[r3,#0]
0001f8  d004              BEQ      |L6.516|
0001fa  28ef              CMP      r0,#0xef
0001fc  bf88              IT       HI
0001fe  2000              MOVHI    r0,#0
000200  4b89              LDR      r3,|L6.1064|
000202  7018              STRB     r0,[r3,#0]
                  |L6.516|
000204  f0820001          EOR      r0,r2,#1
000208  7008              STRB     r0,[r1,#0]
00020a  f000b8f0          B.W      |L6.1006|
00020e  4984              LDR      r1,|L6.1056|
000210  780a              LDRB     r2,[r1,#0]  ; PPU_Mem
000212  eb062002          ADD      r0,r6,r2,LSL #8
000216  8008              STRH     r0,[r1,#0]
000218  487e              LDR      r0,|L6.1044|
00021a  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
00021c  f0810101          EOR      r1,r1,#1
000220  e0e4              B        |L6.1004|
000222  4c7f              LDR      r4,|L6.1056|
000224  8821              LDRH     r1,[r4,#0]  ; PPU_Mem
000226  f4114270          ANDS     r2,r1,#0xf000
00022a  bf18              IT       NE
00022c  f5b25f80          CMPNE    r2,#0x1000
000230  d03f              BEQ      |L6.690|
000232  f5b25f00          CMP      r2,#0x2000
000236  d003              BEQ      |L6.576|
000238  f5b25f40          CMP      r2,#0x3000
00023c  d019              BEQ      |L6.626|
00023e  e038              B        |L6.690|
                  |L6.576|
000240  f3c1010b          UBFX     r1,r1,#0,#12
000244  f5b16f40          CMP      r1,#0xc00
000248  bf84              ITT      HI
00024a  69a2              LDRHI    r2,[r4,#0x18]  ; PPU_Mem
00024c  f5a16140          SUBHI    r1,r1,#0xc00
000250  d80d              BHI      |L6.622|
000252  f5b16f00          CMP      r1,#0x800
000256  bf84              ITT      HI
000258  6962              LDRHI    r2,[r4,#0x14]  ; PPU_Mem
00025a  f5a16100          SUBHI    r1,r1,#0x800
00025e  d806              BHI      |L6.622|
000260  f5b16f80          CMP      r1,#0x400
000264  bf86              ITTE     HI
000266  6922              LDRHI    r2,[r4,#0x10]  ; PPU_Mem
000268  f5a16180          SUBHI    r1,r1,#0x400
00026c  68e2              LDRLS    r2,[r4,#0xc]  ; PPU_Mem
                  |L6.622|
00026e  5456              STRB     r6,[r2,r1]
000270  e01f              B        |L6.690|
                  |L6.626|
000272  f001021f          AND      r2,r1,#0x1f
000276  f001010f          AND      r1,r1,#0xf
00027a  2a0f              CMP      r2,#0xf
00027c  4421              ADD      r1,r1,r4
00027e  d915              BLS      |L6.684|
000280  f881002c          STRB     r0,[r1,#0x2c]
000284  7821              LDRB     r1,[r4,#0]  ; PPU_Mem
000286  f0110f03          TST      r1,#3
00028a  d112              BNE      |L6.690|
00028c  7720              STRB     r0,[r4,#0x1c]
00028e  f884002c          STRB     r0,[r4,#0x2c]
000292  f8840020          STRB     r0,[r4,#0x20]
000296  f8840030          STRB     r0,[r4,#0x30]
00029a  f8840024          STRB     r0,[r4,#0x24]
00029e  f8840034          STRB     r0,[r4,#0x34]
0002a2  f8840028          STRB     r0,[r4,#0x28]
0002a6  f8840038          STRB     r0,[r4,#0x38]
0002aa  e002              B        |L6.690|
                  |L6.684|
0002ac  770e              STRB     r6,[r1,#0x1c]
0002ae  f7fffffe          BL       premap_palette
                  |L6.690|
0002b2  4857              LDR      r0,|L6.1040|
0002b4  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002b6  f0100f04          TST      r0,#4
0002ba  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
0002bc  bf14              ITE      NE
0002be  3020              ADDNE    r0,r0,#0x20
0002c0  1c40              ADDEQ    r0,r0,#1
0002c2  8020              STRH     r0,[r4,#0]
0002c4  e093              B        |L6.1006|
0002c6  f5a44180          SUB      r1,r4,#0x4000
0002ca  3914              SUBS     r1,r1,#0x14
0002cc  d004              BEQ      |L6.728|
0002ce  f5a44180          SUB      r1,r4,#0x4000
0002d2  3916              SUBS     r1,r1,#0x16
0002d4  d03d              BEQ      |L6.850|
0002d6  e08a              B        |L6.1006|
                  |L6.728|
0002d8  6a29              LDR      r1,[r5,#0x20]  ; cpu_clockticks
0002da  0902              LSRS     r2,r0,#4
0002dc  f5a17100          SUB      r1,r1,#0x200
0002e0  6229              STR      r1,[r5,#0x20]  ; cpu_clockticks
0002e2  2100              MOVS     r1,#0
0002e4  2a10              CMP      r2,#0x10
0002e6  d218              BCS      |L6.794|
0002e8  e8dff002          TBB      [pc,r2]
0002ec  08081717          DCB      0x08,0x08,0x17,0x17
0002f0  17178181          DCB      0x17,0x17,0x81,0x81
0002f4  0c0c0c0c          DCB      0x0c,0x0c,0x0c,0x0c
0002f8  12121212          DCB      0x12,0x12,0x12,0x12
0002fc  4943              LDR      r1,|L6.1036|
0002fe  eb012106          ADD      r1,r1,r6,LSL #8
000302  e00a              B        |L6.794|
000304  69a9              LDR      r1,[r5,#0x18]  ; prg_rombank0
000306  eb012006          ADD      r0,r1,r6,LSL #8
00030a  f5a04100          SUB      r1,r0,#0x8000
00030e  e004              B        |L6.794|
000310  69e9              LDR      r1,[r5,#0x1c]  ; prg_rombank1
000312  eb012006          ADD      r0,r1,r6,LSL #8
000316  f5a04140          SUB      r1,r0,#0xc000
                  |L6.794|
00031a  4b40              LDR      r3,|L6.1052|
00031c  1a58              SUBS     r0,r3,r1
00031e  2800              CMP      r0,#0
000320  dd04              BLE      |L6.812|
000322  f5b07f80          CMP      r0,#0x100
000326  bfb8              IT       LT
000328  2000              MOVLT    r0,#0
00032a  db05              BLT      |L6.824|
                  |L6.812|
00032c  f44f7280          MOV      r2,#0x100
000330  483a              LDR      r0,|L6.1052|
000332  f7fffffe          BL       __aeabi_memmove
000336  e05a              B        |L6.1006|
                  |L6.824|
000338  5c0a              LDRB     r2,[r1,r0]
00033a  541a              STRB     r2,[r3,r0]
00033c  180a              ADDS     r2,r1,r0
00033e  f892c001          LDRB     r12,[r2,#1]
000342  181a              ADDS     r2,r3,r0
000344  1c80              ADDS     r0,r0,#2
000346  f882c001          STRB     r12,[r2,#1]
00034a  f5b07f80          CMP      r0,#0x100
00034e  dbf3              BLT      |L6.824|
000350  e04d              B        |L6.1006|
                  |L6.850|
000352  0031              MOVS     r1,r6
000354  d049              BEQ      |L6.1002|
000356  4835              LDR      r0,|L6.1068|
000358  7002              STRB     r2,[r0,#0]
00035a  4835              LDR      r0,|L6.1072|
00035c  6900              LDR      r0,[r0,#0x10]
00035e  43c0              MVNS     r0,r0
000360  b282              UXTH     r2,r0
000362  4834              LDR      r0,|L6.1076|
000364  8803              LDRH     r3,[r0,#0]  ; joys
000366  f5b36f40          CMP      r3,#0xc00
00036a  bf94              ITE      LS
00036c  f04f0c00          MOVLS    r12,#0
000370  f04f0c01          MOVHI    r12,#1
000374  ea42420c          ORR      r2,r2,r12,LSL #16
000378  f5b36f80          CMP      r3,#0x400
00037c  bf34              ITE      CC
00037e  2301              MOVCC    r3,#1
000380  2300              MOVCS    r3,#0
000382  ea424243          ORR      r2,r2,r3,LSL #17
000386  8843              LDRH     r3,[r0,#2]  ; joys
000388  f5b36f40          CMP      r3,#0xc00
00038c  bf8c              ITE      HI
00038e  f04f0c01          MOVHI    r12,#1
000392  f04f0c00          MOVLS    r12,#0
000396  ea42428c          ORR      r2,r2,r12,LSL #18
00039a  f5b36f80          CMP      r3,#0x400
00039e  bf34              ITE      CC
0003a0  2301              MOVCC    r3,#1
0003a2  2300              MOVCS    r3,#0
0003a4  ea4243c3          ORR      r3,r2,r3,LSL #19
0003a8  88c2              LDRH     r2,[r0,#6]  ; joys
0003aa  f5b26f40          CMP      r2,#0xc00
0003ae  bf8c              ITE      HI
0003b0  f04f0c01          MOVHI    r12,#1
0003b4  f04f0c00          MOVLS    r12,#0
0003b8  ea43530c          ORR      r3,r3,r12,LSL #20
0003bc  f5b26f80          CMP      r2,#0x400
0003c0  bf34              ITE      CC
0003c2  2201              MOVCC    r2,#1
0003c4  2200              MOVCS    r2,#0
0003c6  ea435242          ORR      r2,r3,r2,LSL #21
0003ca  8880              LDRH     r0,[r0,#4]  ; joys
0003cc  f5b06f40          CMP      r0,#0xc00
0003d0  bf8c              ITE      HI
0003d2  2301              MOVHI    r3,#1
0003d4  2300              MOVLS    r3,#0
0003d6  ea425283          ORR      r2,r2,r3,LSL #22
0003da  f5b06f80          CMP      r0,#0x400
0003de  bf34              ITE      CC
0003e0  2001              MOVCC    r0,#1
0003e2  2000              MOVCS    r0,#0
0003e4  ea4250c0          ORR      r0,r2,r0,LSL #23
0003e8  6168              STR      r0,[r5,#0x14]  ; joypad_state
                  |L6.1002|
0003ea  4813              LDR      r0,|L6.1080|
                  |L6.1004|
0003ec  7001              STRB     r1,[r0,#0]
                  |L6.1006|
;;;50     	if (value) P &= 0xfd; else P |= 0x02;   
0003ee  7968              LDRB     r0,[r5,#5]  ; P
0003f0  2e00              CMP      r6,#0
0003f2  bf14              ITE      NE
0003f4  f00000fd          ANDNE    r0,r0,#0xfd
0003f8  f0400002          ORREQ    r0,r0,#2
0003fc  7168              STRB     r0,[r5,#5]
;;;51     	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
0003fe  f0160f80          TST      r6,#0x80
000402  b2c0              UXTB     r0,r0
000404  e01a              B        |L6.1084|
000406  0000              DCW      0x0000
                  |L6.1032|
                          DCD      ||.data||
                  |L6.1036|
                          DCD      ||.bss||
                  |L6.1040|
                          DCD      PPU_Reg
                  |L6.1044|
                          DCD      PPU_Latch_Flag
                  |L6.1048|
                          DCD      PPU_scanline
                  |L6.1052|
                          DCD      Spr_Mem
                  |L6.1056|
                          DCD      PPU_Mem
                  |L6.1060|
                          DCD      PPU_BG_HScrlOrg
                  |L6.1064|
                          DCD      PPU_BG_VScrlOrg
                  |L6.1068|
                          DCD      ||.data||+0x9
                  |L6.1072|
                          DCD      0x40021000
                  |L6.1076|
                          DCD      joys
                  |L6.1080|
                          DCD      ||.data||+0xb
                  |L6.1084|
00043c  bf14              ITE      NE
00043e  f0400080          ORRNE    r0,r0,#0x80
000442  f000007f          ANDEQ    r0,r0,#0x7f
000446  7168              STRB     r0,[r5,#5]
;;;52     }   
000448  bd70              POP      {r4-r6,pc}
;;;53     
                          ENDP


                          AREA ||i.cpu_bit||, CODE, READONLY, ALIGN=2

                  cpu_bit PROC
;;;98     
;;;99     static inline void cpu_bit(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;100    {   
;;;101    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c60              LDR      r4,|L7.396|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L7.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eaeaeae          DCB      0x8e,0xae,0xae,0xae
00001c  b0b0b0b0          DCB      0xb0,0xb0,0xb0,0xb0
000020  b6b6b6b6          DCB      0xb6,0xb6,0xb6,0xb6
000024  495a              LDR      r1,|L7.400|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L7.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L7.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4854              LDR      r0,|L7.404|
000044  e0a0              B        |L7.392|
000046  4853              LDR      r0,|L7.404|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L7.330|
00004c  4951              LDR      r1,|L7.404|
00004e  4b52              LDR      r3,|L7.408|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a4f              LDR      r2,|L7.412|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L7.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L7.330|
000076  494a              LDR      r1,|L7.416|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L7.330|
000086  4947              LDR      r1,|L7.420|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L7.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L7.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L7.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L7.268|
                  |L7.174|
0000ae  4b39              LDR      r3,|L7.404|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L7.190|
0000be  e044              B        |L7.330|
                  |L7.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L7.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L7.174|
                  |L7.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L7.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L7.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L7.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L7.202|
                  |L7.266|
00010a  e01d              B        |L7.328|
                  |L7.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L7.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L7.174|
                  |L7.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L7.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L7.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d016              BEQ      |L7.362|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d010              BEQ      |L7.362|
                  |L7.328|
000148  0a00              LSRS     r0,r0,#8
                  |L7.330|
;;;102    	uint8_t value = cpu_getmemory(savepc);   
;;;103    
;;;104    /* non-destrucive logically And between value and the accumulator  
;;;105    * and set zero flag */   
;;;106    	if (value & A) P &= 0xfd; else P |= 0x02;   
00014a  78a1              LDRB     r1,[r4,#2]  ; A
00014c  b2c0              UXTB     r0,r0                 ;102
00014e  4208              TST      r0,r1
000150  7961              LDRB     r1,[r4,#5]  ; P
000152  bf14              ITE      NE
000154  f00101fd          ANDNE    r1,r1,#0xfd
000158  f0410102          ORREQ    r1,r1,#2
;;;107    
;;;108    /* set negative and overflow flags from value */   
;;;109    	P = (P & 0x3f) | (value & 0xc0);   
00015c  f001013f          AND      r1,r1,#0x3f
000160  f00000c0          AND      r0,r0,#0xc0
000164  4308              ORRS     r0,r0,r1
000166  7160              STRB     r0,[r4,#5]
;;;110    }   
000168  bd10              POP      {r4,pc}
                  |L7.362|
00016a  f7fffffe          BL       joypad_read
00016e  e7ec              B        |L7.330|
000170  2000              MOVS     r0,#0
000172  e7ea              B        |L7.330|
000174  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000176  4408              ADD      r0,r0,r1
000178  f5a04000          SUB      r0,r0,#0x8000
00017c  7800              LDRB     r0,[r0,#0]
00017e  e7e4              B        |L7.330|
000180  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000182  4408              ADD      r0,r0,r1
000184  f5a04040          SUB      r0,r0,#0xc000
                  |L7.392|
000188  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
00018a  e7de              B        |L7.330|
;;;111    
                          ENDP

                  |L7.396|
                          DCD      ||.data||
                  |L7.400|
                          DCD      ||.bss||
                  |L7.404|
                          DCD      PPU_Reg
                  |L7.408|
                          DCD      PPU_Latch_Flag
                  |L7.412|
                          DCD      PPU_scanline
                  |L7.416|
                          DCD      Spr_Mem
                  |L7.420|
                          DCD      PPU_Mem

                          AREA ||i.cpu_cmp||, CODE, READONLY, ALIGN=2

                  cpu_cmp PROC
;;;209    
;;;210    static inline void cpu_cmp(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;211    {   
;;;212    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c68              LDR      r4,|L8.428|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L8.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8ebebebe          DCB      0x8e,0xbe,0xbe,0xbe
00001c  c0c0c0c0          DCB      0xc0,0xc0,0xc0,0xc0
000020  c6c6c6c6          DCB      0xc6,0xc6,0xc6,0xc6
000024  4962              LDR      r1,|L8.432|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L8.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L8.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  485c              LDR      r0,|L8.436|
000044  e0b0              B        |L8.424|
000046  485b              LDR      r0,|L8.436|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L8.330|
00004c  4959              LDR      r1,|L8.436|
00004e  4b5a              LDR      r3,|L8.440|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a57              LDR      r2,|L8.444|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L8.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L8.330|
000076  4952              LDR      r1,|L8.448|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L8.330|
000086  494f              LDR      r1,|L8.452|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L8.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L8.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L8.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L8.268|
                  |L8.174|
0000ae  4b41              LDR      r3,|L8.436|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L8.190|
0000be  e044              B        |L8.330|
                  |L8.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L8.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L8.174|
                  |L8.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L8.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L8.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L8.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L8.202|
                  |L8.266|
00010a  e01d              B        |L8.328|
                  |L8.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L8.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L8.174|
                  |L8.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L8.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L8.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d026              BEQ      |L8.394|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d020              BEQ      |L8.394|
                  |L8.328|
000148  0a00              LSRS     r0,r0,#8
                  |L8.330|
;;;213    	uint8_t value = cpu_getmemory(savepc);   
;;;214    	if (A+0x100-value>0xff) P |= 0x01; else P &= 0xfe;   
00014a  78a1              LDRB     r1,[r4,#2]  ; A
00014c  b2c0              UXTB     r0,r0                 ;213
00014e  1a08              SUBS     r0,r1,r0
000150  f5007080          ADD      r0,r0,#0x100
000154  7961              LDRB     r1,[r4,#5]  ; P
000156  28ff              CMP      r0,#0xff
000158  bfcc              ITE      GT
00015a  f0410101          ORRGT    r1,r1,#1
00015e  f00101fe          ANDLE    r1,r1,#0xfe
000162  7161              STRB     r1,[r4,#5]
;;;215    	value=A+0x100-value;   
000164  f01000ff          ANDS     r0,r0,#0xff
;;;216    	if (value) P &= 0xfd; else P |= 0x02;   
000168  b2c9              UXTB     r1,r1
00016a  bf14              ITE      NE
00016c  f00101fd          ANDNE    r1,r1,#0xfd
000170  f0410102          ORREQ    r1,r1,#2
000174  7161              STRB     r1,[r4,#5]
;;;217    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000176  f0100f80          TST      r0,#0x80
00017a  b2c8              UXTB     r0,r1
00017c  bf14              ITE      NE
00017e  f0400080          ORRNE    r0,r0,#0x80
000182  f000007f          ANDEQ    r0,r0,#0x7f
000186  7160              STRB     r0,[r4,#5]
;;;218    }   
000188  bd10              POP      {r4,pc}
                  |L8.394|
00018a  f7fffffe          BL       joypad_read
00018e  e7dc              B        |L8.330|
000190  2000              MOVS     r0,#0
000192  e7da              B        |L8.330|
000194  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000196  4408              ADD      r0,r0,r1
000198  f5a04000          SUB      r0,r0,#0x8000
00019c  7800              LDRB     r0,[r0,#0]
00019e  e7d4              B        |L8.330|
0001a0  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
0001a2  4408              ADD      r0,r0,r1
0001a4  f5a04040          SUB      r0,r0,#0xc000
                  |L8.424|
0001a8  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001aa  e7ce              B        |L8.330|
;;;219    
                          ENDP

                  |L8.428|
                          DCD      ||.data||
                  |L8.432|
                          DCD      ||.bss||
                  |L8.436|
                          DCD      PPU_Reg
                  |L8.440|
                          DCD      PPU_Latch_Flag
                  |L8.444|
                          DCD      PPU_scanline
                  |L8.448|
                          DCD      Spr_Mem
                  |L8.452|
                          DCD      PPU_Mem

                          AREA ||i.cpu_cpx||, CODE, READONLY, ALIGN=2

                  cpu_cpx PROC
;;;219    
;;;220    static inline void cpu_cpx(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;221    {   
;;;222    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c68              LDR      r4,|L9.428|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L9.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8ebebebe          DCB      0x8e,0xbe,0xbe,0xbe
00001c  c0c0c0c0          DCB      0xc0,0xc0,0xc0,0xc0
000020  c6c6c6c6          DCB      0xc6,0xc6,0xc6,0xc6
000024  4962              LDR      r1,|L9.432|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L9.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L9.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  485c              LDR      r0,|L9.436|
000044  e0b0              B        |L9.424|
000046  485b              LDR      r0,|L9.436|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L9.330|
00004c  4959              LDR      r1,|L9.436|
00004e  4b5a              LDR      r3,|L9.440|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a57              LDR      r2,|L9.444|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L9.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L9.330|
000076  4952              LDR      r1,|L9.448|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L9.330|
000086  494f              LDR      r1,|L9.452|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L9.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L9.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L9.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L9.268|
                  |L9.174|
0000ae  4b41              LDR      r3,|L9.436|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L9.190|
0000be  e044              B        |L9.330|
                  |L9.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L9.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L9.174|
                  |L9.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L9.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L9.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L9.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L9.202|
                  |L9.266|
00010a  e01d              B        |L9.328|
                  |L9.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L9.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L9.174|
                  |L9.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L9.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L9.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d026              BEQ      |L9.394|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d020              BEQ      |L9.394|
                  |L9.328|
000148  0a00              LSRS     r0,r0,#8
                  |L9.330|
;;;223    	uint8_t value = cpu_getmemory(savepc);   
;;;224    	if (X+0x100-value>0xff) P |= 0x01; else P &= 0xfe;   
00014a  78e1              LDRB     r1,[r4,#3]  ; X
00014c  b2c0              UXTB     r0,r0                 ;223
00014e  1a08              SUBS     r0,r1,r0
000150  f5007080          ADD      r0,r0,#0x100
000154  7961              LDRB     r1,[r4,#5]  ; P
000156  28ff              CMP      r0,#0xff
000158  bfcc              ITE      GT
00015a  f0410101          ORRGT    r1,r1,#1
00015e  f00101fe          ANDLE    r1,r1,#0xfe
000162  7161              STRB     r1,[r4,#5]
;;;225    	value=X+0x100-value;   
000164  f01000ff          ANDS     r0,r0,#0xff
;;;226    	if (value) P &= 0xfd; else P |= 0x02;   
000168  b2c9              UXTB     r1,r1
00016a  bf14              ITE      NE
00016c  f00101fd          ANDNE    r1,r1,#0xfd
000170  f0410102          ORREQ    r1,r1,#2
000174  7161              STRB     r1,[r4,#5]
;;;227    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000176  f0100f80          TST      r0,#0x80
00017a  b2c8              UXTB     r0,r1
00017c  bf14              ITE      NE
00017e  f0400080          ORRNE    r0,r0,#0x80
000182  f000007f          ANDEQ    r0,r0,#0x7f
000186  7160              STRB     r0,[r4,#5]
;;;228    }   
000188  bd10              POP      {r4,pc}
                  |L9.394|
00018a  f7fffffe          BL       joypad_read
00018e  e7dc              B        |L9.330|
000190  2000              MOVS     r0,#0
000192  e7da              B        |L9.330|
000194  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000196  4408              ADD      r0,r0,r1
000198  f5a04000          SUB      r0,r0,#0x8000
00019c  7800              LDRB     r0,[r0,#0]
00019e  e7d4              B        |L9.330|
0001a0  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
0001a2  4408              ADD      r0,r0,r1
0001a4  f5a04040          SUB      r0,r0,#0xc000
                  |L9.424|
0001a8  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001aa  e7ce              B        |L9.330|
;;;229    
                          ENDP

                  |L9.428|
                          DCD      ||.data||
                  |L9.432|
                          DCD      ||.bss||
                  |L9.436|
                          DCD      PPU_Reg
                  |L9.440|
                          DCD      PPU_Latch_Flag
                  |L9.444|
                          DCD      PPU_scanline
                  |L9.448|
                          DCD      Spr_Mem
                  |L9.452|
                          DCD      PPU_Mem

                          AREA ||i.cpu_cpy||, CODE, READONLY, ALIGN=2

                  cpu_cpy PROC
;;;229    
;;;230    static inline void cpu_cpy(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;231    {   
;;;232    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c68              LDR      r4,|L10.428|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L10.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8ebebebe          DCB      0x8e,0xbe,0xbe,0xbe
00001c  c0c0c0c0          DCB      0xc0,0xc0,0xc0,0xc0
000020  c6c6c6c6          DCB      0xc6,0xc6,0xc6,0xc6
000024  4962              LDR      r1,|L10.432|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L10.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L10.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  485c              LDR      r0,|L10.436|
000044  e0b0              B        |L10.424|
000046  485b              LDR      r0,|L10.436|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L10.330|
00004c  4959              LDR      r1,|L10.436|
00004e  4b5a              LDR      r3,|L10.440|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a57              LDR      r2,|L10.444|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L10.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L10.330|
000076  4952              LDR      r1,|L10.448|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L10.330|
000086  494f              LDR      r1,|L10.452|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L10.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L10.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L10.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L10.268|
                  |L10.174|
0000ae  4b41              LDR      r3,|L10.436|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L10.190|
0000be  e044              B        |L10.330|
                  |L10.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L10.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L10.174|
                  |L10.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L10.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L10.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L10.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L10.202|
                  |L10.266|
00010a  e01d              B        |L10.328|
                  |L10.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L10.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L10.174|
                  |L10.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L10.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L10.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d026              BEQ      |L10.394|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d020              BEQ      |L10.394|
                  |L10.328|
000148  0a00              LSRS     r0,r0,#8
                  |L10.330|
;;;233    	uint8_t value = cpu_getmemory(savepc);   
;;;234    	if (Y+0x100-value>0xff) P |= 0x01; else P &= 0xfe;   
00014a  7921              LDRB     r1,[r4,#4]  ; Y
00014c  b2c0              UXTB     r0,r0                 ;233
00014e  1a08              SUBS     r0,r1,r0
000150  f5007080          ADD      r0,r0,#0x100
000154  7961              LDRB     r1,[r4,#5]  ; P
000156  28ff              CMP      r0,#0xff
000158  bfcc              ITE      GT
00015a  f0410101          ORRGT    r1,r1,#1
00015e  f00101fe          ANDLE    r1,r1,#0xfe
000162  7161              STRB     r1,[r4,#5]
;;;235    	value=Y+0x100-value;   
000164  f01000ff          ANDS     r0,r0,#0xff
;;;236    	if (value) P &= 0xfd; else P |= 0x02;   
000168  b2c9              UXTB     r1,r1
00016a  bf14              ITE      NE
00016c  f00101fd          ANDNE    r1,r1,#0xfd
000170  f0410102          ORREQ    r1,r1,#2
000174  7161              STRB     r1,[r4,#5]
;;;237    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000176  f0100f80          TST      r0,#0x80
00017a  b2c8              UXTB     r0,r1
00017c  bf14              ITE      NE
00017e  f0400080          ORRNE    r0,r0,#0x80
000182  f000007f          ANDEQ    r0,r0,#0x7f
000186  7160              STRB     r0,[r4,#5]
;;;238    }   
000188  bd10              POP      {r4,pc}
                  |L10.394|
00018a  f7fffffe          BL       joypad_read
00018e  e7dc              B        |L10.330|
000190  2000              MOVS     r0,#0
000192  e7da              B        |L10.330|
000194  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000196  4408              ADD      r0,r0,r1
000198  f5a04000          SUB      r0,r0,#0x8000
00019c  7800              LDRB     r0,[r0,#0]
00019e  e7d4              B        |L10.330|
0001a0  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
0001a2  4408              ADD      r0,r0,r1
0001a4  f5a04040          SUB      r0,r0,#0xc000
                  |L10.424|
0001a8  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001aa  e7ce              B        |L10.330|
;;;239    
                          ENDP

                  |L10.428|
                          DCD      ||.data||
                  |L10.432|
                          DCD      ||.bss||
                  |L10.436|
                          DCD      PPU_Reg
                  |L10.440|
                          DCD      PPU_Latch_Flag
                  |L10.444|
                          DCD      PPU_scanline
                  |L10.448|
                          DCD      Spr_Mem
                  |L10.452|
                          DCD      PPU_Mem

                          AREA ||i.cpu_debug_print||, CODE, READONLY, ALIGN=2

                  cpu_debug_print PROC
;;;172    #endif		/* __LCD_MAIN_H */
;;;200    void cpu_debug_print(uint8_t line) {
000000  b570              PUSH     {r4-r6,lr}
000002  4604              MOV      r4,r0
;;;201    	tft_printc(0, line, "A  X  Y  P  S  PC   NQ *PC");
000004  4601              MOV      r1,r0
000006  a2f9              ADR      r2,|L11.1004|
000008  2000              MOVS     r0,#0
00000a  f7fffffe          BL       tft_printc
;;;202    	tft_printc(30, line, (char*)opcode_names[opcode]);
00000e  48fe              LDR      r0,|L11.1032|
000010  f1a00524          SUB      r5,r0,#0x24
000014  79e9              LDRB     r1,[r5,#7]  ; opcode
000016  f8502021          LDR      r2,[r0,r1,LSL #2]
00001a  4621              MOV      r1,r4
00001c  201e              MOVS     r0,#0x1e
00001e  f7fffffe          BL       tft_printc
000022  1c64              ADDS     r4,r4,#1
;;;203    
;;;204    	tft_printh(0,  line+1, A, 8);
000024  b2e1              UXTB     r1,r4
000026  2308              MOVS     r3,#8
000028  78aa              LDRB     r2,[r5,#2]  ; A
00002a  2000              MOVS     r0,#0
00002c  f7fffffe          BL       tft_printh
;;;205    	tft_printh(3,  line+1, X, 8);
000030  b2e1              UXTB     r1,r4
000032  2308              MOVS     r3,#8
000034  78ea              LDRB     r2,[r5,#3]  ; X
000036  2003              MOVS     r0,#3
000038  f7fffffe          BL       tft_printh
;;;206    	tft_printh(6,  line+1, Y, 8);
00003c  b2e1              UXTB     r1,r4
00003e  2308              MOVS     r3,#8
000040  792a              LDRB     r2,[r5,#4]  ; Y
000042  2006              MOVS     r0,#6
000044  f7fffffe          BL       tft_printh
;;;207    	tft_printh(9,  line+1, P, 8);
000048  b2e1              UXTB     r1,r4
00004a  2308              MOVS     r3,#8
00004c  796a              LDRB     r2,[r5,#5]  ; P
00004e  2009              MOVS     r0,#9
000050  f7fffffe          BL       tft_printh
;;;208    	tft_printh(12, line+1, S, 8);
000054  b2e1              UXTB     r1,r4
000056  2308              MOVS     r3,#8
000058  79aa              LDRB     r2,[r5,#6]  ; S
00005a  200c              MOVS     r0,#0xc
00005c  f7fffffe          BL       tft_printh
;;;209    	tft_printh(15, line+1, PC, 16);
000060  b2e1              UXTB     r1,r4
000062  2310              MOVS     r3,#0x10
000064  89ea              LDRH     r2,[r5,#0xe]  ; PC
000066  200f              MOVS     r0,#0xf
000068  f7fffffe          BL       tft_printh
;;;210    	tft_printb(20, line+1, NMI_Flag, 1);
00006c  b2e1              UXTB     r1,r4
00006e  2301              MOVS     r3,#1
000070  782a              LDRB     r2,[r5,#0]  ; NMI_Flag
000072  2014              MOVS     r0,#0x14
000074  f7fffffe          BL       tft_printb
;;;211    	tft_printb(21, line+1, IRQ_Flag, 1);
000078  b2e1              UXTB     r1,r4
00007a  2301              MOVS     r3,#1
00007c  786a              LDRB     r2,[r5,#1]  ; IRQ_Flag
00007e  2015              MOVS     r0,#0x15
000080  f7fffffe          BL       tft_printb
;;;212    	
;;;213    	tft_printh(23, line+1, cpu_getmemory(PC),   8);
000084  89e8              LDRH     r0,[r5,#0xe]  ; PC
000086  f4004170          AND      r1,r0,#0xf000
00008a  1309              ASRS     r1,r1,#12
00008c  2910              CMP      r1,#0x10
00008e  d27c              BCS      |L11.394|
000090  e8dff001          TBB      [pc,r1]
000094  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000098  8eb9b9b9          DCB      0x8e,0xb9,0xb9,0xb9
00009c  bbbbbbbb          DCB      0xbb,0xbb,0xbb,0xbb
0000a0  c2c2c2c2          DCB      0xc2,0xc2,0xc2,0xc2
0000a4  49d9              LDR      r1,|L11.1036|
0000a6  f3c0000a          UBFX     r0,r0,#0,#11
0000aa  5c0a              LDRB     r2,[r1,r0]
0000ac  e089              B        |L11.450|
0000ae  f0000207          AND      r2,r0,#7
0000b2  2a08              CMP      r2,#8
0000b4  d243              BCS      |L11.318|
0000b6  e8dff002          TBB      [pc,r2]
0000ba  0406              DCB      0x04,0x06
0000bc  09841e84          DCB      0x09,0x84,0x1e,0x84
0000c0  8426              DCB      0x84,0x26
0000c2  48d3              LDR      r0,|L11.1040|
0000c4  e0ad              B        |L11.546|
0000c6  48d2              LDR      r0,|L11.1040|
0000c8  7842              LDRB     r2,[r0,#1]  ; PPU_Reg
0000ca  e07a              B        |L11.450|
0000cc  48d0              LDR      r0,|L11.1040|
0000ce  4bd1              LDR      r3,|L11.1044|
0000d0  7882              LDRB     r2,[r0,#2]  ; PPU_Reg
0000d2  f0220180          BIC      r1,r2,#0x80
0000d6  7081              STRB     r1,[r0,#2]
0000d8  2100              MOVS     r1,#0
0000da  7019              STRB     r1,[r3,#0]
0000dc  49ce              LDR      r1,|L11.1048|
0000de  6809              LDR      r1,[r1,#0]  ; PPU_scanline
0000e0  3915              SUBS     r1,r1,#0x15
0000e2  29f1              CMP      r1,#0xf1
0000e4  d26d              BCS      |L11.450|
0000e6  7801              LDRB     r1,[r0,#0]  ; PPU_Reg
0000e8  f0110f80          TST      r1,#0x80
0000ec  bf04              ITT      EQ
0000ee  f0210103          BICEQ    r1,r1,#3
0000f2  7001              STRBEQ   r1,[r0,#0]
0000f4  e065              B        |L11.450|
0000f6  48c9              LDR      r0,|L11.1052|
0000f8  f8901100          LDRB     r1,[r0,#0x100]  ; Spr_Mem
0000fc  5c42              LDRB     r2,[r0,r1]
0000fe  1c49              ADDS     r1,r1,#1
000100  f8801100          STRB     r1,[r0,#0x100]
000104  e05d              B        |L11.450|
000106  48c6              LDR      r0,|L11.1056|
000108  8801              LDRH     r1,[r0,#0]  ; PPU_Mem
00010a  7882              LDRB     r2,[r0,#2]  ; PPU_Mem
00010c  f4114370          ANDS     r3,r1,#0xf000
000110  bf04              ITT      EQ
000112  6843              LDREQ    r3,[r0,#4]  ; PPU_Mem
000114  5c5b              LDRBEQ   r3,[r3,r1]
000116  d018              BEQ      |L11.330|
000118  f5b35f80          CMP      r3,#0x1000
00011c  d010              BEQ      |L11.320|
00011e  f5b35f00          CMP      r3,#0x2000
000122  d014              BEQ      |L11.334|
000124  f5b35f40          CMP      r3,#0x3000
000128  bf18              IT       NE
00012a  2200              MOVNE    r2,#0
00012c  d02e              BEQ      |L11.396|
                  |L11.302|
00012e  4bb8              LDR      r3,|L11.1040|
000130  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
000132  f0130f04          TST      r3,#4
000136  bf14              ITE      NE
000138  3120              ADDNE    r1,r1,#0x20
00013a  1c49              ADDEQ    r1,r1,#1
00013c  8001              STRH     r1,[r0,#0]
                  |L11.318|
00013e  e040              B        |L11.450|
                  |L11.320|
000140  6883              LDR      r3,[r0,#8]  ; PPU_Mem
000142  f3c10c0b          UBFX     r12,r1,#0,#12
000146  f813300c          LDRB     r3,[r3,r12]
                  |L11.330|
00014a  7083              STRB     r3,[r0,#2]
00014c  e7ef              B        |L11.302|
                  |L11.334|
00014e  f3c1030b          UBFX     r3,r1,#0,#12
000152  f5b36f40          CMP      r3,#0xc00
000156  bf84              ITT      HI
000158  f8d0c018          LDRHI    r12,[r0,#0x18]  ; PPU_Mem
00015c  f5a36340          SUBHI    r3,r3,#0xc00
000160  d810              BHI      |L11.388|
000162  f5b36f00          CMP      r3,#0x800
000166  bf84              ITT      HI
000168  f8d0c014          LDRHI    r12,[r0,#0x14]  ; PPU_Mem
00016c  f5a36300          SUBHI    r3,r3,#0x800
000170  d808              BHI      |L11.388|
000172  f5b36f80          CMP      r3,#0x400
000176  bf86              ITTE     HI
000178  f8d0c010          LDRHI    r12,[r0,#0x10]  ; PPU_Mem
00017c  f5a36380          SUBHI    r3,r3,#0x400
000180  f8d0c00c          LDRLS    r12,[r0,#0xc]  ; PPU_Mem
                  |L11.388|
000184  f81c3003          LDRB     r3,[r12,r3]
000188  e7df              B        |L11.330|
                  |L11.394|
00018a  e019              B        |L11.448|
                  |L11.396|
00018c  f6437310          MOV      r3,#0x3f10
000190  4299              CMP      r1,r3
000192  d305              BCC      |L11.416|
000194  f001020f          AND      r2,r1,#0xf
000198  4402              ADD      r2,r2,r0
00019a  f892202c          LDRB     r2,[r2,#0x2c]
00019e  e7c6              B        |L11.302|
                  |L11.416|
0001a0  f5b15f7c          CMP      r1,#0x3f00
0001a4  d3c3              BCC      |L11.302|
0001a6  f001020f          AND      r2,r1,#0xf
0001aa  4402              ADD      r2,r2,r0
0001ac  7f12              LDRB     r2,[r2,#0x1c]
0001ae  e7be              B        |L11.302|
0001b0  f5a04180          SUB      r1,r0,#0x4000
0001b4  3916              SUBS     r1,r1,#0x16
0001b6  d01c              BEQ      |L11.498|
0001b8  f5a04180          SUB      r1,r0,#0x4000
0001bc  3917              SUBS     r1,r1,#0x17
0001be  d01d              BEQ      |L11.508|
                  |L11.448|
0001c0  0a02              LSRS     r2,r0,#8
                  |L11.450|
0001c2  b2e1              UXTB     r1,r4
0001c4  2308              MOVS     r3,#8
0001c6  2017              MOVS     r0,#0x17
0001c8  f7fffffe          BL       tft_printh
;;;214    	tft_printh(25, line+1, cpu_getmemory(PC+1), 8);
0001cc  4895              LDR      r0,|L11.1060|
0001ce  89c0              LDRH     r0,[r0,#0xe]  ; PC
0001d0  1c40              ADDS     r0,r0,#1
0001d2  b280              UXTH     r0,r0
0001d4  f4004170          AND      r1,r0,#0xf000
0001d8  1309              ASRS     r1,r1,#12
0001da  2910              CMP      r1,#0x10
0001dc  d271              BCS      |L11.706|
0001de  e8dff001          TBB      [pc,r1]
0001e2  2222              DCB      0x22,0x22
0001e4  2727a8d1          DCB      0x27,0x27,0xa8,0xd1
0001e8  d1d1d3d3          DCB      0xd1,0xd1,0xd3,0xd3
0001ec  d3d3dada          DCB      0xd3,0xd3,0xda,0xda
0001f0  dada              DCB      0xda,0xda
                  |L11.498|
0001f2  2000              MOVS     r0,#0
0001f4  f7fffffe          BL       joypad_read
0001f8  4602              MOV      r2,r0
0001fa  e7e2              B        |L11.450|
                  |L11.508|
0001fc  2001              MOVS     r0,#1
0001fe  f7fffffe          BL       joypad_read
000202  4602              MOV      r2,r0
000204  e7dd              B        |L11.450|
000206  2200              MOVS     r2,#0
000208  e7db              B        |L11.450|
00020a  4986              LDR      r1,|L11.1060|
00020c  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
00020e  4408              ADD      r0,r0,r1
000210  f5a04000          SUB      r0,r0,#0x8000
000214  7802              LDRB     r2,[r0,#0]
000216  e7d4              B        |L11.450|
000218  4982              LDR      r1,|L11.1060|
00021a  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
00021c  4408              ADD      r0,r0,r1
00021e  f5a04040          SUB      r0,r0,#0xc000
                  |L11.546|
000222  7802              LDRB     r2,[r0,#0]  ; PPU_Reg
000224  e7cd              B        |L11.450|
000226  4979              LDR      r1,|L11.1036|
000228  f3c0000a          UBFX     r0,r0,#0,#11
00022c  5c08              LDRB     r0,[r1,r0]
00022e  e08d              B        |L11.844|
000230  f0000007          AND      r0,r0,#7
000234  2808              CMP      r0,#8
000236  d243              BCS      |L11.704|
000238  e8dff000          TBB      [pc,r0]
00023c  04060988          DCB      0x04,0x06,0x09,0x88
000240  1e888826          DCB      0x1e,0x88,0x88,0x26
000244  4872              LDR      r0,|L11.1040|
000246  e0ab              B        |L11.928|
000248  4871              LDR      r0,|L11.1040|
00024a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00024c  e07e              B        |L11.844|
00024e  4970              LDR      r1,|L11.1040|
000250  4b70              LDR      r3,|L11.1044|
000252  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000254  f0200280          BIC      r2,r0,#0x80
000258  708a              STRB     r2,[r1,#2]
00025a  2200              MOVS     r2,#0
00025c  701a              STRB     r2,[r3,#0]
00025e  4a6e              LDR      r2,|L11.1048|
000260  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000262  3a15              SUBS     r2,r2,#0x15
000264  2af1              CMP      r2,#0xf1
000266  d271              BCS      |L11.844|
000268  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00026a  f0120f80          TST      r2,#0x80
00026e  bf04              ITT      EQ
000270  f0220203          BICEQ    r2,r2,#3
000274  700a              STRBEQ   r2,[r1,#0]
000276  e069              B        |L11.844|
000278  4968              LDR      r1,|L11.1052|
00027a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00027e  5c88              LDRB     r0,[r1,r2]
000280  1c52              ADDS     r2,r2,#1
000282  f8812100          STRB     r2,[r1,#0x100]
000286  e061              B        |L11.844|
000288  4965              LDR      r1,|L11.1056|
00028a  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00028c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00028e  f4124370          ANDS     r3,r2,#0xf000
000292  bf04              ITT      EQ
000294  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000296  5c9b              LDRBEQ   r3,[r3,r2]
000298  d019              BEQ      |L11.718|
00029a  f5b35f80          CMP      r3,#0x1000
00029e  d011              BEQ      |L11.708|
0002a0  f5b35f00          CMP      r3,#0x2000
0002a4  d015              BEQ      |L11.722|
0002a6  f5b35f40          CMP      r3,#0x3000
0002aa  bf18              IT       NE
0002ac  2000              MOVNE    r0,#0
0002ae  d02e              BEQ      |L11.782|
                  |L11.688|
0002b0  4b57              LDR      r3,|L11.1040|
0002b2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0002b4  f0130f04          TST      r3,#4
0002b8  bf14              ITE      NE
0002ba  3220              ADDNE    r2,r2,#0x20
0002bc  1c52              ADDEQ    r2,r2,#1
0002be  800a              STRH     r2,[r1,#0]
                  |L11.704|
0002c0  e044              B        |L11.844|
                  |L11.706|
0002c2  e042              B        |L11.842|
                  |L11.708|
0002c4  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0002c6  f3c20c0b          UBFX     r12,r2,#0,#12
0002ca  f813300c          LDRB     r3,[r3,r12]
                  |L11.718|
0002ce  708b              STRB     r3,[r1,#2]
0002d0  e7ee              B        |L11.688|
                  |L11.722|
0002d2  f3c2030b          UBFX     r3,r2,#0,#12
0002d6  f5b36f40          CMP      r3,#0xc00
0002da  bf84              ITT      HI
0002dc  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0002e0  f5a36340          SUBHI    r3,r3,#0xc00
0002e4  d810              BHI      |L11.776|
0002e6  f5b36f00          CMP      r3,#0x800
0002ea  bf84              ITT      HI
0002ec  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0002f0  f5a36300          SUBHI    r3,r3,#0x800
0002f4  d808              BHI      |L11.776|
0002f6  f5b36f80          CMP      r3,#0x400
0002fa  bf86              ITTE     HI
0002fc  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000300  f5a36380          SUBHI    r3,r3,#0x400
000304  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L11.776|
000308  f81c3003          LDRB     r3,[r12,r3]
00030c  e7df              B        |L11.718|
                  |L11.782|
00030e  f6437310          MOV      r3,#0x3f10
000312  429a              CMP      r2,r3
000314  d305              BCC      |L11.802|
000316  f002000f          AND      r0,r2,#0xf
00031a  4408              ADD      r0,r0,r1
00031c  f890002c          LDRB     r0,[r0,#0x2c]
000320  e7c6              B        |L11.688|
                  |L11.802|
000322  f5b25f7c          CMP      r2,#0x3f00
000326  d3c3              BCC      |L11.688|
000328  f002000f          AND      r0,r2,#0xf
00032c  4408              ADD      r0,r0,r1
00032e  7f00              LDRB     r0,[r0,#0x1c]
000330  e7be              B        |L11.688|
000332  f5a04180          SUB      r1,r0,#0x4000
000336  3916              SUBS     r1,r1,#0x16
000338  bf08              IT       EQ
00033a  2000              MOVEQ    r0,#0
00033c  d01f              BEQ      |L11.894|
00033e  f5a04180          SUB      r1,r0,#0x4000
000342  3917              SUBS     r1,r1,#0x17
000344  bf08              IT       EQ
000346  2001              MOVEQ    r0,#1
000348  d019              BEQ      |L11.894|
                  |L11.842|
00034a  0a00              LSRS     r0,r0,#8
                  |L11.844|
00034c  4602              MOV      r2,r0
00034e  b2e1              UXTB     r1,r4
000350  2308              MOVS     r3,#8
000352  2019              MOVS     r0,#0x19
000354  f7fffffe          BL       tft_printh
;;;215    	tft_printh(27, line+1, cpu_getmemory(PC+2), 8);
000358  4832              LDR      r0,|L11.1060|
00035a  89c0              LDRH     r0,[r0,#0xe]  ; PC
00035c  1c80              ADDS     r0,r0,#2
00035e  b280              UXTH     r0,r0
000360  f4004170          AND      r1,r0,#0xf000
000364  1309              ASRS     r1,r1,#12
000366  2910              CMP      r1,#0x10
000368  d27d              BCS      |L11.1126|
00036a  e8dff001          TBB      [pc,r1]
00036e  1b1b              DCB      0x1b,0x1b
000370  2020c2eb          DCB      0x20,0x20,0xc2,0xeb
000374  ebebeded          DCB      0xeb,0xeb,0xed,0xed
000378  ededf5f5          DCB      0xed,0xed,0xf5,0xf5
00037c  f5f5              DCB      0xf5,0xf5
                  |L11.894|
00037e  f7fffffe          BL       joypad_read
000382  e7e3              B        |L11.844|
000384  2000              MOVS     r0,#0
000386  e7e1              B        |L11.844|
000388  4926              LDR      r1,|L11.1060|
00038a  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
00038c  4408              ADD      r0,r0,r1
00038e  f5a04000          SUB      r0,r0,#0x8000
000392  7800              LDRB     r0,[r0,#0]
000394  e7da              B        |L11.844|
000396  4923              LDR      r1,|L11.1060|
000398  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
00039a  4408              ADD      r0,r0,r1
00039c  f5a04040          SUB      r0,r0,#0xc000
                  |L11.928|
0003a0  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0003a2  e7d3              B        |L11.844|
0003a4  4919              LDR      r1,|L11.1036|
0003a6  f3c0000a          UBFX     r0,r0,#0,#11
0003aa  5c08              LDRB     r0,[r1,r0]
0003ac  e0ae              B        |L11.1292|
0003ae  f0000007          AND      r0,r0,#7
0003b2  2808              CMP      r0,#8
0003b4  d246              BCS      |L11.1092|
0003b6  e8dff000          TBB      [pc,r0]
0003ba  0406              DCB      0x04,0x06
0003bc  09a93ea9          DCB      0x09,0xa9,0x3e,0xa9
0003c0  a946              DCB      0xa9,0x46
0003c2  4813              LDR      r0,|L11.1040|
0003c4  e0cd              B        |L11.1378|
0003c6  4812              LDR      r0,|L11.1040|
0003c8  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
0003ca  e09f              B        |L11.1292|
0003cc  4910              LDR      r1,|L11.1040|
0003ce  4b11              LDR      r3,|L11.1044|
0003d0  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
0003d2  f0200280          BIC      r2,r0,#0x80
0003d6  708a              STRB     r2,[r1,#2]
0003d8  2200              MOVS     r2,#0
0003da  701a              STRB     r2,[r3,#0]
0003dc  4a0e              LDR      r2,|L11.1048|
0003de  6812              LDR      r2,[r2,#0]  ; PPU_scanline
0003e0  3a15              SUBS     r2,r2,#0x15
0003e2  2af1              CMP      r2,#0xf1
0003e4  d22e              BCS      |L11.1092|
0003e6  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
0003e8  e01e              B        |L11.1064|
0003ea  0000              DCW      0x0000
                  |L11.1004|
0003ec  41202058          DCB      "A  X  Y  P  S  PC   NQ *PC",0
0003f0  20205920
0003f4  20502020
0003f8  53202050
0003fc  43202020
000400  4e51202a
000404  504300  
000407  00                DCB      0
                  |L11.1032|
                          DCD      ||.data||+0x24
                  |L11.1036|
                          DCD      ||.bss||
                  |L11.1040|
                          DCD      PPU_Reg
                  |L11.1044|
                          DCD      PPU_Latch_Flag
                  |L11.1048|
                          DCD      PPU_scanline
                  |L11.1052|
                          DCD      Spr_Mem
                  |L11.1056|
                          DCD      PPU_Mem
                  |L11.1060|
                          DCD      ||.data||
                  |L11.1064|
000428  f0120f80          TST      r2,#0x80
00042c  bf04              ITT      EQ
00042e  f0220203          BICEQ    r2,r2,#3
000432  700a              STRBEQ   r2,[r1,#0]
000434  e06a              B        |L11.1292|
000436  49a3              LDR      r1,|L11.1732|
000438  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00043c  5c88              LDRB     r0,[r1,r2]
00043e  1c52              ADDS     r2,r2,#1
000440  f8812100          STRB     r2,[r1,#0x100]
                  |L11.1092|
000444  e062              B        |L11.1292|
000446  49a0              LDR      r1,|L11.1736|
000448  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00044a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00044c  f4124370          ANDS     r3,r2,#0xf000
000450  bf04              ITT      EQ
000452  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000454  5c9b              LDRBEQ   r3,[r3,r2]
000456  d01a              BEQ      |L11.1166|
000458  f5b35f80          CMP      r3,#0x1000
00045c  d012              BEQ      |L11.1156|
00045e  f5b35f00          CMP      r3,#0x2000
000462  d016              BEQ      |L11.1170|
000464  e000              B        |L11.1128|
                  |L11.1126|
000466  e050              B        |L11.1290|
                  |L11.1128|
000468  f5b35f40          CMP      r3,#0x3000
00046c  bf18              IT       NE
00046e  2000              MOVNE    r0,#0
000470  d02d              BEQ      |L11.1230|
                  |L11.1138|
000472  4b96              LDR      r3,|L11.1740|
000474  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
000476  f0130f04          TST      r3,#4
00047a  bf14              ITE      NE
00047c  3220              ADDNE    r2,r2,#0x20
00047e  1c52              ADDEQ    r2,r2,#1
000480  800a              STRH     r2,[r1,#0]
000482  e043              B        |L11.1292|
                  |L11.1156|
000484  688b              LDR      r3,[r1,#8]  ; PPU_Mem
000486  f3c20c0b          UBFX     r12,r2,#0,#12
00048a  f813300c          LDRB     r3,[r3,r12]
                  |L11.1166|
00048e  708b              STRB     r3,[r1,#2]
000490  e7ef              B        |L11.1138|
                  |L11.1170|
000492  f3c2030b          UBFX     r3,r2,#0,#12
000496  f5b36f40          CMP      r3,#0xc00
00049a  bf84              ITT      HI
00049c  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0004a0  f5a36340          SUBHI    r3,r3,#0xc00
0004a4  d810              BHI      |L11.1224|
0004a6  f5b36f00          CMP      r3,#0x800
0004aa  bf84              ITT      HI
0004ac  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0004b0  f5a36300          SUBHI    r3,r3,#0x800
0004b4  d808              BHI      |L11.1224|
0004b6  f5b36f80          CMP      r3,#0x400
0004ba  bf86              ITTE     HI
0004bc  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0004c0  f5a36380          SUBHI    r3,r3,#0x400
0004c4  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L11.1224|
0004c8  f81c3003          LDRB     r3,[r12,r3]
0004cc  e7df              B        |L11.1166|
                  |L11.1230|
0004ce  f6437310          MOV      r3,#0x3f10
0004d2  429a              CMP      r2,r3
0004d4  d305              BCC      |L11.1250|
0004d6  f002000f          AND      r0,r2,#0xf
0004da  4408              ADD      r0,r0,r1
0004dc  f890002c          LDRB     r0,[r0,#0x2c]
0004e0  e7c7              B        |L11.1138|
                  |L11.1250|
0004e2  f5b25f7c          CMP      r2,#0x3f00
0004e6  d3c4              BCC      |L11.1138|
0004e8  f002000f          AND      r0,r2,#0xf
0004ec  4408              ADD      r0,r0,r1
0004ee  7f00              LDRB     r0,[r0,#0x1c]
0004f0  e7bf              B        |L11.1138|
0004f2  f5a04180          SUB      r1,r0,#0x4000
0004f6  3916              SUBS     r1,r1,#0x16
0004f8  bf08              IT       EQ
0004fa  2000              MOVEQ    r0,#0
0004fc  d01f              BEQ      |L11.1342|
0004fe  f5a04180          SUB      r1,r0,#0x4000
000502  3917              SUBS     r1,r1,#0x17
000504  bf08              IT       EQ
000506  2001              MOVEQ    r0,#1
000508  d019              BEQ      |L11.1342|
                  |L11.1290|
00050a  0a00              LSRS     r0,r0,#8
                  |L11.1292|
00050c  4602              MOV      r2,r0
00050e  b2e1              UXTB     r1,r4
000510  2308              MOVS     r3,#8
000512  201b              MOVS     r0,#0x1b
000514  f7fffffe          BL       tft_printh
;;;216    	tft_printh(29, line+1, cpu_getmemory(PC+3), 8);
000518  486d              LDR      r0,|L11.1744|
00051a  89c0              LDRH     r0,[r0,#0xe]  ; PC
00051c  1cc0              ADDS     r0,r0,#3
00051e  b280              UXTH     r0,r0
000520  f4004170          AND      r1,r0,#0xf000
000524  1309              ASRS     r1,r1,#12
000526  2910              CMP      r1,#0x10
000528  d272              BCS      |L11.1552|
00052a  e8dff001          TBB      [pc,r1]
00052e  1c1c              DCB      0x1c,0x1c
000530  2121a2ba          DCB      0x21,0x21,0xa2,0xba
000534  bababcbc          DCB      0xba,0xba,0xbc,0xbc
000538  bcbcc3c3          DCB      0xbc,0xbc,0xc3,0xc3
00053c  c3c3              DCB      0xc3,0xc3
                  |L11.1342|
00053e  f7fffffe          BL       joypad_read
000542  e7e3              B        |L11.1292|
000544  2000              MOVS     r0,#0
000546  e7e1              B        |L11.1292|
000548  4961              LDR      r1,|L11.1744|
00054a  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
00054c  4408              ADD      r0,r0,r1
00054e  f5a04000          SUB      r0,r0,#0x8000
000552  7800              LDRB     r0,[r0,#0]
000554  e7da              B        |L11.1292|
000556  e7ff              B        |L11.1368|
                  |L11.1368|
000558  495d              LDR      r1,|L11.1744|
00055a  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
00055c  4408              ADD      r0,r0,r1
00055e  f5a04040          SUB      r0,r0,#0xc000
                  |L11.1378|
000562  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000564  e7d2              B        |L11.1292|
000566  495b              LDR      r1,|L11.1748|
000568  f3c0000a          UBFX     r0,r0,#0,#11
00056c  5c08              LDRB     r0,[r1,r0]
00056e  e08d              B        |L11.1676|
000570  f0000007          AND      r0,r0,#7
000574  2808              CMP      r0,#8
000576  d243              BCS      |L11.1536|
000578  e8dff000          TBB      [pc,r0]
00057c  04060988          DCB      0x04,0x06,0x09,0x88
000580  1e888826          DCB      0x1e,0x88,0x88,0x26
000584  4851              LDR      r0,|L11.1740|
000586  e09a              B        |L11.1726|
000588  4850              LDR      r0,|L11.1740|
00058a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00058c  e07e              B        |L11.1676|
00058e  494f              LDR      r1,|L11.1740|
000590  4b51              LDR      r3,|L11.1752|
000592  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000594  f0200280          BIC      r2,r0,#0x80
000598  708a              STRB     r2,[r1,#2]
00059a  2200              MOVS     r2,#0
00059c  701a              STRB     r2,[r3,#0]
00059e  4a4f              LDR      r2,|L11.1756|
0005a0  6812              LDR      r2,[r2,#0]  ; PPU_scanline
0005a2  3a15              SUBS     r2,r2,#0x15
0005a4  2af1              CMP      r2,#0xf1
0005a6  d271              BCS      |L11.1676|
0005a8  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
0005aa  f0120f80          TST      r2,#0x80
0005ae  bf04              ITT      EQ
0005b0  f0220203          BICEQ    r2,r2,#3
0005b4  700a              STRBEQ   r2,[r1,#0]
0005b6  e069              B        |L11.1676|
0005b8  4942              LDR      r1,|L11.1732|
0005ba  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0005be  5c88              LDRB     r0,[r1,r2]
0005c0  1c52              ADDS     r2,r2,#1
0005c2  f8812100          STRB     r2,[r1,#0x100]
0005c6  e061              B        |L11.1676|
0005c8  493f              LDR      r1,|L11.1736|
0005ca  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
0005cc  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
0005ce  f4124370          ANDS     r3,r2,#0xf000
0005d2  bf04              ITT      EQ
0005d4  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
0005d6  5c9b              LDRBEQ   r3,[r3,r2]
0005d8  d018              BEQ      |L11.1548|
0005da  f5b35f80          CMP      r3,#0x1000
0005de  d010              BEQ      |L11.1538|
0005e0  f5b35f00          CMP      r3,#0x2000
0005e4  d015              BEQ      |L11.1554|
0005e6  f5b35f40          CMP      r3,#0x3000
0005ea  bf18              IT       NE
0005ec  2000              MOVNE    r0,#0
0005ee  d02e              BEQ      |L11.1614|
                  |L11.1520|
0005f0  4b36              LDR      r3,|L11.1740|
0005f2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0005f4  f0130f04          TST      r3,#4
0005f8  bf14              ITE      NE
0005fa  3220              ADDNE    r2,r2,#0x20
0005fc  1c52              ADDEQ    r2,r2,#1
0005fe  800a              STRH     r2,[r1,#0]
                  |L11.1536|
000600  e044              B        |L11.1676|
                  |L11.1538|
000602  688b              LDR      r3,[r1,#8]  ; PPU_Mem
000604  f3c20c0b          UBFX     r12,r2,#0,#12
000608  f813300c          LDRB     r3,[r3,r12]
                  |L11.1548|
00060c  708b              STRB     r3,[r1,#2]
00060e  e7ef              B        |L11.1520|
                  |L11.1552|
000610  e03b              B        |L11.1674|
                  |L11.1554|
000612  f3c2030b          UBFX     r3,r2,#0,#12
000616  f5b36f40          CMP      r3,#0xc00
00061a  bf84              ITT      HI
00061c  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
000620  f5a36340          SUBHI    r3,r3,#0xc00
000624  d810              BHI      |L11.1608|
000626  f5b36f00          CMP      r3,#0x800
00062a  bf84              ITT      HI
00062c  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
000630  f5a36300          SUBHI    r3,r3,#0x800
000634  d808              BHI      |L11.1608|
000636  f5b36f80          CMP      r3,#0x400
00063a  bf86              ITTE     HI
00063c  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000640  f5a36380          SUBHI    r3,r3,#0x400
000644  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L11.1608|
000648  f81c3003          LDRB     r3,[r12,r3]
00064c  e7de              B        |L11.1548|
                  |L11.1614|
00064e  f6437310          MOV      r3,#0x3f10
000652  429a              CMP      r2,r3
000654  d305              BCC      |L11.1634|
000656  f002000f          AND      r0,r2,#0xf
00065a  4408              ADD      r0,r0,r1
00065c  f890002c          LDRB     r0,[r0,#0x2c]
000660  e7c6              B        |L11.1520|
                  |L11.1634|
000662  f5b25f7c          CMP      r2,#0x3f00
000666  d3c3              BCC      |L11.1520|
000668  f002000f          AND      r0,r2,#0xf
00066c  4408              ADD      r0,r0,r1
00066e  7f00              LDRB     r0,[r0,#0x1c]
000670  e7be              B        |L11.1520|
000672  f5a04180          SUB      r1,r0,#0x4000
000676  3916              SUBS     r1,r1,#0x16
000678  bf08              IT       EQ
00067a  2000              MOVEQ    r0,#0
00067c  d00e              BEQ      |L11.1692|
00067e  f5a04180          SUB      r1,r0,#0x4000
000682  3917              SUBS     r1,r1,#0x17
000684  bf08              IT       EQ
000686  2001              MOVEQ    r0,#1
000688  d008              BEQ      |L11.1692|
                  |L11.1674|
00068a  0a00              LSRS     r0,r0,#8
                  |L11.1676|
00068c  b2e1              UXTB     r1,r4
00068e  e8bd4070          POP      {r4-r6,lr}
000692  2308              MOVS     r3,#8
000694  4602              MOV      r2,r0
000696  201d              MOVS     r0,#0x1d
000698  f7ffbffe          B.W      tft_printh
                  |L11.1692|
00069c  f7fffffe          BL       joypad_read
0006a0  e7f4              B        |L11.1676|
0006a2  2000              MOVS     r0,#0
0006a4  e7f2              B        |L11.1676|
0006a6  490a              LDR      r1,|L11.1744|
0006a8  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
0006aa  4408              ADD      r0,r0,r1
0006ac  f5a04000          SUB      r0,r0,#0x8000
0006b0  7800              LDRB     r0,[r0,#0]
0006b2  e7eb              B        |L11.1676|
0006b4  4906              LDR      r1,|L11.1744|
0006b6  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
0006b8  4408              ADD      r0,r0,r1
0006ba  f5a04040          SUB      r0,r0,#0xc000
                  |L11.1726|
0006be  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0006c0  e7e4              B        |L11.1676|
;;;217    
;;;218    	// uint8_t* ptr = sram;
;;;219    	// tft_printh(0,line+2, *ptr++, 8);
;;;220    	// tft_printh(2,line+2, *ptr++, 8);
;;;221    	// tft_printh(4,line+2, *ptr++, 8);
;;;222    	// tft_printh(6,line+2, *ptr++, 8);
;;;223    	// tft_printc(0,line+3, (char*)sram);
;;;224    }
                          ENDP

0006c2  0000              DCW      0x0000
                  |L11.1732|
                          DCD      Spr_Mem
                  |L11.1736|
                          DCD      PPU_Mem
                  |L11.1740|
                          DCD      PPU_Reg
                  |L11.1744|
                          DCD      ||.data||
                  |L11.1748|
                          DCD      ||.bss||
                  |L11.1752|
                          DCD      PPU_Latch_Flag
                  |L11.1756|
                          DCD      PPU_scanline

                          AREA ||i.cpu_dec||, CODE, READONLY, ALIGN=2

                  cpu_dec PROC
;;;239    
;;;240    static inline void cpu_dec(CpuAdrMode adrmode)   
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;241    {   
;;;242    	uint8_t temp;    
;;;243    
;;;244    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000004  4780              BLX      r0
000006  f4004170          AND      r1,r0,#0xf000
00000a  1309              ASRS     r1,r1,#12
00000c  4cfa              LDR      r4,|L12.1016|
00000e  4605              MOV      r5,r0
000010  2910              CMP      r1,#0x10
000012  d27c              BCS      |L12.270|
000014  e8dff001          TBB      [pc,r1]
000018  08080d0d          DCB      0x08,0x08,0x0d,0x0d
00001c  8eacacac          DCB      0x8e,0xac,0xac,0xac
000020  aeaeaeae          DCB      0xae,0xae,0xae,0xae
000024  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
000028  49f4              LDR      r1,|L12.1020|
00002a  f3c5000a          UBFX     r0,r5,#0,#11
00002e  5c08              LDRB     r0,[r1,r0]
000030  e08d              B        |L12.334|
000032  f0050007          AND      r0,r5,#7
000036  2808              CMP      r0,#8
000038  d243              BCS      |L12.194|
00003a  e8dff000          TBB      [pc,r0]
00003e  0406              DCB      0x04,0x06
000040  09881e88          DCB      0x09,0x88,0x1e,0x88
000044  8826              DCB      0x88,0x26
000046  48ee              LDR      r0,|L12.1024|
000048  e09e              B        |L12.392|
00004a  48ed              LDR      r0,|L12.1024|
00004c  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004e  e07e              B        |L12.334|
000050  49eb              LDR      r1,|L12.1024|
000052  4bec              LDR      r3,|L12.1028|
000054  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000056  f0200280          BIC      r2,r0,#0x80
00005a  708a              STRB     r2,[r1,#2]
00005c  2200              MOVS     r2,#0
00005e  701a              STRB     r2,[r3,#0]
000060  4ae9              LDR      r2,|L12.1032|
000062  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000064  3a15              SUBS     r2,r2,#0x15
000066  2af1              CMP      r2,#0xf1
000068  d271              BCS      |L12.334|
00006a  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006c  f0120f80          TST      r2,#0x80
000070  bf04              ITT      EQ
000072  f0220203          BICEQ    r2,r2,#3
000076  700a              STRBEQ   r2,[r1,#0]
000078  e069              B        |L12.334|
00007a  49e4              LDR      r1,|L12.1036|
00007c  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000080  5c88              LDRB     r0,[r1,r2]
000082  1c52              ADDS     r2,r2,#1
000084  f8812100          STRB     r2,[r1,#0x100]
000088  e061              B        |L12.334|
00008a  49e1              LDR      r1,|L12.1040|
00008c  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008e  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
000090  f4124370          ANDS     r3,r2,#0xf000
000094  bf04              ITT      EQ
000096  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000098  5c9b              LDRBEQ   r3,[r3,r2]
00009a  d018              BEQ      |L12.206|
00009c  f5b35f80          CMP      r3,#0x1000
0000a0  d010              BEQ      |L12.196|
0000a2  f5b35f00          CMP      r3,#0x2000
0000a6  d014              BEQ      |L12.210|
0000a8  f5b35f40          CMP      r3,#0x3000
0000ac  bf18              IT       NE
0000ae  2000              MOVNE    r0,#0
0000b0  d02e              BEQ      |L12.272|
                  |L12.178|
0000b2  4bd3              LDR      r3,|L12.1024|
0000b4  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b6  f0130f04          TST      r3,#4
0000ba  bf14              ITE      NE
0000bc  3220              ADDNE    r2,r2,#0x20
0000be  1c52              ADDEQ    r2,r2,#1
0000c0  800a              STRH     r2,[r1,#0]
                  |L12.194|
0000c2  e044              B        |L12.334|
                  |L12.196|
0000c4  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c6  f3c20c0b          UBFX     r12,r2,#0,#12
0000ca  f813300c          LDRB     r3,[r3,r12]
                  |L12.206|
0000ce  708b              STRB     r3,[r1,#2]
0000d0  e7ef              B        |L12.178|
                  |L12.210|
0000d2  f3c2030b          UBFX     r3,r2,#0,#12
0000d6  f5b36f40          CMP      r3,#0xc00
0000da  bf84              ITT      HI
0000dc  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e0  f5a36340          SUBHI    r3,r3,#0xc00
0000e4  d810              BHI      |L12.264|
0000e6  f5b36f00          CMP      r3,#0x800
0000ea  bf84              ITT      HI
0000ec  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f0  f5a36300          SUBHI    r3,r3,#0x800
0000f4  d808              BHI      |L12.264|
0000f6  f5b36f80          CMP      r3,#0x400
0000fa  bf86              ITTE     HI
0000fc  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000100  f5a36380          SUBHI    r3,r3,#0x400
000104  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L12.264|
000108  f81c3003          LDRB     r3,[r12,r3]
00010c  e7df              B        |L12.206|
                  |L12.270|
00010e  e01d              B        |L12.332|
                  |L12.272|
000110  f6437310          MOV      r3,#0x3f10
000114  429a              CMP      r2,r3
000116  d305              BCC      |L12.292|
000118  f002000f          AND      r0,r2,#0xf
00011c  4408              ADD      r0,r0,r1
00011e  f890002c          LDRB     r0,[r0,#0x2c]
000122  e7c6              B        |L12.178|
                  |L12.292|
000124  f5b25f7c          CMP      r2,#0x3f00
000128  d3c3              BCC      |L12.178|
00012a  f002000f          AND      r0,r2,#0xf
00012e  4408              ADD      r0,r0,r1
000130  7f00              LDRB     r0,[r0,#0x1c]
000132  e7be              B        |L12.178|
000134  f5a04180          SUB      r1,r0,#0x4000
000138  3916              SUBS     r1,r1,#0x16
00013a  bf08              IT       EQ
00013c  2000              MOVEQ    r0,#0
00013e  d014              BEQ      |L12.362|
000140  f5a04180          SUB      r1,r0,#0x4000
000144  3917              SUBS     r1,r1,#0x17
000146  bf08              IT       EQ
000148  2001              MOVEQ    r0,#1
00014a  d00e              BEQ      |L12.362|
                  |L12.332|
00014c  0a28              LSRS     r0,r5,#8
                  |L12.334|
00014e  1e40              SUBS     r0,r0,#1
000150  f4054770          AND      r7,r5,#0xf000
000154  2600              MOVS     r6,#0
000156  1339              ASRS     r1,r7,#12
;;;245    	temp = cpu_getmemory(savepc);   
;;;246    	temp--;   
000158  b2c0              UXTB     r0,r0
00015a  2905              CMP      r1,#5
00015c  f0808147          BCS.W    |L12.1006|
000160  e8dff001          TBB      [pc,r1]
000164  14141a1a          DCB      0x14,0x14,0x1a,0x1a
000168  b000              DCB      0xb0,0x00
                  |L12.362|
00016a  f7fffffe          BL       joypad_read
00016e  e7ee              B        |L12.334|
000170  2000              MOVS     r0,#0
000172  e7ec              B        |L12.334|
000174  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000176  1948              ADDS     r0,r1,r5
000178  f5a04000          SUB      r0,r0,#0x8000
00017c  7800              LDRB     r0,[r0,#0]
00017e  e7e6              B        |L12.334|
000180  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000182  1948              ADDS     r0,r1,r5
000184  f5a04040          SUB      r0,r0,#0xc000
                  |L12.392|
000188  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
00018a  e7e0              B        |L12.334|
00018c  4a9b              LDR      r2,|L12.1020|
00018e  f3c5010a          UBFX     r1,r5,#0,#11
000192  5450              STRB     r0,[r2,r1]
000194  f000b92b          B.W      |L12.1006|
000198  f0050107          AND      r1,r5,#7
00019c  2908              CMP      r1,#8
00019e  f0808126          BCS.W    |L12.1006|
0001a2  e8dff001          TBB      [pc,r1]
0001a6  0408              DCB      0x04,0x08
0001a8  8e0c0e19          DCB      0x8e,0x0c,0x0e,0x19
0001ac  2833              DCB      0x28,0x33
0001ae  4994              LDR      r1,|L12.1024|
0001b0  7008              STRB     r0,[r1,#0]
0001b2  f000b91c          B.W      |L12.1006|
0001b6  4992              LDR      r1,|L12.1024|
0001b8  7048              STRB     r0,[r1,#1]
0001ba  f000b918          B.W      |L12.1006|
0001be  4993              LDR      r1,|L12.1036|
0001c0  e006              B        |L12.464|
0001c2  4992              LDR      r1,|L12.1036|
0001c4  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0001c8  5488              STRB     r0,[r1,r2]
0001ca  f8910100          LDRB     r0,[r1,#0x100]  ; Spr_Mem
0001ce  1c40              ADDS     r0,r0,#1
                  |L12.464|
0001d0  f8810100          STRB     r0,[r1,#0x100]
0001d4  f000b90b          B.W      |L12.1006|
0001d8  498a              LDR      r1,|L12.1028|
0001da  780a              LDRB     r2,[r1,#0]  ; PPU_Latch_Flag
0001dc  2a00              CMP      r2,#0
0001de  bf08              IT       EQ
0001e0  4b8c              LDREQ    r3,|L12.1044|
0001e2  d003              BEQ      |L12.492|
0001e4  28ef              CMP      r0,#0xef
0001e6  bf88              IT       HI
0001e8  2000              MOVHI    r0,#0
0001ea  4b8b              LDR      r3,|L12.1048|
                  |L12.492|
0001ec  7018              STRB     r0,[r3,#0]
0001ee  f0820001          EOR      r0,r2,#1
0001f2  f000b8fb          B.W      |L12.1004|
0001f6  4986              LDR      r1,|L12.1040|
0001f8  780a              LDRB     r2,[r1,#0]  ; PPU_Mem
0001fa  eb002002          ADD      r0,r0,r2,LSL #8
0001fe  8008              STRH     r0,[r1,#0]
000200  4880              LDR      r0,|L12.1028|
000202  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000204  f0810101          EOR      r1,r1,#1
000208  7001              STRB     r1,[r0,#0]
00020a  e0f0              B        |L12.1006|
00020c  f8df8200          LDR      r8,|L12.1040|
000210  f8b81000          LDRH     r1,[r8,#0]  ; PPU_Mem
000214  f4114270          ANDS     r2,r1,#0xf000
000218  bf18              IT       NE
00021a  f5b25f80          CMPNE    r2,#0x1000
00021e  d045              BEQ      |L12.684|
000220  f5b25f00          CMP      r2,#0x2000
000224  d003              BEQ      |L12.558|
000226  f5b25f40          CMP      r2,#0x3000
00022a  d01d              BEQ      |L12.616|
00022c  e03e              B        |L12.684|
                  |L12.558|
00022e  f3c1010b          UBFX     r1,r1,#0,#12
000232  f5b16f40          CMP      r1,#0xc00
000236  bf84              ITT      HI
000238  f8d82018          LDRHI    r2,[r8,#0x18]  ; PPU_Mem
00023c  f5a16140          SUBHI    r1,r1,#0xc00
000240  d810              BHI      |L12.612|
000242  f5b16f00          CMP      r1,#0x800
000246  bf84              ITT      HI
000248  f8d82014          LDRHI    r2,[r8,#0x14]  ; PPU_Mem
00024c  f5a16100          SUBHI    r1,r1,#0x800
000250  d808              BHI      |L12.612|
000252  f5b16f80          CMP      r1,#0x400
000256  bf86              ITTE     HI
000258  f8d82010          LDRHI    r2,[r8,#0x10]  ; PPU_Mem
00025c  f5a16180          SUBHI    r1,r1,#0x400
000260  f8d8200c          LDRLS    r2,[r8,#0xc]  ; PPU_Mem
                  |L12.612|
000264  5450              STRB     r0,[r2,r1]
000266  e021              B        |L12.684|
                  |L12.616|
000268  f001021f          AND      r2,r1,#0x1f
00026c  f001010f          AND      r1,r1,#0xf
000270  2a0f              CMP      r2,#0xf
000272  4441              ADD      r1,r1,r8
000274  d917              BLS      |L12.678|
000276  f881002c          STRB     r0,[r1,#0x2c]
00027a  f8981000          LDRB     r1,[r8,#0]  ; PPU_Mem
00027e  f0110f03          TST      r1,#3
000282  d113              BNE      |L12.684|
000284  f888001c          STRB     r0,[r8,#0x1c]
000288  f888002c          STRB     r0,[r8,#0x2c]
00028c  f8880020          STRB     r0,[r8,#0x20]
000290  f8880030          STRB     r0,[r8,#0x30]
000294  f8880024          STRB     r0,[r8,#0x24]
000298  f8880034          STRB     r0,[r8,#0x34]
00029c  f8880028          STRB     r0,[r8,#0x28]
0002a0  f8880038          STRB     r0,[r8,#0x38]
0002a4  e002              B        |L12.684|
                  |L12.678|
0002a6  7708              STRB     r0,[r1,#0x1c]
0002a8  f7fffffe          BL       premap_palette
                  |L12.684|
0002ac  4854              LDR      r0,|L12.1024|
0002ae  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002b0  f0100f04          TST      r0,#4
0002b4  f8b80000          LDRH     r0,[r8,#0]  ; PPU_Mem
0002b8  bf14              ITE      NE
0002ba  3020              ADDNE    r0,r0,#0x20
0002bc  1c40              ADDEQ    r0,r0,#1
0002be  f8a80000          STRH     r0,[r8,#0]
0002c2  e094              B        |L12.1006|
0002c4  f5a54280          SUB      r2,r5,#0x4000
0002c8  3a14              SUBS     r2,r2,#0x14
0002ca  d004              BEQ      |L12.726|
0002cc  f5a54280          SUB      r2,r5,#0x4000
0002d0  3a16              SUBS     r2,r2,#0x16
0002d2  d03d              BEQ      |L12.848|
0002d4  e08b              B        |L12.1006|
                  |L12.726|
0002d6  6a21              LDR      r1,[r4,#0x20]  ; cpu_clockticks
0002d8  0902              LSRS     r2,r0,#4
0002da  f5a17100          SUB      r1,r1,#0x200
0002de  6221              STR      r1,[r4,#0x20]  ; cpu_clockticks
0002e0  2100              MOVS     r1,#0
0002e2  2a10              CMP      r2,#0x10
0002e4  d218              BCS      |L12.792|
0002e6  e8dff002          TBB      [pc,r2]
0002ea  0808              DCB      0x08,0x08
0002ec  17171717          DCB      0x17,0x17,0x17,0x17
0002f0  82820c0c          DCB      0x82,0x82,0x0c,0x0c
0002f4  0c0c1212          DCB      0x0c,0x0c,0x12,0x12
0002f8  1212              DCB      0x12,0x12
0002fa  4940              LDR      r1,|L12.1020|
0002fc  eb012100          ADD      r1,r1,r0,LSL #8
000300  e00a              B        |L12.792|
000302  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000304  eb012000          ADD      r0,r1,r0,LSL #8
000308  f5a04100          SUB      r1,r0,#0x8000
00030c  e004              B        |L12.792|
00030e  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000310  eb012000          ADD      r0,r1,r0,LSL #8
000314  f5a04140          SUB      r1,r0,#0xc000
                  |L12.792|
000318  4a3c              LDR      r2,|L12.1036|
00031a  1a50              SUBS     r0,r2,r1
00031c  2800              CMP      r0,#0
00031e  dd04              BLE      |L12.810|
000320  f5b07f80          CMP      r0,#0x100
000324  bfb8              IT       LT
000326  2000              MOVLT    r0,#0
000328  db05              BLT      |L12.822|
                  |L12.810|
00032a  f44f7280          MOV      r2,#0x100
00032e  4837              LDR      r0,|L12.1036|
000330  f7fffffe          BL       __aeabi_memmove
000334  e05b              B        |L12.1006|
                  |L12.822|
000336  5c0b              LDRB     r3,[r1,r0]
000338  5413              STRB     r3,[r2,r0]
00033a  180b              ADDS     r3,r1,r0
00033c  eb020c00          ADD      r12,r2,r0
000340  785b              LDRB     r3,[r3,#1]
000342  1c80              ADDS     r0,r0,#2
000344  f88c3001          STRB     r3,[r12,#1]
000348  f5b07f80          CMP      r0,#0x100
00034c  dbf3              BLT      |L12.822|
00034e  e04e              B        |L12.1006|
                  |L12.848|
000350  b3e8              CBZ      r0,|L12.974|
000352  4932              LDR      r1,|L12.1052|
000354  700e              STRB     r6,[r1,#0]
000356  4932              LDR      r1,|L12.1056|
000358  6909              LDR      r1,[r1,#0x10]
00035a  43c9              MVNS     r1,r1
00035c  b28a              UXTH     r2,r1
00035e  4931              LDR      r1,|L12.1060|
000360  880b              LDRH     r3,[r1,#0]  ; joys
000362  f5b36f40          CMP      r3,#0xc00
000366  bf94              ITE      LS
000368  f04f0c00          MOVLS    r12,#0
00036c  f04f0c01          MOVHI    r12,#1
000370  ea42420c          ORR      r2,r2,r12,LSL #16
000374  f5b36f80          CMP      r3,#0x400
000378  bf34              ITE      CC
00037a  2301              MOVCC    r3,#1
00037c  2300              MOVCS    r3,#0
00037e  ea424343          ORR      r3,r2,r3,LSL #17
000382  884a              LDRH     r2,[r1,#2]  ; joys
000384  f5b26f40          CMP      r2,#0xc00
000388  bf8c              ITE      HI
00038a  f04f0c01          MOVHI    r12,#1
00038e  f04f0c00          MOVLS    r12,#0
000392  ea43438c          ORR      r3,r3,r12,LSL #18
000396  f5b26f80          CMP      r2,#0x400
00039a  bf34              ITE      CC
00039c  2201              MOVCC    r2,#1
00039e  2200              MOVCS    r2,#0
0003a0  ea4342c2          ORR      r2,r3,r2,LSL #19
0003a4  88cb              LDRH     r3,[r1,#6]  ; joys
0003a6  f5b36f40          CMP      r3,#0xc00
0003aa  bf8c              ITE      HI
0003ac  f04f0c01          MOVHI    r12,#1
0003b0  f04f0c00          MOVLS    r12,#0
0003b4  ea42520c          ORR      r2,r2,r12,LSL #20
0003b8  f5b36f80          CMP      r3,#0x400
0003bc  bf34              ITE      CC
0003be  2301              MOVCC    r3,#1
0003c0  2300              MOVCS    r3,#0
0003c2  ea425243          ORR      r2,r2,r3,LSL #21
0003c6  8889              LDRH     r1,[r1,#4]  ; joys
0003c8  f5b16f40          CMP      r1,#0xc00
0003cc  e000              B        |L12.976|
                  |L12.974|
0003ce  e00c              B        |L12.1002|
                  |L12.976|
0003d0  bf8c              ITE      HI
0003d2  2301              MOVHI    r3,#1
0003d4  2300              MOVLS    r3,#0
0003d6  ea425283          ORR      r2,r2,r3,LSL #22
0003da  f5b16f80          CMP      r1,#0x400
0003de  bf34              ITE      CC
0003e0  2101              MOVCC    r1,#1
0003e2  2100              MOVCS    r1,#0
0003e4  ea4251c1          ORR      r1,r2,r1,LSL #23
0003e8  6161              STR      r1,[r4,#0x14]  ; joypad_state
                  |L12.1002|
0003ea  490f              LDR      r1,|L12.1064|
                  |L12.1004|
0003ec  7008              STRB     r0,[r1,#0]
                  |L12.1006|
0003ee  1338              ASRS     r0,r7,#12
0003f0  2810              CMP      r0,#0x10
0003f2  d272              BCS      |L12.1242|
0003f4  e01a              B        |L12.1068|
0003f6  0000              DCW      0x0000
                  |L12.1016|
                          DCD      ||.data||
                  |L12.1020|
                          DCD      ||.bss||
                  |L12.1024|
                          DCD      PPU_Reg
                  |L12.1028|
                          DCD      PPU_Latch_Flag
                  |L12.1032|
                          DCD      PPU_scanline
                  |L12.1036|
                          DCD      Spr_Mem
                  |L12.1040|
                          DCD      PPU_Mem
                  |L12.1044|
                          DCD      PPU_BG_HScrlOrg
                  |L12.1048|
                          DCD      PPU_BG_VScrlOrg
                  |L12.1052|
                          DCD      ||.data||+0x9
                  |L12.1056|
                          DCD      0x40021000
                  |L12.1060|
                          DCD      joys
                  |L12.1064|
                          DCD      ||.data||+0xb
                  |L12.1068|
00042c  e8dff000          TBB      [pc,r0]
000430  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000434  8dafafaf          DCB      0x8d,0xaf,0xaf,0xaf
000438  b1b1b1b1          DCB      0xb1,0xb1,0xb1,0xb1
00043c  b7b7b7b7          DCB      0xb7,0xb7,0xb7,0xb7
000440  495a              LDR      r1,|L12.1452|
000442  f3c5000a          UBFX     r0,r5,#0,#11
000446  5c08              LDRB     r0,[r1,r0]
000448  e08a              B        |L12.1376|
00044a  f0050007          AND      r0,r5,#7
00044e  2808              CMP      r0,#8
000450  d242              BCS      |L12.1240|
000452  e8dff000          TBB      [pc,r0]
000456  0406              DCB      0x04,0x06
000458  09851d85          DCB      0x09,0x85,0x1d,0x85
00045c  8525              DCB      0x85,0x25
00045e  4854              LDR      r0,|L12.1456|
000460  e0a1              B        |L12.1446|
000462  4853              LDR      r0,|L12.1456|
000464  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
000466  e07b              B        |L12.1376|
000468  4951              LDR      r1,|L12.1456|
00046a  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
00046c  f0200280          BIC      r2,r0,#0x80
000470  708a              STRB     r2,[r1,#2]
000472  4a50              LDR      r2,|L12.1460|
000474  7016              STRB     r6,[r2,#0]
000476  4a50              LDR      r2,|L12.1464|
000478  6812              LDR      r2,[r2,#0]  ; PPU_scanline
00047a  3a15              SUBS     r2,r2,#0x15
00047c  2af1              CMP      r2,#0xf1
00047e  d26f              BCS      |L12.1376|
000480  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000482  f0120f80          TST      r2,#0x80
000486  bf04              ITT      EQ
000488  f0220203          BICEQ    r2,r2,#3
00048c  700a              STRBEQ   r2,[r1,#0]
00048e  e067              B        |L12.1376|
000490  494a              LDR      r1,|L12.1468|
000492  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000496  5c88              LDRB     r0,[r1,r2]
000498  1c52              ADDS     r2,r2,#1
00049a  f8812100          STRB     r2,[r1,#0x100]
00049e  e05f              B        |L12.1376|
0004a0  4a47              LDR      r2,|L12.1472|
0004a2  8811              LDRH     r1,[r2,#0]  ; PPU_Mem
0004a4  7890              LDRB     r0,[r2,#2]  ; PPU_Mem
0004a6  f4114370          ANDS     r3,r1,#0xf000
0004aa  bf04              ITT      EQ
0004ac  6853              LDREQ    r3,[r2,#4]  ; PPU_Mem
0004ae  5c5b              LDRBEQ   r3,[r3,r1]
0004b0  d019              BEQ      |L12.1254|
0004b2  f5b35f80          CMP      r3,#0x1000
0004b6  d011              BEQ      |L12.1244|
0004b8  f5b35f00          CMP      r3,#0x2000
0004bc  d015              BEQ      |L12.1258|
0004be  f5b35f40          CMP      r3,#0x3000
0004c2  bf18              IT       NE
0004c4  2000              MOVNE    r0,#0
0004c6  d02e              BEQ      |L12.1318|
                  |L12.1224|
0004c8  4b39              LDR      r3,|L12.1456|
0004ca  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0004cc  f0130f04          TST      r3,#4
0004d0  bf14              ITE      NE
0004d2  3120              ADDNE    r1,r1,#0x20
0004d4  1c49              ADDEQ    r1,r1,#1
0004d6  8011              STRH     r1,[r2,#0]
                  |L12.1240|
0004d8  e042              B        |L12.1376|
                  |L12.1242|
0004da  e040              B        |L12.1374|
                  |L12.1244|
0004dc  6893              LDR      r3,[r2,#8]  ; PPU_Mem
0004de  f3c10c0b          UBFX     r12,r1,#0,#12
0004e2  f813300c          LDRB     r3,[r3,r12]
                  |L12.1254|
0004e6  7093              STRB     r3,[r2,#2]
0004e8  e7ee              B        |L12.1224|
                  |L12.1258|
0004ea  f3c1030b          UBFX     r3,r1,#0,#12
0004ee  f5b36f40          CMP      r3,#0xc00
0004f2  bf84              ITT      HI
0004f4  f8d2c018          LDRHI    r12,[r2,#0x18]  ; PPU_Mem
0004f8  f5a36340          SUBHI    r3,r3,#0xc00
0004fc  d810              BHI      |L12.1312|
0004fe  f5b36f00          CMP      r3,#0x800
000502  bf84              ITT      HI
000504  f8d2c014          LDRHI    r12,[r2,#0x14]  ; PPU_Mem
000508  f5a36300          SUBHI    r3,r3,#0x800
00050c  d808              BHI      |L12.1312|
00050e  f5b36f80          CMP      r3,#0x400
000512  bf86              ITTE     HI
000514  f8d2c010          LDRHI    r12,[r2,#0x10]  ; PPU_Mem
000518  f5a36380          SUBHI    r3,r3,#0x400
00051c  f8d2c00c          LDRLS    r12,[r2,#0xc]  ; PPU_Mem
                  |L12.1312|
000520  f81c3003          LDRB     r3,[r12,r3]
000524  e7df              B        |L12.1254|
                  |L12.1318|
000526  f6437310          MOV      r3,#0x3f10
00052a  4299              CMP      r1,r3
00052c  d305              BCC      |L12.1338|
00052e  f001000f          AND      r0,r1,#0xf
000532  4410              ADD      r0,r0,r2
000534  f890002c          LDRB     r0,[r0,#0x2c]
000538  e7c6              B        |L12.1224|
                  |L12.1338|
00053a  f5b15f7c          CMP      r1,#0x3f00
00053e  d3c3              BCC      |L12.1224|
000540  f001000f          AND      r0,r1,#0xf
000544  4410              ADD      r0,r0,r2
000546  7f00              LDRB     r0,[r0,#0x1c]
000548  e7be              B        |L12.1224|
00054a  f5a54080          SUB      r0,r5,#0x4000
00054e  3816              SUBS     r0,r0,#0x16
000550  d01a              BEQ      |L12.1416|
000552  f5a54080          SUB      r0,r5,#0x4000
000556  3817              SUBS     r0,r0,#0x17
000558  bf08              IT       EQ
00055a  2001              MOVEQ    r0,#1
00055c  d014              BEQ      |L12.1416|
                  |L12.1374|
00055e  0a28              LSRS     r0,r5,#8
                  |L12.1376|
;;;247    	cpu_putmemory(savepc, temp);   
;;;248    
;;;249    	uint8_t value = cpu_getmemory(savepc);   
;;;250    	if (value) P &= 0xfd; else P |= 0x02;   
000560  7961              LDRB     r1,[r4,#5]  ; P
000562  f01000ff          ANDS     r0,r0,#0xff           ;249
000566  bf14              ITE      NE
000568  f00101fd          ANDNE    r1,r1,#0xfd
00056c  f0410102          ORREQ    r1,r1,#2
000570  7161              STRB     r1,[r4,#5]
;;;251    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000572  f0100f80          TST      r0,#0x80
000576  b2c8              UXTB     r0,r1
000578  bf14              ITE      NE
00057a  f0400080          ORRNE    r0,r0,#0x80
00057e  f000007f          ANDEQ    r0,r0,#0x7f
000582  7160              STRB     r0,[r4,#5]
;;;252    }   
000584  e8bd81f0          POP      {r4-r8,pc}
                  |L12.1416|
000588  f7fffffe          BL       joypad_read
00058c  e7e8              B        |L12.1376|
00058e  2000              MOVS     r0,#0
000590  e7e6              B        |L12.1376|
000592  69a0              LDR      r0,[r4,#0x18]  ; prg_rombank0
000594  4428              ADD      r0,r0,r5
000596  f5a04000          SUB      r0,r0,#0x8000
00059a  7800              LDRB     r0,[r0,#0]
00059c  e7e0              B        |L12.1376|
00059e  69e0              LDR      r0,[r4,#0x1c]  ; prg_rombank1
0005a0  4428              ADD      r0,r0,r5
0005a2  f5a04040          SUB      r0,r0,#0xc000
                  |L12.1446|
0005a6  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0005a8  e7da              B        |L12.1376|
;;;253    
                          ENDP

0005aa  0000              DCW      0x0000
                  |L12.1452|
                          DCD      ||.bss||
                  |L12.1456|
                          DCD      PPU_Reg
                  |L12.1460|
                          DCD      PPU_Latch_Flag
                  |L12.1464|
                          DCD      PPU_scanline
                  |L12.1468|
                          DCD      Spr_Mem
                  |L12.1472|
                          DCD      PPU_Mem

                          AREA ||i.cpu_eor||, CODE, READONLY, ALIGN=2

                  cpu_eor PROC
;;;267    
;;;268    static inline void cpu_eor(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;269    {   
;;;270    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c63              LDR      r4,|L13.408|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L13.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eb4b4b4          DCB      0x8e,0xb4,0xb4,0xb4
00001c  b6b6b6b6          DCB      0xb6,0xb6,0xb6,0xb6
000020  bcbcbcbc          DCB      0xbc,0xbc,0xbc,0xbc
000024  495d              LDR      r1,|L13.412|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L13.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L13.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4857              LDR      r0,|L13.416|
000044  e0a6              B        |L13.404|
000046  4856              LDR      r0,|L13.416|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L13.330|
00004c  4954              LDR      r1,|L13.416|
00004e  4b55              LDR      r3,|L13.420|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a52              LDR      r2,|L13.424|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L13.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L13.330|
000076  494d              LDR      r1,|L13.428|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L13.330|
000086  494a              LDR      r1,|L13.432|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L13.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L13.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L13.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L13.268|
                  |L13.174|
0000ae  4b3c              LDR      r3,|L13.416|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L13.190|
0000be  e044              B        |L13.330|
                  |L13.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L13.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L13.174|
                  |L13.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L13.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L13.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L13.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L13.202|
                  |L13.266|
00010a  e01d              B        |L13.328|
                  |L13.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L13.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L13.174|
                  |L13.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L13.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L13.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d01c              BEQ      |L13.374|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d016              BEQ      |L13.374|
                  |L13.328|
000148  0a00              LSRS     r0,r0,#8
                  |L13.330|
;;;271    	A ^= cpu_getmemory(savepc);   
00014a  78a1              LDRB     r1,[r4,#2]  ; A
00014c  4048              EORS     r0,r0,r1
00014e  f01000ff          ANDS     r0,r0,#0xff
000152  70a0              STRB     r0,[r4,#2]
;;;272    	if (A) P &= 0xfd; else P |= 0x02;   
000154  7961              LDRB     r1,[r4,#5]  ; P
000156  bf14              ITE      NE
000158  f00101fd          ANDNE    r1,r1,#0xfd
00015c  f0410102          ORREQ    r1,r1,#2
000160  7161              STRB     r1,[r4,#5]
;;;273    	if (A & 0x80) P |= 0x80; else P &= 0x7f;   
000162  f0100f80          TST      r0,#0x80
000166  b2c8              UXTB     r0,r1
000168  bf14              ITE      NE
00016a  f0400080          ORRNE    r0,r0,#0x80
00016e  f000007f          ANDEQ    r0,r0,#0x7f
000172  7160              STRB     r0,[r4,#5]
;;;274    }   
000174  bd10              POP      {r4,pc}
                  |L13.374|
000176  f7fffffe          BL       joypad_read
00017a  e7e6              B        |L13.330|
00017c  2000              MOVS     r0,#0
00017e  e7e4              B        |L13.330|
000180  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000182  4408              ADD      r0,r0,r1
000184  f5a04000          SUB      r0,r0,#0x8000
000188  7800              LDRB     r0,[r0,#0]
00018a  e7de              B        |L13.330|
00018c  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
00018e  4408              ADD      r0,r0,r1
000190  f5a04040          SUB      r0,r0,#0xc000
                  |L13.404|
000194  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000196  e7d8              B        |L13.330|
;;;275    
                          ENDP

                  |L13.408|
                          DCD      ||.data||
                  |L13.412|
                          DCD      ||.bss||
                  |L13.416|
                          DCD      PPU_Reg
                  |L13.420|
                          DCD      PPU_Latch_Flag
                  |L13.424|
                          DCD      PPU_scanline
                  |L13.428|
                          DCD      Spr_Mem
                  |L13.432|
                          DCD      PPU_Mem

                          AREA ||i.cpu_exec||, CODE, READONLY, ALIGN=2

                  cpu_exec PROC
;;;167    /* Execute Instruction */   
;;;168    void cpu_exec(int timerTicks)   
000000  b570              PUSH     {r4-r6,lr}
;;;169    {   
;;;170    	if(NMI_Flag == SET1){   
000002  4c2a              LDR      r4,|L14.172|
000004  4605              MOV      r5,r0                 ;169
000006  4e2a              LDR      r6,|L14.176|
000008  7820              LDRB     r0,[r4,#0]  ; NMI_Flag
00000a  2300              MOVS     r3,#0
00000c  2801              CMP      r0,#1
00000e  d115              BNE      |L14.60|
000010  79a0              LDRB     r0,[r4,#6]            ;169  ; S
000012  89e1              LDRH     r1,[r4,#0xe]          ;169  ; PC
000014  1e80              SUBS     r0,r0,#2              ;169
000016  b2c0              UXTB     r0,r0                 ;169
000018  1832              ADDS     r2,r6,r0              ;169
00001a  1e40              SUBS     r0,r0,#1              ;169
00001c  f8a21101          STRH     r1,[r2,#0x101]        ;169
000020  7961              LDRB     r1,[r4,#5]            ;169  ; P
000022  f8821100          STRB     r1,[r2,#0x100]        ;169
000026  71a0              STRB     r0,[r4,#6]            ;169
000028  f0410004          ORR      r0,r1,#4              ;169
00002c  7160              STRB     r0,[r4,#5]            ;169
00002e  69e0              LDR      r0,[r4,#0x1c]         ;169  ; prg_rombank1
000030  f5005040          ADD      r0,r0,#0x3000         ;169
000034  f8b00ffa          LDRH     r0,[r0,#0xffa]        ;169
000038  81e0              STRH     r0,[r4,#0xe]          ;169
;;;171    		cpu_nmi();   
;;;172    		NMI_Flag = CLR0;   
00003a  7023              STRB     r3,[r4,#0]
                  |L14.60|
;;;173    	} 
;;;174    	/*else if(IRQ_Flag == SET1 && !(P & I_FLAG)){   
;;;175    		cpu_irq();   
;;;176    		IRQ_Flag = CLR0;   
;;;177    	}*/   
;;;178    
;;;179    	while (timerTicks > cpu_clockticks)    
00003c  6a20              LDR      r0,[r4,#0x20]  ; cpu_clockticks
00003e  4285              CMP      r5,r0
000040  dd31              BLE      |L14.166|
                  |L14.66|
000042  89e1              LDRH     r1,[r4,#0xe]  ; PC
000044  1c48              ADDS     r0,r1,#1
000046  81e0              STRH     r0,[r4,#0xe]
000048  f4014070          AND      r0,r1,#0xf000
00004c  1300              ASRS     r0,r0,#12
00004e  2810              CMP      r0,#0x10
000050  d223              BCS      |L14.154|
000052  e8dff000          TBB      [pc,r0]
000056  0808              DCB      0x08,0x08
000058  22222222          DCB      0x22,0x22,0x22,0x22
00005c  0c220c0c          DCB      0x0c,0x22,0x0c,0x0c
000060  0c0c1717          DCB      0x0c,0x0c,0x17,0x17
000064  1717              DCB      0x17,0x17
000066  f3c1000a          UBFX     r0,r1,#0,#11
00006a  5c30              LDRB     r0,[r6,r0]
00006c  71e0              STRB     r0,[r4,#7]
00006e  69a0              LDR      r0,[r4,#0x18]  ; prg_rombank0
000070  4408              ADD      r0,r0,r1
000072  f5a04000          SUB      r0,r0,#0x8000
000076  7802              LDRB     r2,[r0,#0]
000078  71e2              STRB     r2,[r4,#7]
00007a  7842              LDRB     r2,[r0,#1]
00007c  7222              STRB     r2,[r4,#8]
00007e  f8b00001          LDRH     r0,[r0,#1]
000082  8220              STRH     r0,[r4,#0x10]
000084  69e0              LDR      r0,[r4,#0x1c]  ; prg_rombank1
000086  4408              ADD      r0,r0,r1
000088  f5a04040          SUB      r0,r0,#0xc000
00008c  7801              LDRB     r1,[r0,#0]
00008e  71e1              STRB     r1,[r4,#7]
000090  7841              LDRB     r1,[r0,#1]
000092  7221              STRB     r1,[r4,#8]
000094  f8b00001          LDRH     r0,[r0,#1]
000098  8220              STRH     r0,[r4,#0x10]
                  |L14.154|
;;;180    	{   
;;;181    		// opcode = cpu_getmemory(PC);   
;;;182    		// PC++;   
;;;183    		cpu_loadinstruction();
;;;184    
;;;185    		// opcodetable[opcode].instruction();   
;;;186    		// cpu_clockticks += opcodetable[opcode].ticks;   
;;;187    		cpu_execinstruction(opcode);
00009a  79e0              LDRB     r0,[r4,#7]  ; opcode
00009c  f7fffffe          BL       cpu_execinstruction
0000a0  6a20              LDR      r0,[r4,#0x20]         ;179  ; cpu_clockticks
0000a2  4285              CMP      r5,r0                 ;179
0000a4  dccd              BGT      |L14.66|
                  |L14.166|
;;;188    	}   
;;;189    	cpu_clockticks -= timerTicks;   
0000a6  1b40              SUBS     r0,r0,r5
0000a8  6220              STR      r0,[r4,#0x20]  ; cpu_clockticks
;;;190    }
0000aa  bd70              POP      {r4-r6,pc}
;;;191    
                          ENDP

                  |L14.172|
                          DCD      ||.data||
                  |L14.176|
                          DCD      ||.bss||

                          AREA ||i.cpu_execinstruction||, CODE, READONLY, ALIGN=2

                  cpu_execinstruction PROC
;;;277    #define OPCODE_SWITCH(A, B, C, D) case D: cpu_ ## B(cpu_ ## C); cpu_clockticks += A; break;
;;;278    static void cpu_execinstruction(uint8_t op) {
000000  b570              PUSH     {r4-r6,lr}
000002  4c8a              LDR      r4,|L15.556|
;;;279    	switch (op) {
000004  2880              CMP      r0,#0x80
000006  f0018317          BEQ.W    |L15.5688|
00000a  dc03              BGT      |L15.20|
00000c  2880              CMP      r0,#0x80
;;;280    		OPCODE_TABLE(OPCODE_SWITCH)
;;;281    	}
;;;282    }
00000e  bf28              IT       CS
000010  bd70              POPCS    {r4-r6,pc}
000012  e000              B        |L15.22|
                  |L15.20|
000014  e104              B        |L15.544|
                  |L15.22|
000016  0081              LSLS     r1,r0,#2
000018  4479              ADD      r1,r1,pc
00001a  6849              LDR      r1,[r1,#4]
00001c  448f              ADD      pc,pc,r1
00001e  0000              DCW      0x0000
                          DCD      0x00000418
                          DCD      0x0000044e
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x00000462
                          DCD      0x00000486
                          DCD      0x000004c0
                          DCD      0x0000045c
                          DCD      0x00000504
                          DCD      0x0000051a
                          DCD      0x00000526
                          DCD      0x0000055a
                          DCD      0x00000566
                          DCD      0x00000572
                          DCD      0x0000057e
                          DCD      0x0000045c
                          DCD      0x0000058a
                          DCD      0x0000059c
                          DCD      0x000005a8
                          DCD      0x0000045c
                          DCD      0x00000734
                          DCD      0x00000750
                          DCD      0x00000790
                          DCD      0x0000045c
                          DCD      0x000007d8
                          DCD      0x000007e2
                          DCD      0x000007ee
                          DCD      0x0000045c
                          DCD      0x00000848
                          DCD      0x00000854
                          DCD      0x00000860
                          DCD      0x0000045c
                          DCD      0x0000086c
                          DCD      0x00000890
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x0000089c
                          DCD      0x000008ca
                          DCD      0x000008f6
                          DCD      0x0000045c
                          DCD      0x00000938
                          DCD      0x00000954
                          DCD      0x00000960
                          DCD      0x0000045c
                          DCD      0x00000996
                          DCD      0x000009a2
                          DCD      0x000009ae
                          DCD      0x0000045c
                          DCD      0x000009ba
                          DCD      0x000009e0
                          DCD      0x000009ec
                          DCD      0x0000045c
                          DCD      0x00000b78
                          DCD      0x00000ba8
                          DCD      0x00000bd8
                          DCD      0x0000045c
                          DCD      0x00000c22
                          DCD      0x00000c58
                          DCD      0x00000c66
                          DCD      0x0000045c
                          DCD      0x00000c88
                          DCD      0x00000c96
                          DCD      0x00000ca4
                          DCD      0x0000045c
                          DCD      0x00000cb2
                          DCD      0x00000cda
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x00000ce8
                          DCD      0x00000d14
                          DCD      0x0000045c
                          DCD      0x00000d5c
                          DCD      0x00000d74
                          DCD      0x00000d82
                          DCD      0x0000045c
                          DCD      0x00000db4
                          DCD      0x00000dc2
                          DCD      0x00000dd0
                          DCD      0x0000045c
                          DCD      0x00000dde
                          DCD      0x00000dea
                          DCD      0x00000df8
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x00000f86
                          DCD      0x00000fb8
                          DCD      0x0000045c
                          DCD      0x00000ffc
                          DCD      0x0000100c
                          DCD      0x0000101a
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x00001032
                          DCD      0x00001070
                          DCD      0x0000045c
                          DCD      0x0000107e
                          DCD      0x00001098
                          DCD      0x0000045c
                          DCD      0x0000045c
                          DCD      0x000010a6
                          DCD      0x000010bc
                          DCD      0x00001150
                          DCD      0x0000045c
                          DCD      0x0000119c
                          DCD      0x000011ca
                          DCD      0x000011d8
                          DCD      0x0000045c
                          DCD      0x00001220
                          DCD      0x0000122e
                          DCD      0x0000123c
                          DCD      0x0000045c
                          DCD      0x0000124a
                          DCD      0x00001268
                          DCD      0x00001276
                          DCD      0x0000045c
                          DCD      0x00001498
                          DCD      0x000014b0
                          DCD      0x0000154a
                          DCD      0x0000045c
                          DCD      0x000015a4
                          DCD      0x000015b4
                          DCD      0x000015be
                          DCD      0x0000045c
                          DCD      0x000015ec
                          DCD      0x000015fa
                          DCD      0x00001608
                          DCD      0x0000045c
                  |L15.544|
000220  3881              SUBS     r0,r0,#0x81
000222  287f              CMP      r0,#0x7f              ;279
000224  bf28              IT       CS
000226  bd70              POPCS    {r4-r6,pc}
000228  e002              B        |L15.560|
00022a  0000              DCW      0x0000
                  |L15.556|
                          DCD      ||.data||
                  |L15.560|
000230  0081              LSLS     r1,r0,#2
000232  bf00              NOP      
000234  4479              ADD      r1,r1,pc
000236  6849              LDR      r1,[r1,#4]
000238  448f              ADD      pc,pc,r1
00023a  0000              DCW      0x0000
                          DCD      0x0000140e
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x0000141c
                          DCD      0x0000142e
                          DCD      0x00001440
                          DCD      0x00000240
                          DCD      0x00001452
                          DCD      0x00001476
                          DCD      0x00001480
                          DCD      0x00000240
                          DCD      0x000014a0
                          DCD      0x0000175e
                          DCD      0x00001768
                          DCD      0x00000240
                          DCD      0x0000198e
                          DCD      0x0000199c
                          DCD      0x000019aa
                          DCD      0x00000240
                          DCD      0x00001c62
                          DCD      0x00001c7e
                          DCD      0x00001c9a
                          DCD      0x00000240
                          DCD      0x00001cb6
                          DCD      0x00001cd6
                          DCD      0x00001ce4
                          DCD      0x00000240
                          DCD      0x00001cf0
                          DCD      0x00001cfe
                          DCD      0x00001d0c
                          DCD      0x00000240
                          DCD      0x00001d1a
                          DCD      0x00001d28
                          DCD      0x00001d36
                          DCD      0x00000240
                          DCD      0x00001d44
                          DCD      0x00001d6e
                          DCD      0x00001d98
                          DCD      0x00000240
                          DCD      0x00001dc2
                          DCD      0x00001de2
                          DCD      0x00001df0
                          DCD      0x00000240
                          DCD      0x00001e10
                          DCD      0x00001e1e
                          DCD      0x00001e2c
                          DCD      0x00000240
                          DCD      0x00001e3a
                          DCD      0x00001e48
                          DCD      0x00001e56
                          DCD      0x00000240
                          DCD      0x00002022
                          DCD      0x00002052
                          DCD      0x00002082
                          DCD      0x00000240
                          DCD      0x000020b2
                          DCD      0x000020c2
                          DCD      0x000020d0
                          DCD      0x00000240
                          DCD      0x000020f0
                          DCD      0x000020fe
                          DCD      0x0000210c
                          DCD      0x00000240
                          DCD      0x0000211a
                          DCD      0x00002128
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x00002136
                          DCD      0x00002178
                          DCD      0x000021ba
                          DCD      0x00000240
                          DCD      0x000021e8
                          DCD      0x0000220c
                          DCD      0x0000221a
                          DCD      0x00000240
                          DCD      0x0000223e
                          DCD      0x0000224c
                          DCD      0x0000225a
                          DCD      0x00000240
                          DCD      0x00002268
                          DCD      0x00002276
                          DCD      0x00002284
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x00002458
                          DCD      0x000024a0
                          DCD      0x00000240
                          DCD      0x000024d4
                          DCD      0x000024e4
                          DCD      0x000024f2
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x0000250a
                          DCD      0x00002518
                          DCD      0x00000240
                          DCD      0x00002526
                          DCD      0x00002534
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x00002542
                          DCD      0x00002584
                          DCD      0x00002624
                          DCD      0x00000240
                          DCD      0x00002652
                          DCD      0x00002676
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x00002684
                          DCD      0x00002692
                          DCD      0x000026a0
                          DCD      0x00000240
                          DCD      0x000026ae
                          DCD      0x000026bc
                          DCD      0x000026ca
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x00002904
                          DCD      0x000029aa
                          DCD      0x00000240
                          DCD      0x000029de
                          DCD      0x000029ee
                          DCD      0x000029fc
                          DCD      0x00000240
                          DCD      0x00000240
                          DCD      0x00002a2a
                          DCD      0x00002a38
                          DCD      0x00000240
000438  89e0              LDRH     r0,[r4,#0xe]  ; PC
00043a  4aff              LDR      r2,|L15.2104|
00043c  1c41              ADDS     r1,r0,#1
00043e  79a0              LDRB     r0,[r4,#6]  ; S
000440  1e80              SUBS     r0,r0,#2
000442  b2c0              UXTB     r0,r0
000444  4402              ADD      r2,r2,r0
000446  1e40              SUBS     r0,r0,#1
000448  f8a21101          STRH     r1,[r2,#0x101]
00044c  7961              LDRB     r1,[r4,#5]  ; P
00044e  f8821100          STRB     r1,[r2,#0x100]
000452  71a0              STRB     r0,[r4,#6]
000454  f0410014          ORR      r0,r1,#0x14
000458  7160              STRB     r0,[r4,#5]
00045a  69e0              LDR      r0,[r4,#0x1c]  ; prg_rombank1
00045c  f5005040          ADD      r0,r0,#0x3000
000460  f8b00ffe          LDRH     r0,[r0,#0xffe]
000464  81e0              STRH     r0,[r4,#0xe]
000466  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000468  1dc0              ADDS     r0,r0,#7              ;280
00046a  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00046c  bd70              POP      {r4-r6,pc}
00046e  48f3              LDR      r0,|L15.2108|
000470  f7fffffe          BL       cpu_ora
000474  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000476  1d80              ADDS     r0,r0,#6              ;280
                  |L15.1144|
000478  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00047a  bd70              POP      {r4-r6,pc}
                  |L15.1148|
00047c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00047e  1c80              ADDS     r0,r0,#2              ;280
000480  e7fa              B        |L15.1144|
000482  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000484  4aec              LDR      r2,|L15.2104|
000486  1c40              ADDS     r0,r0,#1              ;280
000488  81e0              STRH     r0,[r4,#0xe]          ;280
00048a  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
00048c  78a3              LDRB     r3,[r4,#2]            ;280  ; A
00048e  5c11              LDRB     r1,[r2,r0]            ;280
000490  4319              ORRS     r1,r1,r3              ;280
000492  5411              STRB     r1,[r2,r0]            ;280
000494  d003              BEQ      |L15.1182|
                  |L15.1174|
000496  7960              LDRB     r0,[r4,#5]            ;280  ; P
000498  f00000fd          AND      r0,r0,#0xfd           ;280
00049c  e01c              B        |L15.1240|
                  |L15.1182|
00049e  7960              LDRB     r0,[r4,#5]            ;280  ; P
0004a0  f0400002          ORR      r0,r0,#2              ;280
0004a4  e018              B        |L15.1240|
0004a6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0004a8  49e3              LDR      r1,|L15.2104|
0004aa  1c40              ADDS     r0,r0,#1              ;280
0004ac  81e0              STRH     r0,[r4,#0xe]          ;280
0004ae  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0004b0  5c08              LDRB     r0,[r1,r0]            ;280
0004b2  78a1              LDRB     r1,[r4,#2]            ;280  ; A
0004b4  4308              ORRS     r0,r0,r1              ;280
0004b6  70a0              STRB     r0,[r4,#2]            ;280
0004b8  7961              LDRB     r1,[r4,#5]            ;280  ; P
0004ba  bf14              ITE      NE                    ;280
0004bc  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0004c0  f0410102          ORREQ    r1,r1,#2              ;280
0004c4  7161              STRB     r1,[r4,#5]            ;280
0004c6  f0100f80          TST      r0,#0x80              ;280
0004ca  d003              BEQ      |L15.1236|
                  |L15.1228|
0004cc  b2c8              UXTB     r0,r1                 ;280
0004ce  f0400080          ORR      r0,r0,#0x80           ;280
0004d2  e001              B        |L15.1240|
                  |L15.1236|
0004d4  f001007f          AND      r0,r1,#0x7f           ;280
                  |L15.1240|
0004d8  7160              STRB     r0,[r4,#5]            ;280
                  |L15.1242|
0004da  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0004dc  1cc0              ADDS     r0,r0,#3              ;280
0004de  e7cb              B        |L15.1144|
0004e0  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0004e2  4ad5              LDR      r2,|L15.2104|
0004e4  1c40              ADDS     r0,r0,#1              ;280
0004e6  81e0              STRH     r0,[r4,#0xe]          ;280
0004e8  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0004ea  7963              LDRB     r3,[r4,#5]            ;280  ; P
0004ec  5c11              LDRB     r1,[r2,r0]            ;280
0004ee  f00303fe          AND      r3,r3,#0xfe           ;280
0004f2  ea4313d1          ORR      r3,r3,r1,LSR #7       ;280
0004f6  0049              LSLS     r1,r1,#1              ;280
0004f8  7163              STRB     r3,[r4,#5]            ;280
0004fa  f01101ff          ANDS     r1,r1,#0xff           ;280
0004fe  5411              STRB     r1,[r2,r0]            ;280
000500  bf14              ITE      NE                    ;280
000502  f00300fd          ANDNE    r0,r3,#0xfd           ;280
000506  f0430002          ORREQ    r0,r3,#2              ;280
00050a  7160              STRB     r0,[r4,#5]            ;280
00050c  f0110f80          TST      r1,#0x80              ;280
000510  b2c0              UXTB     r0,r0                 ;280
000512  bf14              ITE      NE                    ;280
000514  f0400080          ORRNE    r0,r0,#0x80           ;280
000518  f000007f          ANDEQ    r0,r0,#0x7f           ;280
                  |L15.1308|
00051c  7160              STRB     r0,[r4,#5]            ;280
00051e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000520  1d40              ADDS     r0,r0,#5              ;280
000522  e7a9              B        |L15.1144|
000524  4ac4              LDR      r2,|L15.2104|
000526  79a1              LDRB     r1,[r4,#6]            ;280  ; S
000528  7960              LDRB     r0,[r4,#5]            ;280  ; P
00052a  440a              ADD      r2,r2,r1              ;280
00052c  f8820100          STRB     r0,[r2,#0x100]        ;280
000530  1e48              SUBS     r0,r1,#1              ;280
000532  71a0              STRB     r0,[r4,#6]            ;280
000534  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000536  1cc0              ADDS     r0,r0,#3              ;280
000538  e79e              B        |L15.1144|
00053a  48c1              LDR      r0,|L15.2112|
00053c  f7fffffe          BL       cpu_ora
000540  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000542  1cc0              ADDS     r0,r0,#3              ;280
000544  e798              B        |L15.1144|
000546  7960              LDRB     r0,[r4,#5]            ;280  ; P
000548  f00001fe          AND      r1,r0,#0xfe           ;280
00054c  78a0              LDRB     r0,[r4,#2]            ;280  ; A
00054e  ea4111d0          ORR      r1,r1,r0,LSR #7       ;280
000552  0040              LSLS     r0,r0,#1              ;280
000554  7161              STRB     r1,[r4,#5]            ;280
000556  f01000ff          ANDS     r0,r0,#0xff           ;280
00055a  70a0              STRB     r0,[r4,#2]            ;280
00055c  bf14              ITE      NE                    ;280
00055e  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000562  f0410102          ORREQ    r1,r1,#2              ;280
000566  7161              STRB     r1,[r4,#5]            ;280
000568  f0100f80          TST      r0,#0x80              ;280
00056c  d002              BEQ      |L15.1396|
                  |L15.1390|
00056e  b2c8              UXTB     r0,r1                 ;280
000570  f000bc2c          B.W      |L15.3532|
                  |L15.1396|
000574  b2c8              UXTB     r0,r1                 ;280
000576  f000be5f          B.W      |L15.4664|
00057a  48b2              LDR      r0,|L15.2116|
00057c  f7fffffe          BL       cpu_ora
000580  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000582  1c80              ADDS     r0,r0,#2              ;280
000584  e778              B        |L15.1144|
000586  48b0              LDR      r0,|L15.2120|
000588  f7fffffe          BL       cpu_tsb
00058c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00058e  1d00              ADDS     r0,r0,#4              ;280
000590  e772              B        |L15.1144|
000592  48ad              LDR      r0,|L15.2120|
000594  f7fffffe          BL       cpu_ora
000598  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00059a  1d00              ADDS     r0,r0,#4              ;280
00059c  e76c              B        |L15.1144|
00059e  48aa              LDR      r0,|L15.2120|
0005a0  f7fffffe          BL       cpu_asl
0005a4  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0005a6  1d80              ADDS     r0,r0,#6              ;280
0005a8  e766              B        |L15.1144|
0005aa  7960              LDRB     r0,[r4,#5]            ;280  ; P
0005ac  f0100f80          TST      r0,#0x80              ;280
0005b0  f0008218          BEQ.W    |L15.2532|
0005b4  f000ba1f          B.W      |L15.2550|
                  |L15.1464|
0005b8  1c80              ADDS     r0,r0,#2              ;280
0005ba  e75d              B        |L15.1144|
0005bc  48a3              LDR      r0,|L15.2124|
0005be  f7fffffe          BL       cpu_ora
0005c2  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0005c4  1d40              ADDS     r0,r0,#5              ;280
0005c6  e757              B        |L15.1144|
0005c8  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0005ca  499b              LDR      r1,|L15.2104|
0005cc  1c40              ADDS     r0,r0,#1              ;280
0005ce  81e0              STRH     r0,[r4,#0xe]          ;280
0005d0  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0005d2  5c08              LDRB     r0,[r1,r0]            ;280
0005d4  2100              MOVS     r1,#0                 ;280
0005d6  1309              ASRS     r1,r1,#12             ;280
0005d8  2910              CMP      r1,#0x10              ;280
0005da  d27b              BCS      |L15.1748|
0005dc  e8dff001          TBB      [pc,r1]               ;280
0005e0  08080b0b          DCB      0x08,0x08,0x0b,0x0b
0005e4  8dacacac          DCB      0x8d,0xac,0xac,0xac
0005e8  aeaeaeae          DCB      0xae,0xae,0xae,0xae
0005ec  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
0005f0  4991              LDR      r1,|L15.2104|
0005f2  5c08              LDRB     r0,[r1,r0]            ;280
0005f4  e08e              B        |L15.1812|
0005f6  f0000007          AND      r0,r0,#7              ;280
0005fa  2808              CMP      r0,#8                 ;280
0005fc  d244              BCS      |L15.1672|
0005fe  e8dff000          TBB      [pc,r0]               ;280
000602  0406              DCB      0x04,0x06
000604  09891e89          DCB      0x09,0x89,0x1e,0x89
000608  8926              DCB      0x89,0x26
00060a  4891              LDR      r0,|L15.2128|
00060c  e0a0              B        |L15.1872|
00060e  4890              LDR      r0,|L15.2128|
000610  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
000612  e07f              B        |L15.1812|
000614  498e              LDR      r1,|L15.2128|
000616  4b8f              LDR      r3,|L15.2132|
000618  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
00061a  f0200280          BIC      r2,r0,#0x80           ;280
00061e  708a              STRB     r2,[r1,#2]            ;280
000620  2200              MOVS     r2,#0                 ;280
000622  701a              STRB     r2,[r3,#0]            ;280
000624  4a8c              LDR      r2,|L15.2136|
000626  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
000628  3a15              SUBS     r2,r2,#0x15           ;280
00062a  2af1              CMP      r2,#0xf1              ;280
00062c  d272              BCS      |L15.1812|
00062e  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
000630  f0120f80          TST      r2,#0x80              ;280
000634  bf04              ITT      EQ                    ;280
000636  f0220203          BICEQ    r2,r2,#3              ;280
00063a  700a              STRBEQ   r2,[r1,#0]            ;280
00063c  e06a              B        |L15.1812|
00063e  4987              LDR      r1,|L15.2140|
000640  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
000644  5c88              LDRB     r0,[r1,r2]            ;280
000646  1c52              ADDS     r2,r2,#1              ;280
000648  f8812100          STRB     r2,[r1,#0x100]        ;280
00064c  e062              B        |L15.1812|
00064e  4984              LDR      r1,|L15.2144|
000650  880b              LDRH     r3,[r1,#0]            ;280  ; PPU_Mem
000652  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Mem
000654  f4134270          ANDS     r2,r3,#0xf000         ;280
000658  bf04              ITT      EQ                    ;280
00065a  684a              LDREQ    r2,[r1,#4]            ;280  ; PPU_Mem
00065c  5cd2              LDRBEQ   r2,[r2,r3]            ;280
00065e  d019              BEQ      |L15.1684|
000660  f5b25f80          CMP      r2,#0x1000            ;280
000664  d011              BEQ      |L15.1674|
000666  f5b25f00          CMP      r2,#0x2000            ;280
00066a  d015              BEQ      |L15.1688|
00066c  f5b25f40          CMP      r2,#0x3000            ;280
000670  bf18              IT       NE                    ;280
000672  2000              MOVNE    r0,#0                 ;280
000674  d02f              BEQ      |L15.1750|
                  |L15.1654|
000676  4a76              LDR      r2,|L15.2128|
000678  7812              LDRB     r2,[r2,#0]            ;280  ; PPU_Reg
00067a  f0120f04          TST      r2,#4                 ;280
00067e  bf14              ITE      NE                    ;280
000680  f1030220          ADDNE    r2,r3,#0x20           ;280
000684  1c5a              ADDEQ    r2,r3,#1              ;280
000686  800a              STRH     r2,[r1,#0]            ;280
                  |L15.1672|
000688  e044              B        |L15.1812|
                  |L15.1674|
00068a  688a              LDR      r2,[r1,#8]            ;280  ; PPU_Mem
00068c  f3c30c0b          UBFX     r12,r3,#0,#12         ;280
000690  f812200c          LDRB     r2,[r2,r12]           ;280
                  |L15.1684|
000694  708a              STRB     r2,[r1,#2]            ;280
000696  e7ee              B        |L15.1654|
                  |L15.1688|
000698  f3c3020b          UBFX     r2,r3,#0,#12          ;280
00069c  f5b26f40          CMP      r2,#0xc00             ;280
0006a0  bf84              ITT      HI                    ;280
0006a2  f8d1c018          LDRHI    r12,[r1,#0x18]        ;280  ; PPU_Mem
0006a6  f5a26240          SUBHI    r2,r2,#0xc00          ;280
0006aa  d810              BHI      |L15.1742|
0006ac  f5b26f00          CMP      r2,#0x800             ;280
0006b0  bf84              ITT      HI                    ;280
0006b2  f8d1c014          LDRHI    r12,[r1,#0x14]        ;280  ; PPU_Mem
0006b6  f5a26200          SUBHI    r2,r2,#0x800          ;280
0006ba  d808              BHI      |L15.1742|
0006bc  f5b26f80          CMP      r2,#0x400             ;280
0006c0  bf86              ITTE     HI                    ;280
0006c2  f8d1c010          LDRHI    r12,[r1,#0x10]        ;280  ; PPU_Mem
0006c6  f5a26280          SUBHI    r2,r2,#0x400          ;280
0006ca  f8d1c00c          LDRLS    r12,[r1,#0xc]         ;280  ; PPU_Mem
                  |L15.1742|
0006ce  f81c2002          LDRB     r2,[r12,r2]           ;280
0006d2  e7df              B        |L15.1684|
                  |L15.1748|
0006d4  e01d              B        |L15.1810|
                  |L15.1750|
0006d6  f6437210          MOV      r2,#0x3f10            ;280
0006da  4293              CMP      r3,r2                 ;280
0006dc  d305              BCC      |L15.1770|
0006de  f003000f          AND      r0,r3,#0xf            ;280
0006e2  4408              ADD      r0,r0,r1              ;280
0006e4  f890002c          LDRB     r0,[r0,#0x2c]         ;280
0006e8  e7c5              B        |L15.1654|
                  |L15.1770|
0006ea  f5b35f7c          CMP      r3,#0x3f00            ;280
0006ee  d3c2              BCC      |L15.1654|
0006f0  f003000f          AND      r0,r3,#0xf            ;280
0006f4  4408              ADD      r0,r0,r1              ;280
0006f6  7f00              LDRB     r0,[r0,#0x1c]         ;280
0006f8  e7bd              B        |L15.1654|
0006fa  f5a04180          SUB      r1,r0,#0x4000         ;280
0006fe  3916              SUBS     r1,r1,#0x16           ;280
000700  bf08              IT       EQ                    ;280
000702  2000              MOVEQ    r0,#0                 ;280
000704  d015              BEQ      |L15.1842|
000706  f5a04180          SUB      r1,r0,#0x4000         ;280
00070a  3917              SUBS     r1,r1,#0x17           ;280
00070c  bf08              IT       EQ                    ;280
00070e  2001              MOVEQ    r0,#1                 ;280
000710  d00f              BEQ      |L15.1842|
                  |L15.1810|
000712  0a00              LSRS     r0,r0,#8              ;280
                  |L15.1812|
000714  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000716  4308              ORRS     r0,r0,r1              ;280
000718  70a0              STRB     r0,[r4,#2]            ;280
00071a  7961              LDRB     r1,[r4,#5]            ;280  ; P
00071c  bf14              ITE      NE                    ;280
00071e  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000722  f0410102          ORREQ    r1,r1,#2              ;280
000726  7161              STRB     r1,[r4,#5]            ;280
000728  f0100f80          TST      r0,#0x80              ;280
00072c  f43faed2          BEQ      |L15.1236|
000730  e6cc              B        |L15.1228|
                  |L15.1842|
000732  f7fffffe          BL       joypad_read
000736  e7ed              B        |L15.1812|
000738  2000              MOVS     r0,#0                 ;280
00073a  e7eb              B        |L15.1812|
00073c  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
00073e  4408              ADD      r0,r0,r1              ;280
000740  f5a04000          SUB      r0,r0,#0x8000         ;280
000744  7800              LDRB     r0,[r0,#0]            ;280
000746  e7e5              B        |L15.1812|
000748  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
00074a  4408              ADD      r0,r0,r1              ;280
00074c  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.1872|
000750  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
000752  e7df              B        |L15.1812|
000754  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000756  4a38              LDR      r2,|L15.2104|
000758  1c40              ADDS     r0,r0,#1              ;280
00075a  81e0              STRH     r0,[r4,#0xe]          ;280
00075c  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
00075e  78a3              LDRB     r3,[r4,#2]            ;280  ; A
000760  5c11              LDRB     r1,[r2,r0]            ;280
000762  f08303ff          EOR      r3,r3,#0xff           ;280
000766  4019              ANDS     r1,r1,r3              ;280
000768  5411              STRB     r1,[r2,r0]            ;280
00076a  f43fae98          BEQ      |L15.1182|
00076e  e692              B        |L15.1174|
000770  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000772  1c40              ADDS     r0,r0,#1              ;280
000774  81e0              STRH     r0,[r4,#0xe]          ;280
000776  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000778  78e1              LDRB     r1,[r4,#3]            ;280  ; X
00077a  4408              ADD      r0,r0,r1              ;280
00077c  492e              LDR      r1,|L15.2104|
00077e  b2c0              UXTB     r0,r0                 ;280
000780  5c08              LDRB     r0,[r1,r0]            ;280
000782  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000784  4308              ORRS     r0,r0,r1              ;280
000786  70a0              STRB     r0,[r4,#2]            ;280
000788  7961              LDRB     r1,[r4,#5]            ;280  ; P
00078a  bf14              ITE      NE                    ;280
00078c  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000790  f0410102          ORREQ    r1,r1,#2              ;280
000794  7161              STRB     r1,[r4,#5]            ;280
000796  f0100f80          TST      r0,#0x80              ;280
00079a  d003              BEQ      |L15.1956|
                  |L15.1948|
00079c  b2c8              UXTB     r0,r1                 ;280
00079e  f0400080          ORR      r0,r0,#0x80           ;280
0007a2  e001              B        |L15.1960|
                  |L15.1956|
0007a4  f001007f          AND      r0,r1,#0x7f           ;280
                  |L15.1960|
0007a8  7160              STRB     r0,[r4,#5]            ;280
                  |L15.1962|
0007aa  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0007ac  1d00              ADDS     r0,r0,#4              ;280
0007ae  e663              B        |L15.1144|
0007b0  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0007b2  4a21              LDR      r2,|L15.2104|
0007b4  1c40              ADDS     r0,r0,#1              ;280
0007b6  81e0              STRH     r0,[r4,#0xe]          ;280
0007b8  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0007ba  78e1              LDRB     r1,[r4,#3]            ;280  ; X
0007bc  7963              LDRB     r3,[r4,#5]            ;280  ; P
0007be  4408              ADD      r0,r0,r1              ;280
0007c0  b2c0              UXTB     r0,r0                 ;280
0007c2  f00303fe          AND      r3,r3,#0xfe           ;280
0007c6  5c11              LDRB     r1,[r2,r0]            ;280
0007c8  ea4313d1          ORR      r3,r3,r1,LSR #7       ;280
0007cc  0049              LSLS     r1,r1,#1              ;280
0007ce  7163              STRB     r3,[r4,#5]            ;280
0007d0  f01101ff          ANDS     r1,r1,#0xff           ;280
0007d4  5411              STRB     r1,[r2,r0]            ;280
0007d6  bf14              ITE      NE                    ;280
0007d8  f00300fd          ANDNE    r0,r3,#0xfd           ;280
0007dc  f0430002          ORREQ    r0,r3,#2              ;280
0007e0  7160              STRB     r0,[r4,#5]            ;280
0007e2  f0110f80          TST      r1,#0x80              ;280
0007e6  f00086e8          BEQ.W    |L15.5562|
                  |L15.2026|
0007ea  7960              LDRB     r0,[r4,#5]            ;280  ; P
0007ec  f0400080          ORR      r0,r0,#0x80           ;280
                  |L15.2032|
0007f0  7160              STRB     r0,[r4,#5]            ;280
0007f2  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0007f4  1d80              ADDS     r0,r0,#6              ;280
0007f6  e63f              B        |L15.1144|
0007f8  7960              LDRB     r0,[r4,#5]            ;280  ; P
0007fa  f00000fe          AND      r0,r0,#0xfe           ;280
0007fe  f000ba23          B.W      |L15.3144|
000802  4818              LDR      r0,|L15.2148|
000804  f7fffffe          BL       cpu_ora
000808  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00080a  1d00              ADDS     r0,r0,#4              ;280
00080c  e634              B        |L15.1144|
00080e  78a0              LDRB     r0,[r4,#2]            ;280  ; A
000810  1c40              ADDS     r0,r0,#1              ;280
000812  f01000ff          ANDS     r0,r0,#0xff           ;280
000816  70a0              STRB     r0,[r4,#2]            ;280
000818  7961              LDRB     r1,[r4,#5]            ;280  ; P
00081a  bf14              ITE      NE                    ;280
00081c  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000820  f0410102          ORREQ    r1,r1,#2              ;280
000824  7161              STRB     r1,[r4,#5]            ;280
000826  f0100f80          TST      r0,#0x80              ;280
00082a  d073              BEQ      |L15.2324|
                  |L15.2092|
00082c  b2c8              UXTB     r0,r1                 ;280
00082e  f0400080          ORR      r0,r0,#0x80           ;280
000832  f000ba09          B.W      |L15.3144|
000836  0000              DCW      0x0000
                  |L15.2104|
                          DCD      ||.bss||
                  |L15.2108|
                          DCD      cpu_indx
                  |L15.2112|
                          DCD      cpu_immediate
                  |L15.2116|
                          DCD      cpu_implied
                  |L15.2120|
                          DCD      cpu_abs
                  |L15.2124|
                          DCD      cpu_indy
                  |L15.2128|
                          DCD      PPU_Reg
                  |L15.2132|
                          DCD      PPU_Latch_Flag
                  |L15.2136|
                          DCD      PPU_scanline
                  |L15.2140|
                          DCD      Spr_Mem
                  |L15.2144|
                          DCD      PPU_Mem
                  |L15.2148|
                          DCD      cpu_absy
000868  48f8              LDR      r0,|L15.3148|
00086a  f7fffffe          BL       cpu_trb
00086e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000870  1d00              ADDS     r0,r0,#4              ;280
000872  e601              B        |L15.1144|
000874  48f6              LDR      r0,|L15.3152|
000876  f7fffffe          BL       cpu_ora
00087a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00087c  1d00              ADDS     r0,r0,#4              ;280
00087e  e5fb              B        |L15.1144|
000880  48f3              LDR      r0,|L15.3152|
000882  f7fffffe          BL       cpu_asl
000886  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000888  1dc0              ADDS     r0,r0,#7              ;280
00088a  e5f5              B        |L15.1144|
00088c  79a1              LDRB     r1,[r4,#6]            ;280  ; S
00088e  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000890  1e89              SUBS     r1,r1,#2              ;280
000892  b2c9              UXTB     r1,r1                 ;280
000894  4aef              LDR      r2,|L15.3156|
000896  71a1              STRB     r1,[r4,#6]            ;280
000898  4411              ADD      r1,r1,r2              ;280
00089a  1c40              ADDS     r0,r0,#1              ;280
00089c  f8a10101          STRH     r0,[r1,#0x101]        ;280
0008a0  1e40              SUBS     r0,r0,#1              ;280
0008a2  81e0              STRH     r0,[r4,#0xe]          ;280
0008a4  f7fffffe          BL       cpu_abs
0008a8  81e0              STRH     r0,[r4,#0xe]          ;280
0008aa  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0008ac  1d80              ADDS     r0,r0,#6              ;280
0008ae  e5e3              B        |L15.1144|
0008b0  48e9              LDR      r0,|L15.3160|
0008b2  f7fffffe          BL       cpu_and
0008b6  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0008b8  1d80              ADDS     r0,r0,#6              ;280
0008ba  e5dd              B        |L15.1144|
0008bc  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0008be  49e5              LDR      r1,|L15.3156|
0008c0  1c40              ADDS     r0,r0,#1              ;280
0008c2  81e0              STRH     r0,[r4,#0xe]          ;280
0008c4  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0008c6  5c08              LDRB     r0,[r1,r0]            ;280
0008c8  78a1              LDRB     r1,[r4,#2]            ;280  ; A
0008ca  4208              TST      r0,r1                 ;280
0008cc  7961              LDRB     r1,[r4,#5]            ;280  ; P
0008ce  bf14              ITE      NE                    ;280
0008d0  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0008d4  f0410102          ORREQ    r1,r1,#2              ;280
0008d8  f001013f          AND      r1,r1,#0x3f           ;280
0008dc  f00000c0          AND      r0,r0,#0xc0           ;280
0008e0  4308              ORRS     r0,r0,r1              ;280
0008e2  7160              STRB     r0,[r4,#5]            ;280
0008e4  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0008e6  1cc0              ADDS     r0,r0,#3              ;280
0008e8  e5c6              B        |L15.1144|
0008ea  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0008ec  49d9              LDR      r1,|L15.3156|
0008ee  1c40              ADDS     r0,r0,#1              ;280
0008f0  81e0              STRH     r0,[r4,#0xe]          ;280
0008f2  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0008f4  5c08              LDRB     r0,[r1,r0]            ;280
0008f6  78a1              LDRB     r1,[r4,#2]            ;280  ; A
0008f8  4008              ANDS     r0,r0,r1              ;280
0008fa  70a0              STRB     r0,[r4,#2]            ;280
0008fc  7961              LDRB     r1,[r4,#5]            ;280  ; P
0008fe  bf14              ITE      NE                    ;280
000900  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000904  f0410102          ORREQ    r1,r1,#2              ;280
000908  7161              STRB     r1,[r4,#5]            ;280
00090a  f0100f80          TST      r0,#0x80              ;280
00090e  f43fade1          BEQ      |L15.1236|
000912  e5db              B        |L15.1228|
                  |L15.2324|
000914  e04b              B        |L15.2478|
000916  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000918  7962              LDRB     r2,[r4,#5]            ;280  ; P
00091a  1c40              ADDS     r0,r0,#1              ;280
00091c  81e0              STRH     r0,[r4,#0xe]          ;280
00091e  7a21              LDRB     r1,[r4,#8]            ;280  ; operand
000920  4bcc              LDR      r3,|L15.3156|
000922  f0020c01          AND      r12,r2,#1             ;280
000926  f00202fe          AND      r2,r2,#0xfe           ;280
00092a  5c58              LDRB     r0,[r3,r1]            ;280
00092c  ea4212d0          ORR      r2,r2,r0,LSR #7       ;280
000930  0640              LSLS     r0,r0,#25             ;280
000932  7162              STRB     r2,[r4,#5]            ;280
000934  ea5c6010          ORRS     r0,r12,r0,LSR #24     ;280
000938  5458              STRB     r0,[r3,r1]            ;280
00093a  bf14              ITE      NE                    ;280
00093c  f00201fd          ANDNE    r1,r2,#0xfd           ;280
000940  f0420102          ORREQ    r1,r2,#2              ;280
000944  7161              STRB     r1,[r4,#5]            ;280
000946  f0100f80          TST      r0,#0x80              ;280
00094a  d002              BEQ      |L15.2386|
                  |L15.2380|
00094c  b2c8              UXTB     r0,r1                 ;280
00094e  f000ba0b          B.W      |L15.3432|
                  |L15.2386|
000952  b2c8              UXTB     r0,r1                 ;280
000954  f000ba0e          B.W      |L15.3444|
000958  79a0              LDRB     r0,[r4,#6]            ;280  ; S
00095a  49be              LDR      r1,|L15.3156|
00095c  1c40              ADDS     r0,r0,#1              ;280
00095e  b2c0              UXTB     r0,r0                 ;280
000960  71a0              STRB     r0,[r4,#6]            ;280
000962  4408              ADD      r0,r0,r1              ;280
000964  f8900100          LDRB     r0,[r0,#0x100]        ;280
000968  f0400020          ORR      r0,r0,#0x20           ;280
00096c  7160              STRB     r0,[r4,#5]            ;280
00096e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000970  1d00              ADDS     r0,r0,#4              ;280
000972  e581              B        |L15.1144|
000974  48b9              LDR      r0,|L15.3164|
000976  f7fffffe          BL       cpu_and
00097a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00097c  1cc0              ADDS     r0,r0,#3              ;280
00097e  e57b              B        |L15.1144|
000980  7961              LDRB     r1,[r4,#5]            ;280  ; P
000982  78a2              LDRB     r2,[r4,#2]            ;280  ; A
000984  f0010001          AND      r0,r1,#1              ;280
000988  f00101fe          AND      r1,r1,#0xfe           ;280
00098c  ea4111d2          ORR      r1,r1,r2,LSR #7       ;280
000990  0652              LSLS     r2,r2,#25             ;280
000992  7161              STRB     r1,[r4,#5]            ;280
000994  ea506012          ORRS     r0,r0,r2,LSR #24      ;280
000998  70a0              STRB     r0,[r4,#2]            ;280
00099a  bf14              ITE      NE                    ;280
00099c  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0009a0  f0410102          ORREQ    r1,r1,#2              ;280
0009a4  7161              STRB     r1,[r4,#5]            ;280
0009a6  f0100f80          TST      r0,#0x80              ;280
0009aa  f47faf3f          BNE      |L15.2092|
                  |L15.2478|
0009ae  f001007f          AND      r0,r1,#0x7f           ;280
0009b2  f000b949          B.W      |L15.3144|
0009b6  48a5              LDR      r0,|L15.3148|
0009b8  f7fffffe          BL       cpu_bit
0009bc  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0009be  1d00              ADDS     r0,r0,#4              ;280
0009c0  e55a              B        |L15.1144|
0009c2  48a2              LDR      r0,|L15.3148|
0009c4  f7fffffe          BL       cpu_and
0009c8  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0009ca  1d00              ADDS     r0,r0,#4              ;280
0009cc  e554              B        |L15.1144|
0009ce  489f              LDR      r0,|L15.3148|
0009d0  f7fffffe          BL       cpu_rol
0009d4  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0009d6  1d80              ADDS     r0,r0,#6              ;280
0009d8  e54e              B        |L15.1144|
0009da  7960              LDRB     r0,[r4,#5]            ;280  ; P
0009dc  f0100f80          TST      r0,#0x80              ;280
0009e0  d009              BEQ      |L15.2550|
0009e2  bf00              NOP                            ;280
                  |L15.2532|
0009e4  f7fffffe          BL       cpu_relative
0009e8  89e1              LDRH     r1,[r4,#0xe]          ;280  ; PC
0009ea  4408              ADD      r0,r0,r1              ;280
0009ec  81e0              STRH     r0,[r4,#0xe]          ;280
0009ee  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0009f0  1c40              ADDS     r0,r0,#1              ;280
0009f2  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0009f4  e5e0              B        |L15.1464|
                  |L15.2550|
0009f6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0009f8  1c40              ADDS     r0,r0,#1              ;280
0009fa  81e0              STRH     r0,[r4,#0xe]          ;280
0009fc  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0009fe  e5db              B        |L15.1464|
000a00  4897              LDR      r0,|L15.3168|
000a02  f7fffffe          BL       cpu_and
000a06  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000a08  1d40              ADDS     r0,r0,#5              ;280
000a0a  e535              B        |L15.1144|
000a0c  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000a0e  4991              LDR      r1,|L15.3156|
000a10  1c40              ADDS     r0,r0,#1              ;280
000a12  81e0              STRH     r0,[r4,#0xe]          ;280
000a14  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000a16  5c08              LDRB     r0,[r1,r0]            ;280
000a18  2100              MOVS     r1,#0                 ;280
000a1a  1309              ASRS     r1,r1,#12             ;280
000a1c  2910              CMP      r1,#0x10              ;280
000a1e  d27b              BCS      |L15.2840|
000a20  e8dff001          TBB      [pc,r1]               ;280
000a24  08080b0b          DCB      0x08,0x08,0x0b,0x0b
000a28  8dacacac          DCB      0x8d,0xac,0xac,0xac
000a2c  aeaeaeae          DCB      0xae,0xae,0xae,0xae
000a30  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
000a34  4987              LDR      r1,|L15.3156|
000a36  5c08              LDRB     r0,[r1,r0]            ;280
000a38  e08e              B        |L15.2904|
000a3a  f0000007          AND      r0,r0,#7              ;280
000a3e  2808              CMP      r0,#8                 ;280
000a40  d244              BCS      |L15.2764|
000a42  e8dff000          TBB      [pc,r0]               ;280
000a46  0406              DCB      0x04,0x06
000a48  09891e89          DCB      0x09,0x89,0x1e,0x89
000a4c  8926              DCB      0x89,0x26
000a4e  4885              LDR      r0,|L15.3172|
000a50  e0a0              B        |L15.2964|
000a52  4884              LDR      r0,|L15.3172|
000a54  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
000a56  e07f              B        |L15.2904|
000a58  4982              LDR      r1,|L15.3172|
000a5a  4b83              LDR      r3,|L15.3176|
000a5c  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
000a5e  f0200280          BIC      r2,r0,#0x80           ;280
000a62  708a              STRB     r2,[r1,#2]            ;280
000a64  2200              MOVS     r2,#0                 ;280
000a66  701a              STRB     r2,[r3,#0]            ;280
000a68  4a80              LDR      r2,|L15.3180|
000a6a  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
000a6c  3a15              SUBS     r2,r2,#0x15           ;280
000a6e  2af1              CMP      r2,#0xf1              ;280
000a70  d272              BCS      |L15.2904|
000a72  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
000a74  f0120f80          TST      r2,#0x80              ;280
000a78  bf04              ITT      EQ                    ;280
000a7a  f0220203          BICEQ    r2,r2,#3              ;280
000a7e  700a              STRBEQ   r2,[r1,#0]            ;280
000a80  e06a              B        |L15.2904|
000a82  497b              LDR      r1,|L15.3184|
000a84  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
000a88  5c88              LDRB     r0,[r1,r2]            ;280
000a8a  1c52              ADDS     r2,r2,#1              ;280
000a8c  f8812100          STRB     r2,[r1,#0x100]        ;280
000a90  e062              B        |L15.2904|
000a92  4a78              LDR      r2,|L15.3188|
000a94  8813              LDRH     r3,[r2,#0]            ;280  ; PPU_Mem
000a96  7890              LDRB     r0,[r2,#2]            ;280  ; PPU_Mem
000a98  f4134170          ANDS     r1,r3,#0xf000         ;280
000a9c  bf04              ITT      EQ                    ;280
000a9e  6851              LDREQ    r1,[r2,#4]            ;280  ; PPU_Mem
000aa0  5cc9              LDRBEQ   r1,[r1,r3]            ;280
000aa2  d019              BEQ      |L15.2776|
000aa4  f5b15f80          CMP      r1,#0x1000            ;280
000aa8  d011              BEQ      |L15.2766|
000aaa  f5b15f00          CMP      r1,#0x2000            ;280
000aae  d015              BEQ      |L15.2780|
000ab0  f5b15f40          CMP      r1,#0x3000            ;280
000ab4  bf18              IT       NE                    ;280
000ab6  2000              MOVNE    r0,#0                 ;280
000ab8  d02f              BEQ      |L15.2842|
                  |L15.2746|
000aba  496a              LDR      r1,|L15.3172|
000abc  7809              LDRB     r1,[r1,#0]            ;280  ; PPU_Reg
000abe  f0110f04          TST      r1,#4                 ;280
000ac2  bf14              ITE      NE                    ;280
000ac4  f1030120          ADDNE    r1,r3,#0x20           ;280
000ac8  1c59              ADDEQ    r1,r3,#1              ;280
000aca  8011              STRH     r1,[r2,#0]            ;280
                  |L15.2764|
000acc  e044              B        |L15.2904|
                  |L15.2766|
000ace  6891              LDR      r1,[r2,#8]            ;280  ; PPU_Mem
000ad0  f3c30c0b          UBFX     r12,r3,#0,#12         ;280
000ad4  f811100c          LDRB     r1,[r1,r12]           ;280
                  |L15.2776|
000ad8  7091              STRB     r1,[r2,#2]            ;280
000ada  e7ee              B        |L15.2746|
                  |L15.2780|
000adc  f3c3010b          UBFX     r1,r3,#0,#12          ;280
000ae0  f5b16f40          CMP      r1,#0xc00             ;280
000ae4  bf84              ITT      HI                    ;280
000ae6  f8d2c018          LDRHI    r12,[r2,#0x18]        ;280  ; PPU_Mem
000aea  f5a16140          SUBHI    r1,r1,#0xc00          ;280
000aee  d810              BHI      |L15.2834|
000af0  f5b16f00          CMP      r1,#0x800             ;280
000af4  bf84              ITT      HI                    ;280
000af6  f8d2c014          LDRHI    r12,[r2,#0x14]        ;280  ; PPU_Mem
000afa  f5a16100          SUBHI    r1,r1,#0x800          ;280
000afe  d808              BHI      |L15.2834|
000b00  f5b16f80          CMP      r1,#0x400             ;280
000b04  bf86              ITTE     HI                    ;280
000b06  f8d2c010          LDRHI    r12,[r2,#0x10]        ;280  ; PPU_Mem
000b0a  f5a16180          SUBHI    r1,r1,#0x400          ;280
000b0e  f8d2c00c          LDRLS    r12,[r2,#0xc]         ;280  ; PPU_Mem
                  |L15.2834|
000b12  f81c1001          LDRB     r1,[r12,r1]           ;280
000b16  e7df              B        |L15.2776|
                  |L15.2840|
000b18  e01d              B        |L15.2902|
                  |L15.2842|
000b1a  f6437110          MOV      r1,#0x3f10            ;280
000b1e  428b              CMP      r3,r1                 ;280
000b20  d305              BCC      |L15.2862|
000b22  f003000f          AND      r0,r3,#0xf            ;280
000b26  4410              ADD      r0,r0,r2              ;280
000b28  f890002c          LDRB     r0,[r0,#0x2c]         ;280
000b2c  e7c5              B        |L15.2746|
                  |L15.2862|
000b2e  f5b35f7c          CMP      r3,#0x3f00            ;280
000b32  d3c2              BCC      |L15.2746|
000b34  f003000f          AND      r0,r3,#0xf            ;280
000b38  4410              ADD      r0,r0,r2              ;280
000b3a  7f00              LDRB     r0,[r0,#0x1c]         ;280
000b3c  e7bd              B        |L15.2746|
000b3e  f5a04180          SUB      r1,r0,#0x4000         ;280
000b42  3916              SUBS     r1,r1,#0x16           ;280
000b44  bf08              IT       EQ                    ;280
000b46  2000              MOVEQ    r0,#0                 ;280
000b48  d015              BEQ      |L15.2934|
000b4a  f5a04180          SUB      r1,r0,#0x4000         ;280
000b4e  3917              SUBS     r1,r1,#0x17           ;280
000b50  bf08              IT       EQ                    ;280
000b52  2001              MOVEQ    r0,#1                 ;280
000b54  d00f              BEQ      |L15.2934|
                  |L15.2902|
000b56  0a00              LSRS     r0,r0,#8              ;280
                  |L15.2904|
000b58  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000b5a  4008              ANDS     r0,r0,r1              ;280
000b5c  70a0              STRB     r0,[r4,#2]            ;280
000b5e  7961              LDRB     r1,[r4,#5]            ;280  ; P
000b60  bf14              ITE      NE                    ;280
000b62  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000b66  f0410102          ORREQ    r1,r1,#2              ;280
000b6a  7161              STRB     r1,[r4,#5]            ;280
000b6c  f0100f80          TST      r0,#0x80              ;280
000b70  f43facb0          BEQ      |L15.1236|
000b74  e4aa              B        |L15.1228|
                  |L15.2934|
000b76  f7fffffe          BL       joypad_read
000b7a  e7ed              B        |L15.2904|
000b7c  2000              MOVS     r0,#0                 ;280
000b7e  e7eb              B        |L15.2904|
000b80  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
000b82  4408              ADD      r0,r0,r1              ;280
000b84  f5a04000          SUB      r0,r0,#0x8000         ;280
000b88  7800              LDRB     r0,[r0,#0]            ;280
000b8a  e7e5              B        |L15.2904|
000b8c  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
000b8e  4408              ADD      r0,r0,r1              ;280
000b90  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.2964|
000b94  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
000b96  e7df              B        |L15.2904|
000b98  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000b9a  1c40              ADDS     r0,r0,#1              ;280
000b9c  81e0              STRH     r0,[r4,#0xe]          ;280
000b9e  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000ba0  78e1              LDRB     r1,[r4,#3]            ;280  ; X
000ba2  4408              ADD      r0,r0,r1              ;280
000ba4  492b              LDR      r1,|L15.3156|
000ba6  b2c0              UXTB     r0,r0                 ;280
000ba8  5c08              LDRB     r0,[r1,r0]            ;280
000baa  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000bac  4208              TST      r0,r1                 ;280
000bae  7961              LDRB     r1,[r4,#5]            ;280  ; P
000bb0  bf14              ITE      NE                    ;280
000bb2  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000bb6  f0410102          ORREQ    r1,r1,#2              ;280
000bba  f001013f          AND      r1,r1,#0x3f           ;280
000bbe  f00000c0          AND      r0,r0,#0xc0           ;280
000bc2  4308              ORRS     r0,r0,r1              ;280
000bc4  7160              STRB     r0,[r4,#5]            ;280
000bc6  e5f0              B        |L15.1962|
000bc8  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000bca  1c40              ADDS     r0,r0,#1              ;280
000bcc  81e0              STRH     r0,[r4,#0xe]          ;280
000bce  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000bd0  78e1              LDRB     r1,[r4,#3]            ;280  ; X
000bd2  4408              ADD      r0,r0,r1              ;280
000bd4  491f              LDR      r1,|L15.3156|
000bd6  b2c0              UXTB     r0,r0                 ;280
000bd8  5c08              LDRB     r0,[r1,r0]            ;280
000bda  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000bdc  4008              ANDS     r0,r0,r1              ;280
000bde  70a0              STRB     r0,[r4,#2]            ;280
000be0  7961              LDRB     r1,[r4,#5]            ;280  ; P
000be2  bf14              ITE      NE                    ;280
000be4  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000be8  f0410102          ORREQ    r1,r1,#2              ;280
000bec  7161              STRB     r1,[r4,#5]            ;280
000bee  f0100f80          TST      r0,#0x80              ;280
000bf2  f43fadd7          BEQ      |L15.1956|
000bf6  e5d1              B        |L15.1948|
000bf8  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000bfa  f894c005          LDRB     r12,[r4,#5]           ;280  ; P
000bfe  1c40              ADDS     r0,r0,#1              ;280
000c00  81e0              STRH     r0,[r4,#0xe]          ;280
000c02  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000c04  78e1              LDRB     r1,[r4,#3]            ;280  ; X
000c06  4a13              LDR      r2,|L15.3156|
000c08  4408              ADD      r0,r0,r1              ;280
000c0a  b2c1              UXTB     r1,r0                 ;280
000c0c  f00c0301          AND      r3,r12,#1             ;280
000c10  5c50              LDRB     r0,[r2,r1]            ;280
000c12  f00c0cfe          AND      r12,r12,#0xfe         ;280
000c16  ea4c1cd0          ORR      r12,r12,r0,LSR #7     ;280
000c1a  0640              LSLS     r0,r0,#25             ;280
000c1c  f884c005          STRB     r12,[r4,#5]           ;280
000c20  ea536010          ORRS     r0,r3,r0,LSR #24      ;280
000c24  5450              STRB     r0,[r2,r1]            ;280
000c26  bf14              ITE      NE                    ;280
000c28  f00c01fd          ANDNE    r1,r12,#0xfd          ;280
000c2c  f04c0102          ORREQ    r1,r12,#2             ;280
000c30  7161              STRB     r1,[r4,#5]            ;280
000c32  f0100f80          TST      r0,#0x80              ;280
000c36  b2c8              UXTB     r0,r1                 ;280
000c38  f00081ec          BEQ.W    |L15.4116|
                  |L15.3132|
000c3c  f0400080          ORR      r0,r0,#0x80           ;280
000c40  e5d6              B        |L15.2032|
000c42  7960              LDRB     r0,[r4,#5]            ;280  ; P
000c44  f0400001          ORR      r0,r0,#1              ;280
                  |L15.3144|
000c48  7160              STRB     r0,[r4,#5]            ;280
000c4a  e417              B        |L15.1148|
                  |L15.3148|
                          DCD      cpu_abs
                  |L15.3152|
                          DCD      cpu_absx
                  |L15.3156|
                          DCD      ||.bss||
                  |L15.3160|
                          DCD      cpu_indx
                  |L15.3164|
                          DCD      cpu_immediate
                  |L15.3168|
                          DCD      cpu_indy
                  |L15.3172|
                          DCD      PPU_Reg
                  |L15.3176|
                          DCD      PPU_Latch_Flag
                  |L15.3180|
                          DCD      PPU_scanline
                  |L15.3184|
                          DCD      Spr_Mem
                  |L15.3188|
                          DCD      PPU_Mem
000c78  48f9              LDR      r0,|L15.4192|
000c7a  f7fffffe          BL       cpu_and
000c7e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000c80  1d00              ADDS     r0,r0,#4              ;280
000c82  f7ffbbf9          B        |L15.1144|
000c86  78a0              LDRB     r0,[r4,#2]            ;280  ; A
000c88  1e40              SUBS     r0,r0,#1              ;280
000c8a  f01000ff          ANDS     r0,r0,#0xff           ;280
000c8e  70a0              STRB     r0,[r4,#2]            ;280
000c90  7961              LDRB     r1,[r4,#5]            ;280  ; P
000c92  bf14              ITE      NE                    ;280
000c94  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000c98  f0410102          ORREQ    r1,r1,#2              ;280
000c9c  7161              STRB     r1,[r4,#5]            ;280
000c9e  f0100f80          TST      r0,#0x80              ;280
000ca2  f43fac67          BEQ      |L15.1396|
000ca6  e462              B        |L15.1390|
000ca8  48ee              LDR      r0,|L15.4196|
000caa  f7fffffe          BL       cpu_bit
000cae  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000cb0  1d00              ADDS     r0,r0,#4              ;280
000cb2  f7ffbbe1          B        |L15.1144|
000cb6  48eb              LDR      r0,|L15.4196|
000cb8  f7fffffe          BL       cpu_and
000cbc  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000cbe  1d00              ADDS     r0,r0,#4              ;280
000cc0  f7ffbbda          B        |L15.1144|
000cc4  48e7              LDR      r0,|L15.4196|
000cc6  f7fffffe          BL       cpu_rol
000cca  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000ccc  1dc0              ADDS     r0,r0,#7              ;280
000cce  f7ffbbd3          B        |L15.1144|
000cd2  79a0              LDRB     r0,[r4,#6]            ;280  ; S
000cd4  4ae4              LDR      r2,|L15.4200|
000cd6  1c40              ADDS     r0,r0,#1              ;280
000cd8  b2c0              UXTB     r0,r0                 ;280
000cda  1881              ADDS     r1,r0,r2              ;280
000cdc  f8911100          LDRB     r1,[r1,#0x100]        ;280
000ce0  f0410120          ORR      r1,r1,#0x20           ;280
000ce4  7161              STRB     r1,[r4,#5]            ;280
000ce6  1811              ADDS     r1,r2,r0              ;280
000ce8  1c80              ADDS     r0,r0,#2              ;280
000cea  f8b11101          LDRH     r1,[r1,#0x101]        ;280
000cee  71a0              STRB     r0,[r4,#6]            ;280
000cf0  81e1              STRH     r1,[r4,#0xe]          ;280
000cf2  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000cf4  1d80              ADDS     r0,r0,#6              ;280
000cf6  f7ffbbbf          B        |L15.1144|
000cfa  48dc              LDR      r0,|L15.4204|
000cfc  f7fffffe          BL       cpu_eor
000d00  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000d02  1d80              ADDS     r0,r0,#6              ;280
000d04  f7ffbbb8          B        |L15.1144|
000d08  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000d0a  49d7              LDR      r1,|L15.4200|
000d0c  1c40              ADDS     r0,r0,#1              ;280
000d0e  81e0              STRH     r0,[r4,#0xe]          ;280
000d10  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000d12  5c08              LDRB     r0,[r1,r0]            ;280
000d14  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000d16  4048              EORS     r0,r0,r1              ;280
000d18  70a0              STRB     r0,[r4,#2]            ;280
000d1a  7961              LDRB     r1,[r4,#5]            ;280  ; P
000d1c  bf14              ITE      NE                    ;280
000d1e  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000d22  f0410102          ORREQ    r1,r1,#2              ;280
000d26  7161              STRB     r1,[r4,#5]            ;280
000d28  f0100f80          TST      r0,#0x80              ;280
000d2c  f43fabd2          BEQ      |L15.1236|
000d30  f7ffbbcc          B        |L15.1228|
000d34  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000d36  4acc              LDR      r2,|L15.4200|
000d38  1c40              ADDS     r0,r0,#1              ;280
000d3a  81e0              STRH     r0,[r4,#0xe]          ;280
000d3c  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000d3e  7963              LDRB     r3,[r4,#5]            ;280  ; P
000d40  5c11              LDRB     r1,[r2,r0]            ;280
000d42  f00303fe          AND      r3,r3,#0xfe           ;280
000d46  f0010c01          AND      r12,r1,#1             ;280
000d4a  ea43030c          ORR      r3,r3,r12             ;280
000d4e  7163              STRB     r3,[r4,#5]            ;280
000d50  0849              LSRS     r1,r1,#1              ;280
000d52  5411              STRB     r1,[r2,r0]            ;280
000d54  bf14              ITE      NE                    ;280
000d56  f00300fd          ANDNE    r0,r3,#0xfd           ;280
000d5a  f0430002          ORREQ    r0,r3,#2              ;280
000d5e  7160              STRB     r0,[r4,#5]            ;280
000d60  2000              MOVS     r0,#0                 ;280
000d62  b128              CBZ      r0,|L15.3440|
                  |L15.3428|
000d64  f8940005          LDRB.W   r0,[r4,#5]            ;280
                  |L15.3432|
000d68  f0400080          ORR      r0,r0,#0x80           ;280
000d6c  f7ffbbd6          B        |L15.1308|
                  |L15.3440|
000d70  f8940005          LDRB.W   r0,[r4,#5]            ;280
                  |L15.3444|
000d74  f000007f          AND      r0,r0,#0x7f           ;280
000d78  f7ffbbd0          B        |L15.1308|
000d7c  4aba              LDR      r2,|L15.4200|
000d7e  79a1              LDRB     r1,[r4,#6]            ;280  ; S
000d80  78a0              LDRB     r0,[r4,#2]            ;280  ; A
000d82  440a              ADD      r2,r2,r1              ;280
000d84  f8820100          STRB     r0,[r2,#0x100]        ;280
000d88  1e48              SUBS     r0,r1,#1              ;280
000d8a  71a0              STRB     r0,[r4,#6]            ;280
000d8c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000d8e  1cc0              ADDS     r0,r0,#3              ;280
000d90  f7ffbb72          B        |L15.1144|
000d94  48b6              LDR      r0,|L15.4208|
000d96  f7fffffe          BL       cpu_eor
000d9a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000d9c  1cc0              ADDS     r0,r0,#3              ;280
000d9e  f7ffbb6b          B        |L15.1144|
000da2  7960              LDRB     r0,[r4,#5]            ;280  ; P
000da4  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000da6  f00000fe          AND      r0,r0,#0xfe           ;280
000daa  f0010201          AND      r2,r1,#1              ;280
000dae  4310              ORRS     r0,r0,r2              ;280
000db0  7160              STRB     r0,[r4,#5]            ;280
000db2  0849              LSRS     r1,r1,#1              ;280
000db4  70a1              STRB     r1,[r4,#2]            ;280
000db6  bf14              ITE      NE                    ;280
000db8  f00000fd          ANDNE    r0,r0,#0xfd           ;280
000dbc  f0400002          ORREQ    r0,r0,#2              ;280
000dc0  7160              STRB     r0,[r4,#5]            ;280
000dc2  2000              MOVS     r0,#0                 ;280
000dc4  2800              CMP      r0,#0                 ;280
000dc6  f0008235          BEQ.W    |L15.4660|
                  |L15.3530|
000dca  7960              LDRB     r0,[r4,#5]            ;280  ; P
                  |L15.3532|
000dcc  f0400080          ORR      r0,r0,#0x80           ;280
000dd0  e73a              B        |L15.3144|
000dd2  bf00              NOP                            ;280
000dd4  f7fffffe          BL       cpu_abs
000dd8  81e0              STRH     r0,[r4,#0xe]          ;280
000dda  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000ddc  1cc0              ADDS     r0,r0,#3              ;280
000dde  f7ffbb4b          B        |L15.1144|
000de2  48a4              LDR      r0,|L15.4212|
000de4  f7fffffe          BL       cpu_eor
000de8  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000dea  1d00              ADDS     r0,r0,#4              ;280
000dec  f7ffbb44          B        |L15.1144|
000df0  48a0              LDR      r0,|L15.4212|
000df2  f7fffffe          BL       cpu_lsr
000df6  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000df8  1d80              ADDS     r0,r0,#6              ;280
000dfa  f7ffbb3d          B        |L15.1144|
000dfe  7960              LDRB     r0,[r4,#5]            ;280  ; P
000e00  f0100f40          TST      r0,#0x40              ;280
000e04  f47fadf7          BNE      |L15.2550|
000e08  e5ec              B        |L15.2532|
000e0a  489b              LDR      r0,|L15.4216|
000e0c  f7fffffe          BL       cpu_eor
000e10  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
000e12  1d40              ADDS     r0,r0,#5              ;280
000e14  f7ffbb30          B        |L15.1144|
000e18  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000e1a  4993              LDR      r1,|L15.4200|
000e1c  1c40              ADDS     r0,r0,#1              ;280
000e1e  81e0              STRH     r0,[r4,#0xe]          ;280
000e20  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000e22  5c08              LDRB     r0,[r1,r0]            ;280
000e24  2100              MOVS     r1,#0                 ;280
000e26  1309              ASRS     r1,r1,#12             ;280
000e28  2910              CMP      r1,#0x10              ;280
000e2a  d27b              BCS      |L15.3876|
000e2c  e8dff001          TBB      [pc,r1]               ;280
000e30  08080b0b          DCB      0x08,0x08,0x0b,0x0b
000e34  8dadadad          DCB      0x8d,0xad,0xad,0xad
000e38  afafafaf          DCB      0xaf,0xaf,0xaf,0xaf
000e3c  b5b5b5b5          DCB      0xb5,0xb5,0xb5,0xb5
000e40  4989              LDR      r1,|L15.4200|
000e42  5c08              LDRB     r0,[r1,r0]            ;280
000e44  e08e              B        |L15.3940|
000e46  f0000007          AND      r0,r0,#7              ;280
000e4a  2808              CMP      r0,#8                 ;280
000e4c  d244              BCS      |L15.3800|
000e4e  e8dff000          TBB      [pc,r0]               ;280
000e52  0406              DCB      0x04,0x06
000e54  09891e89          DCB      0x09,0x89,0x1e,0x89
000e58  8926              DCB      0x89,0x26
000e5a  4888              LDR      r0,|L15.4220|
000e5c  e0a1              B        |L15.4002|
000e5e  4887              LDR      r0,|L15.4220|
000e60  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
000e62  e07f              B        |L15.3940|
000e64  4985              LDR      r1,|L15.4220|
000e66  4b86              LDR      r3,|L15.4224|
000e68  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
000e6a  f0200280          BIC      r2,r0,#0x80           ;280
000e6e  708a              STRB     r2,[r1,#2]            ;280
000e70  2200              MOVS     r2,#0                 ;280
000e72  701a              STRB     r2,[r3,#0]            ;280
000e74  4a83              LDR      r2,|L15.4228|
000e76  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
000e78  3a15              SUBS     r2,r2,#0x15           ;280
000e7a  2af1              CMP      r2,#0xf1              ;280
000e7c  d272              BCS      |L15.3940|
000e7e  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
000e80  f0120f80          TST      r2,#0x80              ;280
000e84  bf04              ITT      EQ                    ;280
000e86  f0220203          BICEQ    r2,r2,#3              ;280
000e8a  700a              STRBEQ   r2,[r1,#0]            ;280
000e8c  e06a              B        |L15.3940|
000e8e  497e              LDR      r1,|L15.4232|
000e90  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
000e94  5c88              LDRB     r0,[r1,r2]            ;280
000e96  1c52              ADDS     r2,r2,#1              ;280
000e98  f8812100          STRB     r2,[r1,#0x100]        ;280
000e9c  e062              B        |L15.3940|
000e9e  4a7b              LDR      r2,|L15.4236|
000ea0  8813              LDRH     r3,[r2,#0]            ;280  ; PPU_Mem
000ea2  7890              LDRB     r0,[r2,#2]            ;280  ; PPU_Mem
000ea4  f4134170          ANDS     r1,r3,#0xf000         ;280
000ea8  bf04              ITT      EQ                    ;280
000eaa  6851              LDREQ    r1,[r2,#4]            ;280  ; PPU_Mem
000eac  5cc9              LDRBEQ   r1,[r1,r3]            ;280
000eae  d019              BEQ      |L15.3812|
000eb0  f5b15f80          CMP      r1,#0x1000            ;280
000eb4  d011              BEQ      |L15.3802|
000eb6  f5b15f00          CMP      r1,#0x2000            ;280
000eba  d015              BEQ      |L15.3816|
000ebc  f5b15f40          CMP      r1,#0x3000            ;280
000ec0  bf18              IT       NE                    ;280
000ec2  2000              MOVNE    r0,#0                 ;280
000ec4  d02f              BEQ      |L15.3878|
                  |L15.3782|
000ec6  496d              LDR      r1,|L15.4220|
000ec8  7809              LDRB     r1,[r1,#0]            ;280  ; PPU_Reg
000eca  f0110f04          TST      r1,#4                 ;280
000ece  bf14              ITE      NE                    ;280
000ed0  f1030120          ADDNE    r1,r3,#0x20           ;280
000ed4  1c59              ADDEQ    r1,r3,#1              ;280
000ed6  8011              STRH     r1,[r2,#0]            ;280
                  |L15.3800|
000ed8  e044              B        |L15.3940|
                  |L15.3802|
000eda  6891              LDR      r1,[r2,#8]            ;280  ; PPU_Mem
000edc  f3c30c0b          UBFX     r12,r3,#0,#12         ;280
000ee0  f811100c          LDRB     r1,[r1,r12]           ;280
                  |L15.3812|
000ee4  7091              STRB     r1,[r2,#2]            ;280
000ee6  e7ee              B        |L15.3782|
                  |L15.3816|
000ee8  f3c3010b          UBFX     r1,r3,#0,#12          ;280
000eec  f5b16f40          CMP      r1,#0xc00             ;280
000ef0  bf84              ITT      HI                    ;280
000ef2  f8d2c018          LDRHI    r12,[r2,#0x18]        ;280  ; PPU_Mem
000ef6  f5a16140          SUBHI    r1,r1,#0xc00          ;280
000efa  d810              BHI      |L15.3870|
000efc  f5b16f00          CMP      r1,#0x800             ;280
000f00  bf84              ITT      HI                    ;280
000f02  f8d2c014          LDRHI    r12,[r2,#0x14]        ;280  ; PPU_Mem
000f06  f5a16100          SUBHI    r1,r1,#0x800          ;280
000f0a  d808              BHI      |L15.3870|
000f0c  f5b16f80          CMP      r1,#0x400             ;280
000f10  bf86              ITTE     HI                    ;280
000f12  f8d2c010          LDRHI    r12,[r2,#0x10]        ;280  ; PPU_Mem
000f16  f5a16180          SUBHI    r1,r1,#0x400          ;280
000f1a  f8d2c00c          LDRLS    r12,[r2,#0xc]         ;280  ; PPU_Mem
                  |L15.3870|
000f1e  f81c1001          LDRB     r1,[r12,r1]           ;280
000f22  e7df              B        |L15.3812|
                  |L15.3876|
000f24  e01d              B        |L15.3938|
                  |L15.3878|
000f26  f6437110          MOV      r1,#0x3f10            ;280
000f2a  428b              CMP      r3,r1                 ;280
000f2c  d305              BCC      |L15.3898|
000f2e  f003000f          AND      r0,r3,#0xf            ;280
000f32  4410              ADD      r0,r0,r2              ;280
000f34  f890002c          LDRB     r0,[r0,#0x2c]         ;280
000f38  e7c5              B        |L15.3782|
                  |L15.3898|
000f3a  f5b35f7c          CMP      r3,#0x3f00            ;280
000f3e  d3c2              BCC      |L15.3782|
000f40  f003000f          AND      r0,r3,#0xf            ;280
000f44  4410              ADD      r0,r0,r2              ;280
000f46  7f00              LDRB     r0,[r0,#0x1c]         ;280
000f48  e7bd              B        |L15.3782|
000f4a  f5a04180          SUB      r1,r0,#0x4000         ;280
000f4e  3916              SUBS     r1,r1,#0x16           ;280
000f50  bf08              IT       EQ                    ;280
000f52  2000              MOVEQ    r0,#0                 ;280
000f54  d016              BEQ      |L15.3972|
000f56  f5a04180          SUB      r1,r0,#0x4000         ;280
000f5a  3917              SUBS     r1,r1,#0x17           ;280
000f5c  bf08              IT       EQ                    ;280
000f5e  2001              MOVEQ    r0,#1                 ;280
000f60  d010              BEQ      |L15.3972|
                  |L15.3938|
000f62  0a00              LSRS     r0,r0,#8              ;280
                  |L15.3940|
000f64  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000f66  4048              EORS     r0,r0,r1              ;280
000f68  70a0              STRB     r0,[r4,#2]            ;280
000f6a  7961              LDRB     r1,[r4,#5]            ;280  ; P
000f6c  bf14              ITE      NE                    ;280
000f6e  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000f72  f0410102          ORREQ    r1,r1,#2              ;280
000f76  7161              STRB     r1,[r4,#5]            ;280
000f78  f0100f80          TST      r0,#0x80              ;280
000f7c  f43faaaa          BEQ      |L15.1236|
000f80  f7ffbaa4          B        |L15.1228|
                  |L15.3972|
000f84  f7fffffe          BL       joypad_read
000f88  e7ec              B        |L15.3940|
000f8a  2000              MOVS     r0,#0                 ;280
000f8c  e7ea              B        |L15.3940|
000f8e  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
000f90  4408              ADD      r0,r0,r1              ;280
000f92  f5a04000          SUB      r0,r0,#0x8000         ;280
000f96  7800              LDRB     r0,[r0,#0]            ;280
000f98  e7e4              B        |L15.3940|
000f9a  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
000f9c  4408              ADD      r0,r0,r1              ;280
000f9e  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.4002|
000fa2  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
000fa4  e7de              B        |L15.3940|
000fa6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000fa8  1c40              ADDS     r0,r0,#1              ;280
000faa  81e0              STRH     r0,[r4,#0xe]          ;280
000fac  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000fae  78e1              LDRB     r1,[r4,#3]            ;280  ; X
000fb0  4408              ADD      r0,r0,r1              ;280
000fb2  492d              LDR      r1,|L15.4200|
000fb4  b2c0              UXTB     r0,r0                 ;280
000fb6  5c08              LDRB     r0,[r1,r0]            ;280
000fb8  78a1              LDRB     r1,[r4,#2]            ;280  ; A
000fba  4048              EORS     r0,r0,r1              ;280
000fbc  70a0              STRB     r0,[r4,#2]            ;280
000fbe  7961              LDRB     r1,[r4,#5]            ;280  ; P
000fc0  bf14              ITE      NE                    ;280
000fc2  f00101fd          ANDNE    r1,r1,#0xfd           ;280
000fc6  f0410102          ORREQ    r1,r1,#2              ;280
000fca  7161              STRB     r1,[r4,#5]            ;280
000fcc  f0100f80          TST      r0,#0x80              ;280
000fd0  f43fabe8          BEQ      |L15.1956|
000fd4  f7ffbbe2          B        |L15.1948|
000fd8  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
000fda  4a23              LDR      r2,|L15.4200|
000fdc  1c40              ADDS     r0,r0,#1              ;280
000fde  81e0              STRH     r0,[r4,#0xe]          ;280
000fe0  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
000fe2  78e1              LDRB     r1,[r4,#3]            ;280  ; X
000fe4  7963              LDRB     r3,[r4,#5]            ;280  ; P
000fe6  4408              ADD      r0,r0,r1              ;280
000fe8  b2c0              UXTB     r0,r0                 ;280
000fea  f00303fe          AND      r3,r3,#0xfe           ;280
000fee  5c11              LDRB     r1,[r2,r0]            ;280
000ff0  f0010c01          AND      r12,r1,#1             ;280
000ff4  ea43030c          ORR      r3,r3,r12             ;280
000ff8  7163              STRB     r3,[r4,#5]            ;280
000ffa  0849              LSRS     r1,r1,#1              ;280
000ffc  5411              STRB     r1,[r2,r0]            ;280
000ffe  bf14              ITE      NE                    ;280
001000  f00300fd          ANDNE    r0,r3,#0xfd           ;280
001004  f0430002          ORREQ    r0,r3,#2              ;280
001008  7160              STRB     r0,[r4,#5]            ;280
00100a  2000              MOVS     r0,#0                 ;280
00100c  2800              CMP      r0,#0                 ;280
00100e  7960              LDRB     r0,[r4,#5]            ;280  ; P
001010  f47fae14          BNE      |L15.3132|
                  |L15.4116|
001014  f000007f          AND      r0,r0,#0x7f           ;280
001018  f7ffbbea          B        |L15.2032|
00101c  7960              LDRB     r0,[r4,#5]            ;280  ; P
00101e  f00000fb          AND      r0,r0,#0xfb           ;280
001022  7160              STRB     r0,[r4,#5]            ;280
001024  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001026  1c80              ADDS     r0,r0,#2              ;280
001028  f7ffba26          B        |L15.1144|
00102c  480c              LDR      r0,|L15.4192|
00102e  f7fffffe          BL       cpu_eor
001032  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001034  1d00              ADDS     r0,r0,#4              ;280
001036  f7ffba1f          B        |L15.1144|
00103a  4a0b              LDR      r2,|L15.4200|
00103c  79a1              LDRB     r1,[r4,#6]            ;280  ; S
00103e  7920              LDRB     r0,[r4,#4]            ;280  ; Y
001040  440a              ADD      r2,r2,r1              ;280
001042  f8820100          STRB     r0,[r2,#0x100]        ;280
001046  1e48              SUBS     r0,r1,#1              ;280
001048  71a0              STRB     r0,[r4,#6]            ;280
00104a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00104c  1cc0              ADDS     r0,r0,#3              ;280
00104e  f7ffba13          B        |L15.1144|
001052  4804              LDR      r0,|L15.4196|
001054  f7fffffe          BL       cpu_eor
001058  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00105a  1d00              ADDS     r0,r0,#4              ;280
00105c  f7ffba0c          B        |L15.1144|
                  |L15.4192|
                          DCD      cpu_absy
                  |L15.4196|
                          DCD      cpu_absx
                  |L15.4200|
                          DCD      ||.bss||
                  |L15.4204|
                          DCD      cpu_indx
                  |L15.4208|
                          DCD      cpu_immediate
                  |L15.4212|
                          DCD      cpu_abs
                  |L15.4216|
                          DCD      cpu_indy
                  |L15.4220|
                          DCD      PPU_Reg
                  |L15.4224|
                          DCD      PPU_Latch_Flag
                  |L15.4228|
                          DCD      PPU_scanline
                  |L15.4232|
                          DCD      Spr_Mem
                  |L15.4236|
                          DCD      PPU_Mem
001090  48fe              LDR      r0,|L15.5260|
001092  f7fffffe          BL       cpu_lsr
001096  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001098  1dc0              ADDS     r0,r0,#7              ;280
00109a  f7ffb9ed          B        |L15.1144|
00109e  48fc              LDR      r0,|L15.5264|
0010a0  79a1              LDRB     r1,[r4,#6]            ;280  ; S
0010a2  4408              ADD      r0,r0,r1              ;280
0010a4  1c89              ADDS     r1,r1,#2              ;280
0010a6  f8b00101          LDRH     r0,[r0,#0x101]        ;280
0010aa  71a1              STRB     r1,[r4,#6]            ;280
0010ac  1c40              ADDS     r0,r0,#1              ;280
0010ae  81e0              STRH     r0,[r4,#0xe]          ;280
0010b0  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0010b2  1d80              ADDS     r0,r0,#6              ;280
0010b4  f7ffb9e0          B        |L15.1144|
0010b8  48f6              LDR      r0,|L15.5268|
0010ba  f7fffffe          BL       cpu_adc
0010be  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0010c0  1d80              ADDS     r0,r0,#6              ;280
0010c2  f7ffb9d9          B        |L15.1144|
0010c6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0010c8  4af1              LDR      r2,|L15.5264|
0010ca  1c40              ADDS     r0,r0,#1              ;280
0010cc  81e0              STRH     r0,[r4,#0xe]          ;280
0010ce  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0010d0  2100              MOVS     r1,#0                 ;280
0010d2  5411              STRB     r1,[r2,r0]            ;280
0010d4  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0010d6  1cc0              ADDS     r0,r0,#3              ;280
0010d8  f7ffb9ce          B        |L15.1144|
0010dc  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0010de  49ec              LDR      r1,|L15.5264|
0010e0  1c40              ADDS     r0,r0,#1              ;280
0010e2  81e0              STRH     r0,[r4,#0xe]          ;280
0010e4  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0010e6  78a3              LDRB     r3,[r4,#2]            ;280  ; A
0010e8  5c08              LDRB     r0,[r1,r0]            ;280
0010ea  7961              LDRB     r1,[r4,#5]            ;280  ; P
0010ec  4418              ADD      r0,r0,r3              ;280
0010ee  f0010201          AND      r2,r1,#1              ;280
0010f2  4410              ADD      r0,r0,r2              ;280
0010f4  f1000280          ADD      r2,r0,#0x80           ;280
0010f8  f5b27f80          CMP      r2,#0x100             ;280
0010fc  bf2c              ITE      CS                    ;280
0010fe  f0410140          ORRCS    r1,r1,#0x40           ;280
001102  f00101bf          ANDCC    r1,r1,#0xbf           ;280
001106  7161              STRB     r1,[r4,#5]            ;280
001108  28ff              CMP      r0,#0xff              ;280
00110a  b2c9              UXTB     r1,r1                 ;280
00110c  bfcc              ITE      GT                    ;280
00110e  f0410101          ORRGT    r1,r1,#1              ;280
001112  f00101fe          ANDLE    r1,r1,#0xfe           ;280
001116  7161              STRB     r1,[r4,#5]            ;280
001118  b2c0              UXTB     r0,r0                 ;280
00111a  b2c9              UXTB     r1,r1                 ;280
00111c  70a0              STRB     r0,[r4,#2]            ;280
00111e  f0110f08          TST      r1,#8                 ;280
001122  d013              BEQ      |L15.4428|
001124  f00101fe          AND      r1,r1,#0xfe           ;280
001128  f000020f          AND      r2,r0,#0xf            ;280
00112c  7161              STRB     r1,[r4,#5]            ;280
00112e  2a09              CMP      r2,#9                 ;280
001130  bf84              ITT      HI                    ;280
001132  1d80              ADDHI    r0,r0,#6              ;280
001134  70a0              STRBHI   r0,[r4,#2]            ;280
001136  b2c0              UXTB     r0,r0                 ;280
001138  f00002f0          AND      r2,r0,#0xf0           ;280
00113c  2a90              CMP      r2,#0x90              ;280
00113e  d908              BLS      |L15.4434|
001140  3060              ADDS     r0,r0,#0x60           ;280
001142  70a0              STRB     r0,[r4,#2]            ;280
001144  f0410001          ORR      r0,r1,#1              ;280
001148  7160              STRB     r0,[r4,#5]            ;280
00114a  e002              B        |L15.4434|
                  |L15.4428|
00114c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00114e  1c40              ADDS     r0,r0,#1              ;280
001150  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
                  |L15.4434|
001152  78a0              LDRB     r0,[r4,#2]            ;280  ; A
001154  7961              LDRB     r1,[r4,#5]            ;280  ; P
001156  2800              CMP      r0,#0                 ;280
001158  bf14              ITE      NE                    ;280
00115a  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00115e  f0410102          ORREQ    r1,r1,#2              ;280
001162  7161              STRB     r1,[r4,#5]            ;280
001164  f0100f80          TST      r0,#0x80              ;280
001168  f43fa9b4          BEQ      |L15.1236|
00116c  f7ffb9ae          B        |L15.1228|
001170  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001172  7963              LDRB     r3,[r4,#5]            ;280  ; P
001174  f1000001          ADD      r0,r0,#1              ;280
001178  81e0              STRH     r0,[r4,#0xe]          ;280
00117a  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
00117c  f8dfc310          LDR      r12,|L15.5264|
001180  f0130f01          TST      r3,#1                 ;280
001184  f00303fe          AND      r3,r3,#0xfe           ;280
001188  f81c1000          LDRB     r1,[r12,r0]           ;280
00118c  f0010501          AND      r5,r1,#1              ;280
001190  ea430305          ORR      r3,r3,r5              ;280
001194  7163              STRB     r3,[r4,#5]            ;280
001196  ea4f0151          LSR      r1,r1,#1              ;280
00119a  bf18              IT       NE                    ;280
00119c  f0410180          ORRNE    r1,r1,#0x80           ;280
0011a0  f80c1000          STRB     r1,[r12,r0]           ;280
0011a4  2900              CMP      r1,#0                 ;280
0011a6  bf14              ITE      NE                    ;280
0011a8  f00300fd          ANDNE    r0,r3,#0xfd           ;280
0011ac  f0430002          ORREQ    r0,r3,#2              ;280
0011b0  7160              STRB     r0,[r4,#5]            ;280
0011b2  f0110f80          TST      r1,#0x80              ;280
0011b6  f43faddb          BEQ      |L15.3440|
0011ba  e5d3              B        |L15.3428|
0011bc  79a0              LDRB     r0,[r4,#6]            ;280  ; S
0011be  49b4              LDR      r1,|L15.5264|
0011c0  1c40              ADDS     r0,r0,#1              ;280
0011c2  b2c0              UXTB     r0,r0                 ;280
0011c4  71a0              STRB     r0,[r4,#6]            ;280
0011c6  4408              ADD      r0,r0,r1              ;280
0011c8  f8900100          LDRB     r0,[r0,#0x100]        ;280
0011cc  70a0              STRB     r0,[r4,#2]            ;280
0011ce  7961              LDRB     r1,[r4,#5]            ;280  ; P
0011d0  2800              CMP      r0,#0                 ;280
0011d2  bf14              ITE      NE                    ;280
0011d4  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0011d8  f0410102          ORREQ    r1,r1,#2              ;280
0011dc  7161              STRB     r1,[r4,#5]            ;280
0011de  f0100f80          TST      r0,#0x80              ;280
0011e2  f43faadf          BEQ      |L15.1956|
0011e6  f7ffbad9          B        |L15.1948|
0011ea  48ab              LDR      r0,|L15.5272|
0011ec  f7fffffe          BL       cpu_adc
0011f0  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0011f2  1cc0              ADDS     r0,r0,#3              ;280
0011f4  f7ffb940          B        |L15.1144|
0011f8  7960              LDRB     r0,[r4,#5]            ;280  ; P
0011fa  78a1              LDRB     r1,[r4,#2]            ;280  ; A
0011fc  f0100f01          TST      r0,#1                 ;280
001200  f0010301          AND      r3,r1,#1              ;280
001204  f00000fe          AND      r0,r0,#0xfe           ;280
001208  ea400003          ORR      r0,r0,r3              ;280
00120c  7160              STRB     r0,[r4,#5]            ;280
00120e  ea4f0151          LSR      r1,r1,#1              ;280
001212  70a1              STRB     r1,[r4,#2]            ;280
001214  bf1c              ITT      NE                    ;280
001216  f0410180          ORRNE    r1,r1,#0x80           ;280
00121a  70a1              STRBNE   r1,[r4,#2]            ;280
00121c  f01101ff          ANDS     r1,r1,#0xff           ;280
001220  bf14              ITE      NE                    ;280
001222  f00000fd          ANDNE    r0,r0,#0xfd           ;280
001226  f0400002          ORREQ    r0,r0,#2              ;280
00122a  7160              STRB     r0,[r4,#5]            ;280
00122c  f0110f80          TST      r1,#0x80              ;280
001230  f47fadcb          BNE      |L15.3530|
                  |L15.4660|
001234  f8940005          LDRB.W   r0,[r4,#5]            ;280
                  |L15.4664|
001238  f000007f          AND      r0,r0,#0x7f           ;280
00123c  e504              B        |L15.3144|
00123e  bf00              NOP                            ;280
001240  f7fffffe          BL       cpu_indirect
001244  81e0              STRH     r0,[r4,#0xe]          ;280
001246  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001248  1d40              ADDS     r0,r0,#5              ;280
00124a  f7ffb915          B        |L15.1144|
00124e  4893              LDR      r0,|L15.5276|
001250  f7fffffe          BL       cpu_adc
001254  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001256  1d00              ADDS     r0,r0,#4              ;280
001258  f7ffb90e          B        |L15.1144|
00125c  488f              LDR      r0,|L15.5276|
00125e  f7fffffe          BL       cpu_ror
001262  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001264  1d80              ADDS     r0,r0,#6              ;280
001266  f7ffb907          B        |L15.1144|
00126a  7960              LDRB     r0,[r4,#5]            ;280  ; P
00126c  f0100f40          TST      r0,#0x40              ;280
001270  f43fabc1          BEQ      |L15.2550|
001274  f7fffffe          BL       cpu_implied
001278  89e1              LDRH     r1,[r4,#0xe]          ;280  ; PC
00127a  4408              ADD      r0,r0,r1              ;280
00127c  81e0              STRH     r0,[r4,#0xe]          ;280
00127e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001280  1c40              ADDS     r0,r0,#1              ;280
001282  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001284  f7ffb998          B        |L15.1464|
001288  4885              LDR      r0,|L15.5280|
00128a  f7fffffe          BL       cpu_adc
00128e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001290  1d40              ADDS     r0,r0,#5              ;280
001292  f7ffb8f1          B        |L15.1144|
001296  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001298  497d              LDR      r1,|L15.5264|
00129a  1c40              ADDS     r0,r0,#1              ;280
00129c  81e0              STRH     r0,[r4,#0xe]          ;280
00129e  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0012a0  5c08              LDRB     r0,[r1,r0]            ;280
0012a2  2100              MOVS     r1,#0                 ;280
0012a4  1309              ASRS     r1,r1,#12             ;280
0012a6  2910              CMP      r1,#0x10              ;280
0012a8  d27b              BCS      |L15.5026|
0012aa  e8dff001          TBB      [pc,r1]               ;280
0012ae  0808              DCB      0x08,0x08
0012b0  0b0b8dcf          DCB      0x0b,0x0b,0x8d,0xcf
0012b4  cfcfd1d1          DCB      0xcf,0xcf,0xd1,0xd1
0012b8  d1d1d7d7          DCB      0xd1,0xd1,0xd7,0xd7
0012bc  d7d7              DCB      0xd7,0xd7
0012be  4974              LDR      r1,|L15.5264|
0012c0  5c08              LDRB     r0,[r1,r0]            ;280
0012c2  e08e              B        |L15.5090|
0012c4  f0000007          AND      r0,r0,#7              ;280
0012c8  2808              CMP      r0,#8                 ;280
0012ca  d244              BCS      |L15.4950|
0012cc  e8dff000          TBB      [pc,r0]               ;280
0012d0  04060989          DCB      0x04,0x06,0x09,0x89
0012d4  1e898926          DCB      0x1e,0x89,0x89,0x26
0012d8  4872              LDR      r0,|L15.5284|
0012da  e0c3              B        |L15.5220|
0012dc  4871              LDR      r0,|L15.5284|
0012de  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
0012e0  e07f              B        |L15.5090|
0012e2  4970              LDR      r1,|L15.5284|
0012e4  4b70              LDR      r3,|L15.5288|
0012e6  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
0012e8  f0200280          BIC      r2,r0,#0x80           ;280
0012ec  708a              STRB     r2,[r1,#2]            ;280
0012ee  2200              MOVS     r2,#0                 ;280
0012f0  701a              STRB     r2,[r3,#0]            ;280
0012f2  4a6e              LDR      r2,|L15.5292|
0012f4  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
0012f6  3a15              SUBS     r2,r2,#0x15           ;280
0012f8  2af1              CMP      r2,#0xf1              ;280
0012fa  d272              BCS      |L15.5090|
0012fc  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
0012fe  f0120f80          TST      r2,#0x80              ;280
001302  bf04              ITT      EQ                    ;280
001304  f0220203          BICEQ    r2,r2,#3              ;280
001308  700a              STRBEQ   r2,[r1,#0]            ;280
00130a  e06a              B        |L15.5090|
00130c  4968              LDR      r1,|L15.5296|
00130e  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
001312  5c88              LDRB     r0,[r1,r2]            ;280
001314  1c52              ADDS     r2,r2,#1              ;280
001316  f8812100          STRB     r2,[r1,#0x100]        ;280
00131a  e062              B        |L15.5090|
00131c  4965              LDR      r1,|L15.5300|
00131e  880b              LDRH     r3,[r1,#0]            ;280  ; PPU_Mem
001320  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Mem
001322  f4134270          ANDS     r2,r3,#0xf000         ;280
001326  bf04              ITT      EQ                    ;280
001328  684a              LDREQ    r2,[r1,#4]            ;280  ; PPU_Mem
00132a  5cd2              LDRBEQ   r2,[r2,r3]            ;280
00132c  d019              BEQ      |L15.4962|
00132e  f5b25f80          CMP      r2,#0x1000            ;280
001332  d011              BEQ      |L15.4952|
001334  f5b25f00          CMP      r2,#0x2000            ;280
001338  d015              BEQ      |L15.4966|
00133a  f5b25f40          CMP      r2,#0x3000            ;280
00133e  bf18              IT       NE                    ;280
001340  2000              MOVNE    r0,#0                 ;280
001342  d02f              BEQ      |L15.5028|
                  |L15.4932|
001344  4a57              LDR      r2,|L15.5284|
001346  7812              LDRB     r2,[r2,#0]            ;280  ; PPU_Reg
001348  f0120f04          TST      r2,#4                 ;280
00134c  bf14              ITE      NE                    ;280
00134e  f1030220          ADDNE    r2,r3,#0x20           ;280
001352  1c5a              ADDEQ    r2,r3,#1              ;280
001354  800a              STRH     r2,[r1,#0]            ;280
                  |L15.4950|
001356  e044              B        |L15.5090|
                  |L15.4952|
001358  688a              LDR      r2,[r1,#8]            ;280  ; PPU_Mem
00135a  f3c30c0b          UBFX     r12,r3,#0,#12         ;280
00135e  f812200c          LDRB     r2,[r2,r12]           ;280
                  |L15.4962|
001362  708a              STRB     r2,[r1,#2]            ;280
001364  e7ee              B        |L15.4932|
                  |L15.4966|
001366  f3c3020b          UBFX     r2,r3,#0,#12          ;280
00136a  f5b26f40          CMP      r2,#0xc00             ;280
00136e  bf84              ITT      HI                    ;280
001370  f8d1c018          LDRHI    r12,[r1,#0x18]        ;280  ; PPU_Mem
001374  f5a26240          SUBHI    r2,r2,#0xc00          ;280
001378  d810              BHI      |L15.5020|
00137a  f5b26f00          CMP      r2,#0x800             ;280
00137e  bf84              ITT      HI                    ;280
001380  f8d1c014          LDRHI    r12,[r1,#0x14]        ;280  ; PPU_Mem
001384  f5a26200          SUBHI    r2,r2,#0x800          ;280
001388  d808              BHI      |L15.5020|
00138a  f5b26f80          CMP      r2,#0x400             ;280
00138e  bf86              ITTE     HI                    ;280
001390  f8d1c010          LDRHI    r12,[r1,#0x10]        ;280  ; PPU_Mem
001394  f5a26280          SUBHI    r2,r2,#0x400          ;280
001398  f8d1c00c          LDRLS    r12,[r1,#0xc]         ;280  ; PPU_Mem
                  |L15.5020|
00139c  f81c2002          LDRB     r2,[r12,r2]           ;280
0013a0  e7df              B        |L15.4962|
                  |L15.5026|
0013a2  e01d              B        |L15.5088|
                  |L15.5028|
0013a4  f6437210          MOV      r2,#0x3f10            ;280
0013a8  4293              CMP      r3,r2                 ;280
0013aa  d305              BCC      |L15.5048|
0013ac  f003000f          AND      r0,r3,#0xf            ;280
0013b0  4408              ADD      r0,r0,r1              ;280
0013b2  f890002c          LDRB     r0,[r0,#0x2c]         ;280
0013b6  e7c5              B        |L15.4932|
                  |L15.5048|
0013b8  f5b35f7c          CMP      r3,#0x3f00            ;280
0013bc  d3c2              BCC      |L15.4932|
0013be  f003000f          AND      r0,r3,#0xf            ;280
0013c2  4408              ADD      r0,r0,r1              ;280
0013c4  7f00              LDRB     r0,[r0,#0x1c]         ;280
0013c6  e7bd              B        |L15.4932|
0013c8  f5a04180          SUB      r1,r0,#0x4000         ;280
0013cc  3916              SUBS     r1,r1,#0x16           ;280
0013ce  bf08              IT       EQ                    ;280
0013d0  2000              MOVEQ    r0,#0                 ;280
0013d2  d038              BEQ      |L15.5190|
0013d4  f5a04180          SUB      r1,r0,#0x4000         ;280
0013d8  3917              SUBS     r1,r1,#0x17           ;280
0013da  bf08              IT       EQ                    ;280
0013dc  2001              MOVEQ    r0,#1                 ;280
0013de  d032              BEQ      |L15.5190|
                  |L15.5088|
0013e0  0a00              LSRS     r0,r0,#8              ;280
                  |L15.5090|
0013e2  7961              LDRB     r1,[r4,#5]            ;280  ; P
0013e4  78a3              LDRB     r3,[r4,#2]            ;280  ; A
0013e6  f0010201          AND      r2,r1,#1              ;280
0013ea  4418              ADD      r0,r0,r3              ;280
0013ec  4410              ADD      r0,r0,r2              ;280
0013ee  f1000280          ADD      r2,r0,#0x80           ;280
0013f2  f5b27f80          CMP      r2,#0x100             ;280
0013f6  bf2c              ITE      CS                    ;280
0013f8  f0410140          ORRCS    r1,r1,#0x40           ;280
0013fc  f00101bf          ANDCC    r1,r1,#0xbf           ;280
001400  7161              STRB     r1,[r4,#5]            ;280
001402  28ff              CMP      r0,#0xff              ;280
001404  b2c9              UXTB     r1,r1                 ;280
001406  bfcc              ITE      GT                    ;280
001408  f0410101          ORRGT    r1,r1,#1              ;280
00140c  f00101fe          ANDLE    r1,r1,#0xfe           ;280
001410  7161              STRB     r1,[r4,#5]            ;280
001412  b2c0              UXTB     r0,r0                 ;280
001414  b2c9              UXTB     r1,r1                 ;280
001416  70a0              STRB     r0,[r4,#2]            ;280
001418  f0110f08          TST      r1,#8                 ;280
00141c  d024              BEQ      |L15.5224|
00141e  f00101fe          AND      r1,r1,#0xfe           ;280
001422  f000020f          AND      r2,r0,#0xf            ;280
001426  7161              STRB     r1,[r4,#5]            ;280
001428  2a09              CMP      r2,#9                 ;280
00142a  bf84              ITT      HI                    ;280
00142c  1d80              ADDHI    r0,r0,#6              ;280
00142e  70a0              STRBHI   r0,[r4,#2]            ;280
001430  b2c0              UXTB     r0,r0                 ;280
001432  f00002f0          AND      r2,r0,#0xf0           ;280
001436  2a90              CMP      r2,#0x90              ;280
001438  d919              BLS      |L15.5230|
00143a  3060              ADDS     r0,r0,#0x60           ;280
00143c  70a0              STRB     r0,[r4,#2]            ;280
00143e  f0410001          ORR      r0,r1,#1              ;280
001442  7160              STRB     r0,[r4,#5]            ;280
001444  e013              B        |L15.5230|
                  |L15.5190|
001446  f7fffffe          BL       joypad_read
00144a  e7ca              B        |L15.5090|
00144c  2000              MOVS     r0,#0                 ;280
00144e  e7c8              B        |L15.5090|
001450  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
001452  4408              ADD      r0,r0,r1              ;280
001454  f5a04000          SUB      r0,r0,#0x8000         ;280
001458  7800              LDRB     r0,[r0,#0]            ;280
00145a  e7c2              B        |L15.5090|
00145c  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
00145e  4408              ADD      r0,r0,r1              ;280
001460  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.5220|
001464  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
001466  e7bc              B        |L15.5090|
                  |L15.5224|
001468  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00146a  1c40              ADDS     r0,r0,#1              ;280
00146c  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
                  |L15.5230|
00146e  78a0              LDRB     r0,[r4,#2]            ;280  ; A
001470  7961              LDRB     r1,[r4,#5]            ;280  ; P
001472  2800              CMP      r0,#0                 ;280
001474  bf14              ITE      NE                    ;280
001476  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00147a  f0410102          ORREQ    r1,r1,#2              ;280
00147e  7161              STRB     r1,[r4,#5]            ;280
001480  f0100f80          TST      r0,#0x80              ;280
001484  f43fa826          BEQ      |L15.1236|
001488  f7ffb820          B        |L15.1228|
                  |L15.5260|
                          DCD      cpu_absx
                  |L15.5264|
                          DCD      ||.bss||
                  |L15.5268|
                          DCD      cpu_indx
                  |L15.5272|
                          DCD      cpu_immediate
                  |L15.5276|
                          DCD      cpu_abs
                  |L15.5280|
                          DCD      cpu_indy
                  |L15.5284|
                          DCD      PPU_Reg
                  |L15.5288|
                          DCD      PPU_Latch_Flag
                  |L15.5292|
                          DCD      PPU_scanline
                  |L15.5296|
                          DCD      Spr_Mem
                  |L15.5300|
                          DCD      PPU_Mem
0014b8  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0014ba  1c40              ADDS     r0,r0,#1              ;280
0014bc  81e0              STRH     r0,[r4,#0xe]          ;280
0014be  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0014c0  78e1              LDRB     r1,[r4,#3]            ;280  ; X
0014c2  4408              ADD      r0,r0,r1              ;280
0014c4  b2c0              UXTB     r0,r0                 ;280
0014c6  2100              MOVS     r1,#0                 ;280
0014c8  4afe              LDR      r2,|L15.6340|
0014ca  5411              STRB     r1,[r2,r0]            ;280
0014cc  f7ffb96d          B        |L15.1962|
0014d0  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0014d2  1c40              ADDS     r0,r0,#1              ;280
0014d4  81e0              STRH     r0,[r4,#0xe]          ;280
0014d6  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0014d8  78e1              LDRB     r1,[r4,#3]            ;280  ; X
0014da  78a3              LDRB     r3,[r4,#2]            ;280  ; A
0014dc  4408              ADD      r0,r0,r1              ;280
0014de  49f9              LDR      r1,|L15.6340|
0014e0  b2c0              UXTB     r0,r0                 ;280
0014e2  5c08              LDRB     r0,[r1,r0]            ;280
0014e4  7961              LDRB     r1,[r4,#5]            ;280  ; P
0014e6  4418              ADD      r0,r0,r3              ;280
0014e8  f0010201          AND      r2,r1,#1              ;280
0014ec  4410              ADD      r0,r0,r2              ;280
0014ee  f1000280          ADD      r2,r0,#0x80           ;280
0014f2  f5b27f80          CMP      r2,#0x100             ;280
0014f6  bf2c              ITE      CS                    ;280
0014f8  f0410140          ORRCS    r1,r1,#0x40           ;280
0014fc  f00101bf          ANDCC    r1,r1,#0xbf           ;280
001500  7161              STRB     r1,[r4,#5]            ;280
001502  28ff              CMP      r0,#0xff              ;280
001504  b2c9              UXTB     r1,r1                 ;280
001506  bfcc              ITE      GT                    ;280
001508  f0410101          ORRGT    r1,r1,#1              ;280
00150c  f00101fe          ANDLE    r1,r1,#0xfe           ;280
001510  7161              STRB     r1,[r4,#5]            ;280
001512  b2c0              UXTB     r0,r0                 ;280
001514  b2c9              UXTB     r1,r1                 ;280
001516  70a0              STRB     r0,[r4,#2]            ;280
001518  f0110f08          TST      r1,#8                 ;280
00151c  d013              BEQ      |L15.5446|
00151e  f00101fe          AND      r1,r1,#0xfe           ;280
001522  f000020f          AND      r2,r0,#0xf            ;280
001526  7161              STRB     r1,[r4,#5]            ;280
001528  2a09              CMP      r2,#9                 ;280
00152a  bf84              ITT      HI                    ;280
00152c  1d80              ADDHI    r0,r0,#6              ;280
00152e  70a0              STRBHI   r0,[r4,#2]            ;280
001530  b2c0              UXTB     r0,r0                 ;280
001532  f00002f0          AND      r2,r0,#0xf0           ;280
001536  2a90              CMP      r2,#0x90              ;280
001538  d908              BLS      |L15.5452|
00153a  3060              ADDS     r0,r0,#0x60           ;280
00153c  70a0              STRB     r0,[r4,#2]            ;280
00153e  f0410001          ORR      r0,r1,#1              ;280
001542  7160              STRB     r0,[r4,#5]            ;280
001544  e002              B        |L15.5452|
                  |L15.5446|
001546  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001548  1c40              ADDS     r0,r0,#1              ;280
00154a  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
                  |L15.5452|
00154c  78a0              LDRB     r0,[r4,#2]            ;280  ; A
00154e  7961              LDRB     r1,[r4,#5]            ;280  ; P
001550  2800              CMP      r0,#0                 ;280
001552  bf14              ITE      NE                    ;280
001554  f00101fd          ANDNE    r1,r1,#0xfd           ;280
001558  f0410102          ORREQ    r1,r1,#2              ;280
00155c  7161              STRB     r1,[r4,#5]            ;280
00155e  f0100f80          TST      r0,#0x80              ;280
001562  f43fa91f          BEQ      |L15.1956|
001566  f7ffb919          B        |L15.1948|
00156a  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
00156c  7963              LDRB     r3,[r4,#5]            ;280  ; P
00156e  f1000001          ADD      r0,r0,#1              ;280
001572  81e0              STRH     r0,[r4,#0xe]          ;280
001574  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001576  78e1              LDRB     r1,[r4,#3]            ;280  ; X
001578  f8dfc348          LDR      r12,|L15.6340|
00157c  4408              ADD      r0,r0,r1              ;280
00157e  b2c0              UXTB     r0,r0                 ;280
001580  f0130f01          TST      r3,#1                 ;280
001584  f81c1000          LDRB     r1,[r12,r0]           ;280
001588  f00303fe          AND      r3,r3,#0xfe           ;280
00158c  f0010501          AND      r5,r1,#1              ;280
001590  ea430305          ORR      r3,r3,r5              ;280
001594  7163              STRB     r3,[r4,#5]            ;280
001596  ea4f0151          LSR      r1,r1,#1              ;280
00159a  bf18              IT       NE                    ;280
00159c  f0410180          ORRNE    r1,r1,#0x80           ;280
0015a0  f80c1000          STRB     r1,[r12,r0]           ;280
0015a4  2900              CMP      r1,#0                 ;280
0015a6  bf14              ITE      NE                    ;280
0015a8  f00300fd          ANDNE    r0,r3,#0xfd           ;280
0015ac  f0430002          ORREQ    r0,r3,#2              ;280
0015b0  7160              STRB     r0,[r4,#5]            ;280
0015b2  f0110f80          TST      r1,#0x80              ;280
0015b6  f47fa918          BNE      |L15.2026|
                  |L15.5562|
0015ba  7960              LDRB     r0,[r4,#5]            ;280  ; P
0015bc  f000007f          AND      r0,r0,#0x7f           ;280
0015c0  f7ffb916          B        |L15.2032|
0015c4  7960              LDRB     r0,[r4,#5]            ;280  ; P
0015c6  f0400004          ORR      r0,r0,#4              ;280
0015ca  7160              STRB     r0,[r4,#5]            ;280
0015cc  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0015ce  1c80              ADDS     r0,r0,#2              ;280
0015d0  f7febf52          B        |L15.1144|
0015d4  48bc              LDR      r0,|L15.6344|
0015d6  f7fffffe          BL       cpu_adc
0015da  f7ffb8e6          B        |L15.1962|
0015de  79a0              LDRB     r0,[r4,#6]            ;280  ; S
0015e0  49b8              LDR      r1,|L15.6340|
0015e2  1c40              ADDS     r0,r0,#1              ;280
0015e4  b2c0              UXTB     r0,r0                 ;280
0015e6  71a0              STRB     r0,[r4,#6]            ;280
0015e8  4408              ADD      r0,r0,r1              ;280
0015ea  f8900100          LDRB     r0,[r0,#0x100]        ;280
0015ee  7120              STRB     r0,[r4,#4]            ;280
0015f0  7961              LDRB     r1,[r4,#5]            ;280  ; P
0015f2  2800              CMP      r0,#0                 ;280
0015f4  bf14              ITE      NE                    ;280
0015f6  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0015fa  f0410102          ORREQ    r1,r1,#2              ;280
0015fe  7161              STRB     r1,[r4,#5]            ;280
001600  f0100f80          TST      r0,#0x80              ;280
001604  f43fa8ce          BEQ      |L15.1956|
001608  f7ffb8c8          B        |L15.1948|
00160c  f7fffffe          BL       cpu_indabsx
001610  81e0              STRH     r0,[r4,#0xe]          ;280
001612  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001614  1d80              ADDS     r0,r0,#6              ;280
001616  f7febf2f          B        |L15.1144|
00161a  48ac              LDR      r0,|L15.6348|
00161c  f7fffffe          BL       cpu_adc
001620  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001622  1d00              ADDS     r0,r0,#4              ;280
001624  f7febf28          B        |L15.1144|
001628  48a8              LDR      r0,|L15.6348|
00162a  f7fffffe          BL       cpu_ror
00162e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001630  1dc0              ADDS     r0,r0,#7              ;280
001632  f7febf21          B        |L15.1144|
001636  bf00              NOP                            ;280
                  |L15.5688|
001638  f7fffffe          BL       cpu_relative
00163c  89e1              LDRH     r1,[r4,#0xe]          ;280  ; PC
00163e  4408              ADD      r0,r0,r1              ;280
001640  81e0              STRH     r0,[r4,#0xe]          ;280
001642  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001644  1cc0              ADDS     r0,r0,#3              ;280
001646  f7febf17          B        |L15.1144|
00164a  48a1              LDR      r0,|L15.6352|
00164c  f7fffffe          BL       cpu_sta
001650  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001652  1d80              ADDS     r0,r0,#6              ;280
001654  f7febf10          B        |L15.1144|
001658  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
00165a  4a9a              LDR      r2,|L15.6340|
00165c  1c40              ADDS     r0,r0,#1              ;280
00165e  81e0              STRH     r0,[r4,#0xe]          ;280
001660  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001662  7921              LDRB     r1,[r4,#4]            ;280  ; Y
001664  5411              STRB     r1,[r2,r0]            ;280
001666  f7febf09          B        |L15.1148|
00166a  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
00166c  4a95              LDR      r2,|L15.6340|
00166e  1c40              ADDS     r0,r0,#1              ;280
001670  81e0              STRH     r0,[r4,#0xe]          ;280
001672  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001674  78a1              LDRB     r1,[r4,#2]            ;280  ; A
001676  5411              STRB     r1,[r2,r0]            ;280
001678  f7febf00          B        |L15.1148|
00167c  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
00167e  4a91              LDR      r2,|L15.6340|
001680  1c40              ADDS     r0,r0,#1              ;280
001682  81e0              STRH     r0,[r4,#0xe]          ;280
001684  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001686  78e1              LDRB     r1,[r4,#3]            ;280  ; X
001688  5411              STRB     r1,[r2,r0]            ;280
00168a  f7febef7          B        |L15.1148|
00168e  7920              LDRB     r0,[r4,#4]            ;280  ; Y
001690  1e40              SUBS     r0,r0,#1              ;280
001692  f01000ff          ANDS     r0,r0,#0xff           ;280
001696  7120              STRB     r0,[r4,#4]            ;280
001698  7961              LDRB     r1,[r4,#5]            ;280  ; P
00169a  bf14              ITE      NE                    ;280
00169c  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0016a0  f0410102          ORREQ    r1,r1,#2              ;280
0016a4  7161              STRB     r1,[r4,#5]            ;280
0016a6  f0100f80          TST      r0,#0x80              ;280
0016aa  f43eaf63          BEQ      |L15.1396|
0016ae  f7febf5e          B        |L15.1390|
0016b2  4888              LDR      r0,|L15.6356|
0016b4  f7fffffe          BL       cpu_bit
0016b8  f7febee0          B        |L15.1148|
0016bc  78e0              LDRB     r0,[r4,#3]            ;280  ; X
0016be  70a0              STRB     r0,[r4,#2]            ;280
0016c0  7961              LDRB     r1,[r4,#5]            ;280  ; P
0016c2  2800              CMP      r0,#0                 ;280
0016c4  bf14              ITE      NE                    ;280
0016c6  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0016ca  f0410102          ORREQ    r1,r1,#2              ;280
0016ce  7161              STRB     r1,[r4,#5]            ;280
0016d0  f0100f80          TST      r0,#0x80              ;280
0016d4  f43eaf4e          BEQ      |L15.1396|
0016d8  f7febf49          B        |L15.1390|
0016dc  f7fffffe          BL       cpu_abs
0016e0  f4004370          AND      r3,r0,#0xf000         ;280
0016e4  7922              LDRB     r2,[r4,#4]            ;280  ; Y
0016e6  2100              MOVS     r1,#0                 ;280
0016e8  131b              ASRS     r3,r3,#12             ;280
0016ea  2b05              CMP      r3,#5                 ;280
0016ec  f4bfa85d          BCS      |L15.1962|
0016f0  e8dff003          TBB      [pc,r3]               ;280
0016f4  03030909          DCB      0x03,0x03,0x09,0x09
0016f8  9500              DCB      0x95,0x00
                  |L15.5882|
0016fa  4972              LDR      r1,|L15.6340|
0016fc  f3c0000a          UBFX     r0,r0,#0,#11          ;280
001700  540a              STRB     r2,[r1,r0]            ;280
001702  f7ffb852          B        |L15.1962|
001706  f0000007          AND      r0,r0,#7              ;280
00170a  2808              CMP      r0,#8                 ;280
00170c  f4bfa84d          BCS      |L15.1962|
001710  e8dff000          TBB      [pc,r0]               ;280
001714  d706040a          DCB      0xd7,0x06,0x04,0x0a
001718  0f1a2834          DCB      0x0f,0x1a,0x28,0x34
00171c  f7ffb845          B        |L15.1962|
                  |L15.5920|
001720  486d              LDR      r0,|L15.6360|
001722  7042              STRB     r2,[r0,#1]            ;280
001724  f7ffb841          B        |L15.1962|
                  |L15.5928|
001728  486c              LDR      r0,|L15.6364|
00172a  f8802100          STRB     r2,[r0,#0x100]        ;280
00172e  f7ffb83c          B        |L15.1962|
                  |L15.5938|
001732  486a              LDR      r0,|L15.6364|
001734  f8901100          LDRB     r1,[r0,#0x100]        ;280  ; Spr_Mem
001738  5442              STRB     r2,[r0,r1]            ;280
00173a  f8901100          LDRB     r1,[r0,#0x100]        ;280  ; Spr_Mem
00173e  1c49              ADDS     r1,r1,#1              ;280
001740  f8801100          STRB     r1,[r0,#0x100]        ;280
001744  f7ffb831          B        |L15.1962|
001748  4865              LDR      r0,|L15.6368|
00174a  7801              LDRB     r1,[r0,#0]            ;280  ; PPU_Latch_Flag
00174c  b119              CBZ      r1,|L15.5974|
00174e  2aef              CMP      r2,#0xef              ;280
001750  d87d              BHI      |L15.6222|
                  |L15.5970|
001752  4b64              LDR      r3,|L15.6372|
001754  e000              B        |L15.5976|
                  |L15.5974|
001756  4b64              LDR      r3,|L15.6376|
                  |L15.5976|
001758  f0810101          EOR      r1,r1,#1              ;280
00175c  701a              STRB     r2,[r3,#0]            ;280
00175e  7001              STRB     r1,[r0,#0]            ;280
001760  f7ffb823          B        |L15.1962|
                  |L15.5988|
001764  4861              LDR      r0,|L15.6380|
001766  7801              LDRB     r1,[r0,#0]            ;280  ; PPU_Mem
001768  eb022101          ADD      r1,r2,r1,LSL #8       ;280
00176c  8001              STRH     r1,[r0,#0]            ;280
00176e  485c              LDR      r0,|L15.6368|
001770  7801              LDRB     r1,[r0,#0]            ;280  ; PPU_Latch_Flag
001772  f0810101          EOR      r1,r1,#1              ;280
001776  7001              STRB     r1,[r0,#0]            ;280
001778  f7ffb817          B        |L15.1962|
00177c  4d5b              LDR      r5,|L15.6380|
00177e  8828              LDRH     r0,[r5,#0]            ;280  ; PPU_Mem
001780  f4104170          ANDS     r1,r0,#0xf000         ;280
001784  bf18              IT       NE                    ;280
001786  f5b15f80          CMPNE    r1,#0x1000            ;280
00178a  d03f              BEQ      |L15.6156|
00178c  f5b15f00          CMP      r1,#0x2000            ;280
001790  d003              BEQ      |L15.6042|
001792  f5b15f40          CMP      r1,#0x3000            ;280
001796  d019              BEQ      |L15.6092|
001798  e038              B        |L15.6156|
                  |L15.6042|
00179a  f3c0000b          UBFX     r0,r0,#0,#12          ;280
00179e  f5b06f40          CMP      r0,#0xc00             ;280
0017a2  bf84              ITT      HI                    ;280
0017a4  69a9              LDRHI    r1,[r5,#0x18]         ;280  ; PPU_Mem
0017a6  f5a06040          SUBHI    r0,r0,#0xc00          ;280
0017aa  d80d              BHI      |L15.6088|
0017ac  f5b06f00          CMP      r0,#0x800             ;280
0017b0  bf84              ITT      HI                    ;280
0017b2  6969              LDRHI    r1,[r5,#0x14]         ;280  ; PPU_Mem
0017b4  f5a06000          SUBHI    r0,r0,#0x800          ;280
0017b8  d806              BHI      |L15.6088|
0017ba  f5b06f80          CMP      r0,#0x400             ;280
0017be  bf86              ITTE     HI                    ;280
0017c0  6929              LDRHI    r1,[r5,#0x10]         ;280  ; PPU_Mem
0017c2  f5a06080          SUBHI    r0,r0,#0x400          ;280
0017c6  68e9              LDRLS    r1,[r5,#0xc]          ;280  ; PPU_Mem
                  |L15.6088|
0017c8  540a              STRB     r2,[r1,r0]            ;280
0017ca  e01f              B        |L15.6156|
                  |L15.6092|
0017cc  f000011f          AND      r1,r0,#0x1f           ;280
0017d0  f000000f          AND      r0,r0,#0xf            ;280
0017d4  290f              CMP      r1,#0xf               ;280
0017d6  4428              ADD      r0,r0,r5              ;280
0017d8  d915              BLS      |L15.6150|
0017da  f880202c          STRB     r2,[r0,#0x2c]         ;280
0017de  7828              LDRB     r0,[r5,#0]            ;280  ; PPU_Mem
0017e0  f0100f03          TST      r0,#3                 ;280
0017e4  d112              BNE      |L15.6156|
0017e6  772a              STRB     r2,[r5,#0x1c]         ;280
0017e8  f885202c          STRB     r2,[r5,#0x2c]         ;280
0017ec  f8852020          STRB     r2,[r5,#0x20]         ;280
0017f0  f8852030          STRB     r2,[r5,#0x30]         ;280
0017f4  f8852024          STRB     r2,[r5,#0x24]         ;280
0017f8  f8852034          STRB     r2,[r5,#0x34]         ;280
0017fc  f8852028          STRB     r2,[r5,#0x28]         ;280
001800  f8852038          STRB     r2,[r5,#0x38]         ;280
001804  e002              B        |L15.6156|
                  |L15.6150|
001806  7702              STRB     r2,[r0,#0x1c]         ;280
001808  f7fffffe          BL       premap_palette
                  |L15.6156|
00180c  4832              LDR      r0,|L15.6360|
00180e  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
001810  f0100f04          TST      r0,#4                 ;280
001814  d172              BNE      |L15.6396|
001816  e143              B        |L15.6816|
                  |L15.6168|
001818  8028              STRH     r0,[r5,#0]            ;280
00181a  f7febfc6          B        |L15.1962|
00181e  f5a04380          SUB      r3,r0,#0x4000         ;280
001822  3b14              SUBS     r3,r3,#0x14           ;280
001824  d071              BEQ      |L15.6410|
001826  f5a04380          SUB      r3,r0,#0x4000         ;280
00182a  3b16              SUBS     r3,r3,#0x16           ;280
00182c  f47eafbd          BNE      |L15.1962|
001830  b3f2              CBZ      r2,|L15.6320|
001832  482f              LDR      r0,|L15.6384|
001834  7001              STRB     r1,[r0,#0]            ;280
001836  482f              LDR      r0,|L15.6388|
001838  6900              LDR      r0,[r0,#0x10]         ;280
00183a  43c0              MVNS     r0,r0                 ;280
00183c  b283              UXTH     r3,r0                 ;280
00183e  482e              LDR      r0,|L15.6392|
001840  8801              LDRH     r1,[r0,#0]            ;280  ; joys
001842  f5b16f40          CMP      r1,#0xc00             ;280
001846  bf98              IT       LS                    ;280
001848  f04f0c00          MOVLS    r12,#0                ;280
00184c  e000              B        |L15.6224|
                  |L15.6222|
00184e  e0d5              B        |L15.6652|
                  |L15.6224|
001850  bf88              IT       HI                    ;280
001852  f04f0c01          MOVHI    r12,#1                ;280
001856  ea43430c          ORR      r3,r3,r12,LSL #16     ;280
00185a  f5b16f80          CMP      r1,#0x400             ;280
00185e  bf34              ITE      CC                    ;280
001860  2101              MOVCC    r1,#1                 ;280
001862  2100              MOVCS    r1,#0                 ;280
001864  ea434341          ORR      r3,r3,r1,LSL #17      ;280
001868  8841              LDRH     r1,[r0,#2]            ;280  ; joys
00186a  f5b16f40          CMP      r1,#0xc00             ;280
00186e  bf8c              ITE      HI                    ;280
001870  f04f0c01          MOVHI    r12,#1                ;280
001874  f04f0c00          MOVLS    r12,#0                ;280
001878  ea43438c          ORR      r3,r3,r12,LSL #18     ;280
00187c  f5b16f80          CMP      r1,#0x400             ;280
001880  bf34              ITE      CC                    ;280
001882  2101              MOVCC    r1,#1                 ;280
001884  2100              MOVCS    r1,#0                 ;280
001886  ea4341c1          ORR      r1,r3,r1,LSL #19      ;280
00188a  88c3              LDRH     r3,[r0,#6]            ;280  ; joys
00188c  f5b36f40          CMP      r3,#0xc00             ;280
001890  bf8c              ITE      HI                    ;280
001892  f04f0c01          MOVHI    r12,#1                ;280
001896  f04f0c00          MOVLS    r12,#0                ;280
00189a  ea41510c          ORR      r1,r1,r12,LSL #20     ;280
00189e  f5b36f80          CMP      r3,#0x400             ;280
0018a2  bf34              ITE      CC                    ;280
0018a4  2301              MOVCC    r3,#1                 ;280
0018a6  2300              MOVCS    r3,#0                 ;280
0018a8  ea415143          ORR      r1,r1,r3,LSL #21      ;280
0018ac  8880              LDRH     r0,[r0,#4]            ;280  ; joys
0018ae  e000              B        |L15.6322|
                  |L15.6320|
0018b0  e141              B        |L15.6966|
                  |L15.6322|
0018b2  f5b06f40          CMP      r0,#0xc00             ;280
0018b6  bf8c              ITE      HI                    ;280
0018b8  2301              MOVHI    r3,#1                 ;280
0018ba  2300              MOVLS    r3,#0                 ;280
0018bc  ea415183          ORR      r1,r1,r3,LSL #22      ;280
0018c0  e01e              B        |L15.6400|
0018c2  e091              B        |L15.6632|
                  |L15.6340|
                          DCD      ||.bss||
                  |L15.6344|
                          DCD      cpu_absy
                  |L15.6348|
                          DCD      cpu_absx
                  |L15.6352|
                          DCD      cpu_indx
                  |L15.6356|
                          DCD      cpu_immediate
                  |L15.6360|
                          DCD      PPU_Reg
                  |L15.6364|
                          DCD      Spr_Mem
                  |L15.6368|
                          DCD      PPU_Latch_Flag
                  |L15.6372|
                          DCD      PPU_BG_VScrlOrg
                  |L15.6376|
                          DCD      PPU_BG_HScrlOrg
                  |L15.6380|
                          DCD      PPU_Mem
                  |L15.6384|
                          DCD      ||.data||+0x9
                  |L15.6388|
                          DCD      0x40021000
                  |L15.6392|
                          DCD      joys
                  |L15.6396|
0018fc  e0cd              B        |L15.6810|
0018fe  e004              B        |L15.6410|
                  |L15.6400|
001900  f5b06f80          CMP      r0,#0x400             ;280
001904  d26f              BCS      |L15.6630|
                  |L15.6406|
001906  2001              MOVS     r0,#1                 ;280
001908  e040              B        |L15.6540|
                  |L15.6410|
00190a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00190c  2100              MOVS     r1,#0                 ;280
00190e  f5a07000          SUB      r0,r0,#0x200          ;280
001912  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001914  0910              LSRS     r0,r2,#4              ;280
001916  2810              CMP      r0,#0x10              ;280
001918  d21a              BCS      |L15.6480|
00191a  e8dff000          TBB      [pc,r0]               ;280
00191e  0a0a              DCB      0x0a,0x0a
001920  19191919          DCB      0x19,0x19,0x19,0x19
001924  08080e0e          DCB      0x08,0x08,0x0e,0x0e
001928  0e0e1414          DCB      0x0e,0x0e,0x14,0x14
00192c  1414              DCB      0x14,0x14
00192e  f7febf3c          B        |L15.1962|
001932  48f9              LDR      r0,|L15.7448|
001934  eb002102          ADD      r1,r0,r2,LSL #8       ;280
001938  e00a              B        |L15.6480|
00193a  69a0              LDR      r0,[r4,#0x18]         ;280  ; prg_rombank0
00193c  eb002002          ADD      r0,r0,r2,LSL #8       ;280
001940  f5a04100          SUB      r1,r0,#0x8000         ;280
001944  e004              B        |L15.6480|
001946  69e0              LDR      r0,[r4,#0x1c]         ;280  ; prg_rombank1
001948  eb002002          ADD      r0,r0,r2,LSL #8       ;280
00194c  f5a04140          SUB      r1,r0,#0xc000         ;280
                  |L15.6480|
001950  4af2              LDR      r2,|L15.7452|
001952  1a50              SUBS     r0,r2,r1              ;280
001954  2800              CMP      r0,#0                 ;280
001956  dd04              BLE      |L15.6498|
001958  f5b07f80          CMP      r0,#0x100             ;280
00195c  bfb8              IT       LT                    ;280
00195e  2000              MOVLT    r0,#0                 ;280
001960  db06              BLT      |L15.6512|
                  |L15.6498|
001962  f44f7280          MOV      r2,#0x100             ;280
001966  48ed              LDR      r0,|L15.7452|
001968  f7fffffe          BL       __aeabi_memmove
00196c  f7febf1d          B        |L15.1962|
                  |L15.6512|
001970  5c0b              LDRB     r3,[r1,r0]            ;280
001972  5413              STRB     r3,[r2,r0]            ;280
001974  180b              ADDS     r3,r1,r0              ;280
001976  eb020c00          ADD      r12,r2,r0             ;280
00197a  785b              LDRB     r3,[r3,#1]            ;280
00197c  1c80              ADDS     r0,r0,#2              ;280
00197e  f88c3001          STRB     r3,[r12,#1]           ;280
001982  f5b07f80          CMP      r0,#0x100             ;280
001986  dbf3              BLT      |L15.6512|
001988  f7febf0f          B        |L15.1962|
                  |L15.6540|
00198c  ea4150c0          ORR      r0,r1,r0,LSL #23      ;280
001990  6160              STR      r0,[r4,#0x14]         ;280  ; joypad_state
001992  e118              B        |L15.7110|
                  |L15.6548|
001994  7002              STRB     r2,[r0,#0]            ;280
001996  f7febf08          B        |L15.1962|
00199a  48e1              LDR      r0,|L15.7456|
00199c  f7fffffe          BL       cpu_sta
0019a0  f7febf03          B        |L15.1962|
0019a4  f7fffffe          BL       cpu_abs
0019a8  f4004370          AND      r3,r0,#0xf000         ;280
0019ac  78e2              LDRB     r2,[r4,#3]            ;280  ; X
0019ae  2100              MOVS     r1,#0                 ;280
0019b0  131b              ASRS     r3,r3,#12             ;280
0019b2  2b05              CMP      r3,#5                 ;280
0019b4  f4beaef9          BCS      |L15.1962|
0019b8  e8dff003          TBB      [pc,r3]               ;280
0019bc  03030404          DCB      0x03,0x03,0x04,0x04
0019c0  7500              DCB      0x75,0x00
0019c2  e69a              B        |L15.5882|
0019c4  f0000007          AND      r0,r0,#7              ;280
0019c8  2808              CMP      r0,#8                 ;280
0019ca  f4beaeee          BCS      |L15.1962|
0019ce  e8dff000          TBB      [pc,r0]               ;280
0019d2  0b09              DCB      0x0b,0x09
0019d4  0706050d          DCB      0x07,0x06,0x05,0x0d
0019d8  0417              DCB      0x04,0x17
0019da  e6c3              B        |L15.5988|
0019dc  e6a9              B        |L15.5938|
0019de  e6a3              B        |L15.5928|
0019e0  f7febee3          B        |L15.1962|
0019e4  e69c              B        |L15.5920|
                  |L15.6630|
0019e6  e0b0              B        |L15.6986|
                  |L15.6632|
0019e8  48ce              LDR      r0,|L15.7460|
0019ea  e7d3              B        |L15.6548|
0019ec  48ce              LDR      r0,|L15.7464|
0019ee  7801              LDRB     r1,[r0,#0]            ;280  ; PPU_Latch_Flag
0019f0  2900              CMP      r1,#0                 ;280
0019f2  f43faeb0          BEQ      |L15.5974|
0019f6  2aef              CMP      r2,#0xef              ;280
0019f8  f67faeab          BLS      |L15.5970|
                  |L15.6652|
0019fc  2200              MOVS     r2,#0                 ;280
0019fe  e6a8              B        |L15.5970|
001a00  4dca              LDR      r5,|L15.7468|
001a02  8828              LDRH     r0,[r5,#0]            ;280  ; PPU_Mem
001a04  f4104170          ANDS     r1,r0,#0xf000         ;280
001a08  bf18              IT       NE                    ;280
001a0a  f5b15f80          CMPNE    r1,#0x1000            ;280
001a0e  d03f              BEQ      |L15.6800|
001a10  f5b15f00          CMP      r1,#0x2000            ;280
001a14  d003              BEQ      |L15.6686|
001a16  f5b15f40          CMP      r1,#0x3000            ;280
001a1a  d019              BEQ      |L15.6736|
001a1c  e038              B        |L15.6800|
                  |L15.6686|
001a1e  f3c0000b          UBFX     r0,r0,#0,#12          ;280
001a22  f5b06f40          CMP      r0,#0xc00             ;280
001a26  bf84              ITT      HI                    ;280
001a28  69a9              LDRHI    r1,[r5,#0x18]         ;280  ; PPU_Mem
001a2a  f5a06040          SUBHI    r0,r0,#0xc00          ;280
001a2e  d80d              BHI      |L15.6732|
001a30  f5b06f00          CMP      r0,#0x800             ;280
001a34  bf84              ITT      HI                    ;280
001a36  6969              LDRHI    r1,[r5,#0x14]         ;280  ; PPU_Mem
001a38  f5a06000          SUBHI    r0,r0,#0x800          ;280
001a3c  d806              BHI      |L15.6732|
001a3e  f5b06f80          CMP      r0,#0x400             ;280
001a42  bf86              ITTE     HI                    ;280
001a44  6929              LDRHI    r1,[r5,#0x10]         ;280  ; PPU_Mem
001a46  f5a06080          SUBHI    r0,r0,#0x400          ;280
001a4a  68e9              LDRLS    r1,[r5,#0xc]          ;280  ; PPU_Mem
                  |L15.6732|
001a4c  540a              STRB     r2,[r1,r0]            ;280
001a4e  e01f              B        |L15.6800|
                  |L15.6736|
001a50  f000011f          AND      r1,r0,#0x1f           ;280
001a54  f000000f          AND      r0,r0,#0xf            ;280
001a58  290f              CMP      r1,#0xf               ;280
001a5a  4428              ADD      r0,r0,r5              ;280
001a5c  d915              BLS      |L15.6794|
001a5e  f880202c          STRB     r2,[r0,#0x2c]         ;280
001a62  7828              LDRB     r0,[r5,#0]            ;280  ; PPU_Mem
001a64  f0100f03          TST      r0,#3                 ;280
001a68  d112              BNE      |L15.6800|
001a6a  772a              STRB     r2,[r5,#0x1c]         ;280
001a6c  f885202c          STRB     r2,[r5,#0x2c]         ;280
001a70  f8852020          STRB     r2,[r5,#0x20]         ;280
001a74  f8852030          STRB     r2,[r5,#0x30]         ;280
001a78  f8852024          STRB     r2,[r5,#0x24]         ;280
001a7c  f8852034          STRB     r2,[r5,#0x34]         ;280
001a80  f8852028          STRB     r2,[r5,#0x28]         ;280
001a84  f8852038          STRB     r2,[r5,#0x38]         ;280
001a88  e002              B        |L15.6800|
                  |L15.6794|
001a8a  7702              STRB     r2,[r0,#0x1c]         ;280
001a8c  f7fffffe          BL       premap_palette
                  |L15.6800|
001a90  48a4              LDR      r0,|L15.7460|
001a92  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
001a94  f0100f04          TST      r0,#4                 ;280
001a98  d002              BEQ      |L15.6816|
                  |L15.6810|
001a9a  8828              LDRH     r0,[r5,#0]            ;280  ; PPU_Mem
001a9c  3020              ADDS     r0,r0,#0x20           ;280
001a9e  e6bb              B        |L15.6168|
                  |L15.6816|
001aa0  8828              LDRH     r0,[r5,#0]            ;280  ; PPU_Mem
001aa2  1c40              ADDS     r0,r0,#1              ;280
001aa4  e6b8              B        |L15.6168|
001aa6  f5a04380          SUB      r3,r0,#0x4000         ;280
001aaa  3b14              SUBS     r3,r3,#0x14           ;280
001aac  d04f              BEQ      |L15.6990|
001aae  f5a04380          SUB      r3,r0,#0x4000         ;280
001ab2  3b16              SUBS     r3,r3,#0x16           ;280
001ab4  f47eae79          BNE      |L15.1962|
001ab8  b3ea              CBZ      r2,|L15.6966|
001aba  489d              LDR      r0,|L15.7472|
001abc  7001              STRB     r1,[r0,#0]            ;280
001abe  489d              LDR      r0,|L15.7476|
001ac0  6900              LDR      r0,[r0,#0x10]         ;280
001ac2  43c0              MVNS     r0,r0                 ;280
001ac4  b283              UXTH     r3,r0                 ;280
001ac6  489c              LDR      r0,|L15.7480|
001ac8  8801              LDRH     r1,[r0,#0]            ;280  ; joys
001aca  f5b16f40          CMP      r1,#0xc00             ;280
001ace  bf94              ITE      LS                    ;280
001ad0  f04f0c00          MOVLS    r12,#0                ;280
001ad4  f04f0c01          MOVHI    r12,#1                ;280
001ad8  ea43430c          ORR      r3,r3,r12,LSL #16     ;280
001adc  f5b16f80          CMP      r1,#0x400             ;280
001ae0  bf34              ITE      CC                    ;280
001ae2  2101              MOVCC    r1,#1                 ;280
001ae4  2100              MOVCS    r1,#0                 ;280
001ae6  ea434341          ORR      r3,r3,r1,LSL #17      ;280
001aea  8841              LDRH     r1,[r0,#2]            ;280  ; joys
001aec  f5b16f40          CMP      r1,#0xc00             ;280
001af0  bf8c              ITE      HI                    ;280
001af2  f04f0c01          MOVHI    r12,#1                ;280
001af6  f04f0c00          MOVLS    r12,#0                ;280
001afa  ea43438c          ORR      r3,r3,r12,LSL #18     ;280
001afe  f5b16f80          CMP      r1,#0x400             ;280
001b02  bf34              ITE      CC                    ;280
001b04  2101              MOVCC    r1,#1                 ;280
001b06  2100              MOVCS    r1,#0                 ;280
001b08  ea4343c1          ORR      r3,r3,r1,LSL #19      ;280
001b0c  88c1              LDRH     r1,[r0,#6]            ;280  ; joys
001b0e  f5b16f40          CMP      r1,#0xc00             ;280
001b12  bf8c              ITE      HI                    ;280
001b14  f04f0c01          MOVHI    r12,#1                ;280
001b18  f04f0c00          MOVLS    r12,#0                ;280
001b1c  ea43530c          ORR      r3,r3,r12,LSL #20     ;280
001b20  f5b16f80          CMP      r1,#0x400             ;280
001b24  bf34              ITE      CC                    ;280
001b26  2101              MOVCC    r1,#1                 ;280
001b28  2100              MOVCS    r1,#0                 ;280
001b2a  ea435141          ORR      r1,r3,r1,LSL #21      ;280
001b2e  8880              LDRH     r0,[r0,#4]            ;280  ; joys
001b30  f5b06f40          CMP      r0,#0xc00             ;280
001b34  e000              B        |L15.6968|
                  |L15.6966|
001b36  e046              B        |L15.7110|
                  |L15.6968|
001b38  bf8c              ITE      HI                    ;280
001b3a  2301              MOVHI    r3,#1                 ;280
001b3c  2300              MOVLS    r3,#0                 ;280
001b3e  ea415183          ORR      r1,r1,r3,LSL #22      ;280
001b42  f5b06f80          CMP      r0,#0x400             ;280
001b46  f4ffaede          BCC      |L15.6406|
                  |L15.6986|
001b4a  2000              MOVS     r0,#0                 ;280
001b4c  e71e              B        |L15.6540|
                  |L15.6990|
001b4e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001b50  2100              MOVS     r1,#0                 ;280
001b52  f5a07000          SUB      r0,r0,#0x200          ;280
001b56  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001b58  0910              LSRS     r0,r2,#4              ;280
001b5a  2810              CMP      r0,#0x10              ;280
001b5c  d21a              BCS      |L15.7060|
001b5e  e8dff000          TBB      [pc,r0]               ;280
001b62  0a0a              DCB      0x0a,0x0a
001b64  19191919          DCB      0x19,0x19,0x19,0x19
001b68  08080e0e          DCB      0x08,0x08,0x0e,0x0e
001b6c  0e0e1414          DCB      0x0e,0x0e,0x14,0x14
001b70  1414              DCB      0x14,0x14
001b72  f7febe1a          B        |L15.1962|
001b76  4868              LDR      r0,|L15.7448|
001b78  eb002102          ADD      r1,r0,r2,LSL #8       ;280
001b7c  e00a              B        |L15.7060|
001b7e  69a0              LDR      r0,[r4,#0x18]         ;280  ; prg_rombank0
001b80  eb002002          ADD      r0,r0,r2,LSL #8       ;280
001b84  f5a04100          SUB      r1,r0,#0x8000         ;280
001b88  e004              B        |L15.7060|
001b8a  69e0              LDR      r0,[r4,#0x1c]         ;280  ; prg_rombank1
001b8c  eb002002          ADD      r0,r0,r2,LSL #8       ;280
001b90  f5a04140          SUB      r1,r0,#0xc000         ;280
                  |L15.7060|
001b94  4b61              LDR      r3,|L15.7452|
001b96  1a58              SUBS     r0,r3,r1              ;280
001b98  2800              CMP      r0,#0                 ;280
001b9a  f77faee2          BLE      |L15.6498|
001b9e  f5b07f80          CMP      r0,#0x100             ;280
001ba2  bfb8              IT       LT                    ;280
001ba4  2000              MOVLT    r0,#0                 ;280
001ba6  f6bfaedc          BGE      |L15.6498|
                  |L15.7082|
001baa  5c0a              LDRB     r2,[r1,r0]            ;280
001bac  541a              STRB     r2,[r3,r0]            ;280
001bae  180a              ADDS     r2,r1,r0              ;280
001bb0  eb030c00          ADD      r12,r3,r0             ;280
001bb4  7852              LDRB     r2,[r2,#1]            ;280
001bb6  1c80              ADDS     r0,r0,#2              ;280
001bb8  f88c2001          STRB     r2,[r12,#1]           ;280
001bbc  f5b07f80          CMP      r0,#0x100             ;280
001bc0  dbf3              BLT      |L15.7082|
001bc2  f7febdf2          B        |L15.1962|
                  |L15.7110|
001bc6  485d              LDR      r0,|L15.7484|
001bc8  e6e4              B        |L15.6548|
001bca  7960              LDRB     r0,[r4,#5]            ;280  ; P
001bcc  f0100f01          TST      r0,#1                 ;280
001bd0  f47eaf11          BNE      |L15.2550|
001bd4  f7febf06          B        |L15.2532|
001bd8  4859              LDR      r0,|L15.7488|
001bda  f7fffffe          BL       cpu_sta
001bde  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001be0  1d80              ADDS     r0,r0,#6              ;280
001be2  f7febc49          B        |L15.1144|
001be6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001be8  4a4b              LDR      r2,|L15.7448|
001bea  1c40              ADDS     r0,r0,#1              ;280
001bec  81e0              STRH     r0,[r4,#0xe]          ;280
001bee  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001bf0  f04f0c00          MOV      r12,#0                ;280
001bf4  4663              MOV      r3,r12                ;280
001bf6  5c11              LDRB     r1,[r2,r0]            ;280
001bf8  78a0              LDRB     r0,[r4,#2]            ;280  ; A
001bfa  ea4f3c2c          ASR      r12,r12,#12           ;280
001bfe  f1bc0f05          CMP      r12,#5                ;280
001c02  f4beac6a          BCS      |L15.1242|
001c06  e8dff00c          TBB      [pc,r12]              ;280
001c0a  0303              DCB      0x03,0x03
001c0c  0606af00          DCB      0x06,0x06,0xaf,0x00
001c10  5450              STRB     r0,[r2,r1]            ;280
001c12  f7febc62          B        |L15.1242|
001c16  f0010107          AND      r1,r1,#7              ;280
001c1a  2908              CMP      r1,#8                 ;280
001c1c  f4beac5d          BCS      |L15.1242|
001c20  e8dff001          TBB      [pc,r1]               ;280
001c24  0608040c          DCB      0x06,0x08,0x04,0x0c
001c28  0e192935          DCB      0x0e,0x19,0x29,0x35
001c2c  f7febc55          B        |L15.1242|
001c30  493c              LDR      r1,|L15.7460|
001c32  e01d              B        |L15.7280|
001c34  493b              LDR      r1,|L15.7460|
001c36  7048              STRB     r0,[r1,#1]            ;280
001c38  f7febc4f          B        |L15.1242|
001c3c  4937              LDR      r1,|L15.7452|
001c3e  e006              B        |L15.7246|
001c40  4936              LDR      r1,|L15.7452|
001c42  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
001c46  5488              STRB     r0,[r1,r2]            ;280
001c48  f8910100          LDRB     r0,[r1,#0x100]        ;280  ; Spr_Mem
001c4c  1c40              ADDS     r0,r0,#1              ;280
                  |L15.7246|
001c4e  f8810100          STRB     r0,[r1,#0x100]        ;280
001c52  f7febc42          B        |L15.1242|
001c56  4934              LDR      r1,|L15.7464|
001c58  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Latch_Flag
001c5a  2a00              CMP      r2,#0                 ;280
001c5c  bf08              IT       EQ                    ;280
001c5e  4b39              LDREQ    r3,|L15.7492|
001c60  d003              BEQ      |L15.7274|
001c62  28ef              CMP      r0,#0xef              ;280
001c64  bf88              IT       HI                    ;280
001c66  2000              MOVHI    r0,#0                 ;280
001c68  4b37              LDR      r3,|L15.7496|
                  |L15.7274|
001c6a  7018              STRB     r0,[r3,#0]            ;280
001c6c  f0820001          EOR      r0,r2,#1              ;280
                  |L15.7280|
001c70  7008              STRB     r0,[r1,#0]            ;280
001c72  f7febc32          B        |L15.1242|
001c76  492d              LDR      r1,|L15.7468|
001c78  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Mem
001c7a  eb002002          ADD      r0,r0,r2,LSL #8       ;280
001c7e  8008              STRH     r0,[r1,#0]            ;280
001c80  4829              LDR      r0,|L15.7464|
001c82  7801              LDRB     r1,[r0,#0]            ;280  ; PPU_Latch_Flag
001c84  f0810101          EOR      r1,r1,#1              ;280
001c88  7001              STRB     r1,[r0,#0]            ;280
001c8a  f7febc26          B        |L15.1242|
001c8e  4d27              LDR      r5,|L15.7468|
001c90  8829              LDRH     r1,[r5,#0]            ;280  ; PPU_Mem
001c92  f4114270          ANDS     r2,r1,#0xf000         ;280
001c96  bf18              IT       NE                    ;280
001c98  f5b25f80          CMPNE    r2,#0x1000            ;280
001c9c  d059              BEQ      |L15.7506|
001c9e  f5b25f00          CMP      r2,#0x2000            ;280
001ca2  d003              BEQ      |L15.7340|
001ca4  f5b25f40          CMP      r2,#0x3000            ;280
001ca8  d019              BEQ      |L15.7390|
001caa  e052              B        |L15.7506|
                  |L15.7340|
001cac  f3c1010b          UBFX     r1,r1,#0,#12          ;280
001cb0  f5b16f40          CMP      r1,#0xc00             ;280
001cb4  bf84              ITT      HI                    ;280
001cb6  69aa              LDRHI    r2,[r5,#0x18]         ;280  ; PPU_Mem
001cb8  f5a16140          SUBHI    r1,r1,#0xc00          ;280
001cbc  d80d              BHI      |L15.7386|
001cbe  f5b16f00          CMP      r1,#0x800             ;280
001cc2  bf84              ITT      HI                    ;280
001cc4  696a              LDRHI    r2,[r5,#0x14]         ;280  ; PPU_Mem
001cc6  f5a16100          SUBHI    r1,r1,#0x800          ;280
001cca  d806              BHI      |L15.7386|
001ccc  f5b16f80          CMP      r1,#0x400             ;280
001cd0  bf86              ITTE     HI                    ;280
001cd2  692a              LDRHI    r2,[r5,#0x10]         ;280  ; PPU_Mem
001cd4  f5a16180          SUBHI    r1,r1,#0x400          ;280
001cd8  68ea              LDRLS    r2,[r5,#0xc]          ;280  ; PPU_Mem
                  |L15.7386|
001cda  5450              STRB     r0,[r2,r1]            ;280
001cdc  e039              B        |L15.7506|
                  |L15.7390|
001cde  f001021f          AND      r2,r1,#0x1f           ;280
001ce2  f001010f          AND      r1,r1,#0xf            ;280
001ce6  2a0f              CMP      r2,#0xf               ;280
001ce8  4429              ADD      r1,r1,r5              ;280
001cea  d92f              BLS      |L15.7500|
001cec  f881002c          STRB     r0,[r1,#0x2c]         ;280
001cf0  7829              LDRB     r1,[r5,#0]            ;280  ; PPU_Mem
001cf2  f0110f03          TST      r1,#3                 ;280
001cf6  d12c              BNE      |L15.7506|
001cf8  7728              STRB     r0,[r5,#0x1c]         ;280
001cfa  f885002c          STRB     r0,[r5,#0x2c]         ;280
001cfe  f8850020          STRB     r0,[r5,#0x20]         ;280
001d02  f8850030          STRB     r0,[r5,#0x30]         ;280
001d06  f8850024          STRB     r0,[r5,#0x24]         ;280
001d0a  f8850034          STRB     r0,[r5,#0x34]         ;280
001d0e  f8850028          STRB     r0,[r5,#0x28]         ;280
001d12  f8850038          STRB     r0,[r5,#0x38]         ;280
001d16  e01c              B        |L15.7506|
                  |L15.7448|
                          DCD      ||.bss||
                  |L15.7452|
                          DCD      Spr_Mem
                  |L15.7456|
                          DCD      cpu_abs
                  |L15.7460|
                          DCD      PPU_Reg
                  |L15.7464|
                          DCD      PPU_Latch_Flag
                  |L15.7468|
                          DCD      PPU_Mem
                  |L15.7472|
                          DCD      ||.data||+0x9
                  |L15.7476|
                          DCD      0x40021000
                  |L15.7480|
                          DCD      joys
                  |L15.7484|
                          DCD      ||.data||+0xb
                  |L15.7488|
                          DCD      cpu_indy
                  |L15.7492|
                          DCD      PPU_BG_HScrlOrg
                  |L15.7496|
                          DCD      PPU_BG_VScrlOrg
                  |L15.7500|
001d4c  7708              STRB     r0,[r1,#0x1c]         ;280
001d4e  f7fffffe          BL       premap_palette
                  |L15.7506|
001d52  48fe              LDR      r0,|L15.8524|
001d54  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
001d56  f0100f04          TST      r0,#4                 ;280
001d5a  8828              LDRH     r0,[r5,#0]            ;280  ; PPU_Mem
001d5c  bf14              ITE      NE                    ;280
001d5e  3020              ADDNE    r0,r0,#0x20           ;280
001d60  1c40              ADDEQ    r0,r0,#1              ;280
001d62  8028              STRH     r0,[r5,#0]            ;280
001d64  f7febbb9          B        |L15.1242|
001d68  f5a14c80          SUB      r12,r1,#0x4000        ;280
001d6c  f1bc0c14          SUBS     r12,r12,#0x14         ;280
001d70  d055              BEQ      |L15.7710|
001d72  f5a14280          SUB      r2,r1,#0x4000         ;280
001d76  3a16              SUBS     r2,r2,#0x16           ;280
001d78  f47eabaf          BNE      |L15.1242|
001d7c  b3e8              CBZ      r0,|L15.7674|
001d7e  49f4              LDR      r1,|L15.8528|
001d80  700b              STRB     r3,[r1,#0]            ;280
001d82  49f4              LDR      r1,|L15.8532|
001d84  6909              LDR      r1,[r1,#0x10]         ;280
001d86  43c9              MVNS     r1,r1                 ;280
001d88  b28a              UXTH     r2,r1                 ;280
001d8a  49f3              LDR      r1,|L15.8536|
001d8c  880b              LDRH     r3,[r1,#0]            ;280  ; joys
001d8e  f5b36f40          CMP      r3,#0xc00             ;280
001d92  bf94              ITE      LS                    ;280
001d94  f04f0c00          MOVLS    r12,#0                ;280
001d98  f04f0c01          MOVHI    r12,#1                ;280
001d9c  ea42420c          ORR      r2,r2,r12,LSL #16     ;280
001da0  f5b36f80          CMP      r3,#0x400             ;280
001da4  bf34              ITE      CC                    ;280
001da6  2301              MOVCC    r3,#1                 ;280
001da8  2300              MOVCS    r3,#0                 ;280
001daa  ea424243          ORR      r2,r2,r3,LSL #17      ;280
001dae  884b              LDRH     r3,[r1,#2]            ;280  ; joys
001db0  f5b36f40          CMP      r3,#0xc00             ;280
001db4  bf8c              ITE      HI                    ;280
001db6  f04f0c01          MOVHI    r12,#1                ;280
001dba  f04f0c00          MOVLS    r12,#0                ;280
001dbe  ea42428c          ORR      r2,r2,r12,LSL #18     ;280
001dc2  f5b36f80          CMP      r3,#0x400             ;280
001dc6  bf34              ITE      CC                    ;280
001dc8  2301              MOVCC    r3,#1                 ;280
001dca  2300              MOVCS    r3,#0                 ;280
001dcc  ea4243c3          ORR      r3,r2,r3,LSL #19      ;280
001dd0  88ca              LDRH     r2,[r1,#6]            ;280  ; joys
001dd2  f5b26f40          CMP      r2,#0xc00             ;280
001dd6  bf8c              ITE      HI                    ;280
001dd8  f04f0c01          MOVHI    r12,#1                ;280
001ddc  f04f0c00          MOVLS    r12,#0                ;280
001de0  ea43530c          ORR      r3,r3,r12,LSL #20     ;280
001de4  f5b26f80          CMP      r2,#0x400             ;280
001de8  bf34              ITE      CC                    ;280
001dea  2201              MOVCC    r2,#1                 ;280
001dec  2200              MOVCS    r2,#0                 ;280
001dee  ea435242          ORR      r2,r3,r2,LSL #21      ;280
001df2  8889              LDRH     r1,[r1,#4]            ;280  ; joys
001df4  f5b16f40          CMP      r1,#0xc00             ;280
001df8  e000              B        |L15.7676|
                  |L15.7674|
001dfa  e00c              B        |L15.7702|
                  |L15.7676|
001dfc  bf8c              ITE      HI                    ;280
001dfe  2301              MOVHI    r3,#1                 ;280
001e00  2300              MOVLS    r3,#0                 ;280
001e02  ea425283          ORR      r2,r2,r3,LSL #22      ;280
001e06  f5b16f80          CMP      r1,#0x400             ;280
001e0a  bf34              ITE      CC                    ;280
001e0c  2101              MOVCC    r1,#1                 ;280
001e0e  2100              MOVCS    r1,#0                 ;280
001e10  ea4251c1          ORR      r1,r2,r1,LSL #23      ;280
001e14  6161              STR      r1,[r4,#0x14]         ;280  ; joypad_state
                  |L15.7702|
001e16  49d1              LDR      r1,|L15.8540|
001e18  7008              STRB     r0,[r1,#0]            ;280
001e1a  f7febb5e          B        |L15.1242|
                  |L15.7710|
001e1e  6a21              LDR      r1,[r4,#0x20]         ;280  ; cpu_clockticks
001e20  0903              LSRS     r3,r0,#4              ;280
001e22  f5a17100          SUB      r1,r1,#0x200          ;280
001e26  6221              STR      r1,[r4,#0x20]         ;280  ; cpu_clockticks
001e28  2100              MOVS     r1,#0                 ;280
001e2a  2b10              CMP      r3,#0x10              ;280
001e2c  d219              BCS      |L15.7778|
001e2e  e8dff003          TBB      [pc,r3]               ;280
001e32  0a0a              DCB      0x0a,0x0a
001e34  18181818          DCB      0x18,0x18,0x18,0x18
001e38  08080d0d          DCB      0x08,0x08,0x0d,0x0d
001e3c  0d0d1313          DCB      0x0d,0x0d,0x13,0x13
001e40  1313              DCB      0x13,0x13
001e42  f7febb4a          B        |L15.1242|
001e46  eb022100          ADD      r1,r2,r0,LSL #8       ;280
001e4a  e00a              B        |L15.7778|
001e4c  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
001e4e  eb012000          ADD      r0,r1,r0,LSL #8       ;280
001e52  f5a04100          SUB      r1,r0,#0x8000         ;280
001e56  e004              B        |L15.7778|
001e58  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
001e5a  eb012000          ADD      r0,r1,r0,LSL #8       ;280
001e5e  f5a04140          SUB      r1,r0,#0xc000         ;280
                  |L15.7778|
001e62  4abf              LDR      r2,|L15.8544|
001e64  1a50              SUBS     r0,r2,r1              ;280
001e66  2800              CMP      r0,#0                 ;280
001e68  dd04              BLE      |L15.7796|
001e6a  f5b07f80          CMP      r0,#0x100             ;280
001e6e  bfb8              IT       LT                    ;280
001e70  2000              MOVLT    r0,#0                 ;280
001e72  db06              BLT      |L15.7810|
                  |L15.7796|
001e74  f44f7280          MOV      r2,#0x100             ;280
001e78  48b9              LDR      r0,|L15.8544|
001e7a  f7fffffe          BL       __aeabi_memmove
001e7e  f7febb2c          B        |L15.1242|
                  |L15.7810|
001e82  5c0b              LDRB     r3,[r1,r0]            ;280
001e84  5413              STRB     r3,[r2,r0]            ;280
001e86  180b              ADDS     r3,r1,r0              ;280
001e88  f893c001          LDRB     r12,[r3,#1]           ;280
001e8c  1813              ADDS     r3,r2,r0              ;280
001e8e  1c80              ADDS     r0,r0,#2              ;280
001e90  f883c001          STRB     r12,[r3,#1]           ;280
001e94  f5b07f80          CMP      r0,#0x100             ;280
001e98  dbf3              BLT      |L15.7810|
001e9a  f7febb1e          B        |L15.1242|
001e9e  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001ea0  4ab0              LDR      r2,|L15.8548|
001ea2  1c40              ADDS     r0,r0,#1              ;280
001ea4  81e0              STRH     r0,[r4,#0xe]          ;280
001ea6  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001ea8  78e1              LDRB     r1,[r4,#3]            ;280  ; X
001eaa  4408              ADD      r0,r0,r1              ;280
001eac  b2c0              UXTB     r0,r0                 ;280
001eae  7921              LDRB     r1,[r4,#4]            ;280  ; Y
001eb0  5411              STRB     r1,[r2,r0]            ;280
001eb2  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001eb4  1d00              ADDS     r0,r0,#4              ;280
001eb6  f7febadf          B        |L15.1144|
001eba  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001ebc  4aa9              LDR      r2,|L15.8548|
001ebe  1c40              ADDS     r0,r0,#1              ;280
001ec0  81e0              STRH     r0,[r4,#0xe]          ;280
001ec2  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001ec4  78e1              LDRB     r1,[r4,#3]            ;280  ; X
001ec6  4408              ADD      r0,r0,r1              ;280
001ec8  b2c0              UXTB     r0,r0                 ;280
001eca  78a1              LDRB     r1,[r4,#2]            ;280  ; A
001ecc  5411              STRB     r1,[r2,r0]            ;280
001ece  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001ed0  1d00              ADDS     r0,r0,#4              ;280
001ed2  f7febad1          B        |L15.1144|
001ed6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001ed8  4aa2              LDR      r2,|L15.8548|
001eda  1c40              ADDS     r0,r0,#1              ;280
001edc  81e0              STRH     r0,[r4,#0xe]          ;280
001ede  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001ee0  7921              LDRB     r1,[r4,#4]            ;280  ; Y
001ee2  4408              ADD      r0,r0,r1              ;280
001ee4  b2c0              UXTB     r0,r0                 ;280
001ee6  78e1              LDRB     r1,[r4,#3]            ;280  ; X
001ee8  5411              STRB     r1,[r2,r0]            ;280
001eea  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001eec  1d00              ADDS     r0,r0,#4              ;280
001eee  f7febac3          B        |L15.1144|
001ef2  7920              LDRB     r0,[r4,#4]            ;280  ; Y
001ef4  70a0              STRB     r0,[r4,#2]            ;280
001ef6  7961              LDRB     r1,[r4,#5]            ;280  ; P
001ef8  2800              CMP      r0,#0                 ;280
001efa  bf14              ITE      NE                    ;280
001efc  f00101fd          ANDNE    r1,r1,#0xfd           ;280
001f00  f0410102          ORREQ    r1,r1,#2              ;280
001f04  7161              STRB     r1,[r4,#5]            ;280
001f06  f0100f80          TST      r0,#0x80              ;280
001f0a  f43eab33          BEQ      |L15.1396|
001f0e  f7febb2e          B        |L15.1390|
001f12  4895              LDR      r0,|L15.8552|
001f14  f7fffffe          BL       cpu_sta
001f18  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f1a  1d40              ADDS     r0,r0,#5              ;280
001f1c  f7febaac          B        |L15.1144|
001f20  78e0              LDRB     r0,[r4,#3]            ;280  ; X
001f22  71a0              STRB     r0,[r4,#6]            ;280
001f24  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f26  1c80              ADDS     r0,r0,#2              ;280
001f28  f7febaa6          B        |L15.1144|
001f2c  488f              LDR      r0,|L15.8556|
001f2e  f7fffffe          BL       cpu_stz
001f32  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f34  1d00              ADDS     r0,r0,#4              ;280
001f36  f7feba9f          B        |L15.1144|
001f3a  488d              LDR      r0,|L15.8560|
001f3c  f7fffffe          BL       cpu_sta
001f40  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f42  1d40              ADDS     r0,r0,#5              ;280
001f44  f7feba98          B        |L15.1144|
001f48  4889              LDR      r0,|L15.8560|
001f4a  f7fffffe          BL       cpu_stz
001f4e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f50  1d40              ADDS     r0,r0,#5              ;280
001f52  f7feba91          B        |L15.1144|
001f56  4887              LDR      r0,|L15.8564|
001f58  f7fffffe          BL       cpu_ldy
001f5c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f5e  1cc0              ADDS     r0,r0,#3              ;280
001f60  f7feba8a          B        |L15.1144|
001f64  4884              LDR      r0,|L15.8568|
001f66  f7fffffe          BL       cpu_lda
001f6a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f6c  1d80              ADDS     r0,r0,#6              ;280
001f6e  f7feba83          B        |L15.1144|
001f72  4880              LDR      r0,|L15.8564|
001f74  f7fffffe          BL       cpu_ldx
001f78  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
001f7a  1cc0              ADDS     r0,r0,#3              ;280
001f7c  f7feba7c          B        |L15.1144|
001f80  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001f82  4978              LDR      r1,|L15.8548|
001f84  1c40              ADDS     r0,r0,#1              ;280
001f86  81e0              STRH     r0,[r4,#0xe]          ;280
001f88  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001f8a  5c08              LDRB     r0,[r1,r0]            ;280
001f8c  7120              STRB     r0,[r4,#4]            ;280
001f8e  7961              LDRB     r1,[r4,#5]            ;280  ; P
001f90  2800              CMP      r0,#0                 ;280
001f92  bf14              ITE      NE                    ;280
001f94  f00101fd          ANDNE    r1,r1,#0xfd           ;280
001f98  f0410102          ORREQ    r1,r1,#2              ;280
001f9c  7161              STRB     r1,[r4,#5]            ;280
001f9e  f0100f80          TST      r0,#0x80              ;280
001fa2  f43eaa97          BEQ      |L15.1236|
001fa6  f7feba91          B        |L15.1228|
001faa  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001fac  496d              LDR      r1,|L15.8548|
001fae  1c40              ADDS     r0,r0,#1              ;280
001fb0  81e0              STRH     r0,[r4,#0xe]          ;280
001fb2  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001fb4  5c08              LDRB     r0,[r1,r0]            ;280
001fb6  70a0              STRB     r0,[r4,#2]            ;280
001fb8  7961              LDRB     r1,[r4,#5]            ;280  ; P
001fba  2800              CMP      r0,#0                 ;280
001fbc  bf14              ITE      NE                    ;280
001fbe  f00101fd          ANDNE    r1,r1,#0xfd           ;280
001fc2  f0410102          ORREQ    r1,r1,#2              ;280
001fc6  7161              STRB     r1,[r4,#5]            ;280
001fc8  f0100f80          TST      r0,#0x80              ;280
001fcc  f43eaa82          BEQ      |L15.1236|
001fd0  f7feba7c          B        |L15.1228|
001fd4  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
001fd6  4963              LDR      r1,|L15.8548|
001fd8  1c40              ADDS     r0,r0,#1              ;280
001fda  81e0              STRH     r0,[r4,#0xe]          ;280
001fdc  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
001fde  5c08              LDRB     r0,[r1,r0]            ;280
001fe0  70e0              STRB     r0,[r4,#3]            ;280
001fe2  7961              LDRB     r1,[r4,#5]            ;280  ; P
001fe4  2800              CMP      r0,#0                 ;280
001fe6  bf14              ITE      NE                    ;280
001fe8  f00101fd          ANDNE    r1,r1,#0xfd           ;280
001fec  f0410102          ORREQ    r1,r1,#2              ;280
001ff0  7161              STRB     r1,[r4,#5]            ;280
001ff2  f0100f80          TST      r0,#0x80              ;280
001ff6  f43eaa6d          BEQ      |L15.1236|
001ffa  f7feba67          B        |L15.1228|
001ffe  78a0              LDRB     r0,[r4,#2]            ;280  ; A
002000  7120              STRB     r0,[r4,#4]            ;280
002002  7961              LDRB     r1,[r4,#5]            ;280  ; P
002004  2800              CMP      r0,#0                 ;280
002006  bf14              ITE      NE                    ;280
002008  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00200c  f0410102          ORREQ    r1,r1,#2              ;280
002010  7161              STRB     r1,[r4,#5]            ;280
002012  f0100f80          TST      r0,#0x80              ;280
002016  f43eaaad          BEQ      |L15.1396|
00201a  f7febaa8          B        |L15.1390|
00201e  4855              LDR      r0,|L15.8564|
002020  f7fffffe          BL       cpu_lda
002024  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002026  1cc0              ADDS     r0,r0,#3              ;280
002028  f7feba26          B        |L15.1144|
00202c  78a0              LDRB     r0,[r4,#2]            ;280  ; A
00202e  70e0              STRB     r0,[r4,#3]            ;280
002030  7961              LDRB     r1,[r4,#5]            ;280  ; P
002032  2800              CMP      r0,#0                 ;280
002034  bf14              ITE      NE                    ;280
002036  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00203a  f0410102          ORREQ    r1,r1,#2              ;280
00203e  7161              STRB     r1,[r4,#5]            ;280
002040  f0100f80          TST      r0,#0x80              ;280
002044  f43eaa96          BEQ      |L15.1396|
002048  f7feba91          B        |L15.1390|
00204c  4847              LDR      r0,|L15.8556|
00204e  f7fffffe          BL       cpu_ldy
002052  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002054  1d00              ADDS     r0,r0,#4              ;280
002056  f7feba0f          B        |L15.1144|
00205a  4844              LDR      r0,|L15.8556|
00205c  f7fffffe          BL       cpu_lda
002060  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002062  1d00              ADDS     r0,r0,#4              ;280
002064  f7feba08          B        |L15.1144|
002068  4840              LDR      r0,|L15.8556|
00206a  f7fffffe          BL       cpu_ldx
00206e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002070  1d00              ADDS     r0,r0,#4              ;280
002072  f7feba01          B        |L15.1144|
002076  7960              LDRB     r0,[r4,#5]            ;280  ; P
002078  f0100f01          TST      r0,#1                 ;280
00207c  f43eacbb          BEQ      |L15.2550|
002080  f7febcb0          B        |L15.2532|
002084  483d              LDR      r0,|L15.8572|
002086  f7fffffe          BL       cpu_lda
00208a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00208c  1d40              ADDS     r0,r0,#5              ;280
00208e  f7feb9f3          B        |L15.1144|
002092  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002094  4933              LDR      r1,|L15.8548|
002096  1c40              ADDS     r0,r0,#1              ;280
002098  81e0              STRH     r0,[r4,#0xe]          ;280
00209a  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
00209c  5c08              LDRB     r0,[r1,r0]            ;280
00209e  2100              MOVS     r1,#0                 ;280
0020a0  1309              ASRS     r1,r1,#12             ;280
0020a2  2910              CMP      r1,#0x10              ;280
0020a4  d251              BCS      |L15.8522|
0020a6  e8dff001          TBB      [pc,r1]               ;280
0020aa  0808              DCB      0x08,0x08
0020ac  0b0badcc          DCB      0x0b,0x0b,0xad,0xcc
0020b0  cccccece          DCB      0xcc,0xcc,0xce,0xce
0020b4  ceced4d4          DCB      0xce,0xce,0xd4,0xd4
0020b8  d4d4              DCB      0xd4,0xd4
0020ba  492a              LDR      r1,|L15.8548|
0020bc  5c08              LDRB     r0,[r1,r0]            ;280
0020be  e0ae              B        |L15.8734|
0020c0  f0000007          AND      r0,r0,#7              ;280
0020c4  2808              CMP      r0,#8                 ;280
0020c6  d265              BCS      |L15.8596|
0020c8  e8dff000          TBB      [pc,r0]               ;280
0020cc  040609a9          DCB      0x04,0x06,0x09,0xa9
0020d0  1ea9a926          DCB      0x1e,0xa9,0xa9,0x26
0020d4  481d              LDR      r0,|L15.8524|
0020d6  e0c0              B        |L15.8794|
0020d8  481c              LDR      r0,|L15.8524|
0020da  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
0020dc  e09f              B        |L15.8734|
0020de  491b              LDR      r1,|L15.8524|
0020e0  4b27              LDR      r3,|L15.8576|
0020e2  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
0020e4  f0200280          BIC      r2,r0,#0x80           ;280
0020e8  708a              STRB     r2,[r1,#2]            ;280
0020ea  2200              MOVS     r2,#0                 ;280
0020ec  701a              STRB     r2,[r3,#0]            ;280
0020ee  4a25              LDR      r2,|L15.8580|
0020f0  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
0020f2  3a15              SUBS     r2,r2,#0x15           ;280
0020f4  2af1              CMP      r2,#0xf1              ;280
0020f6  d24d              BCS      |L15.8596|
0020f8  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
0020fa  f0120f80          TST      r2,#0x80              ;280
0020fe  bf04              ITT      EQ                    ;280
002100  f0220203          BICEQ    r2,r2,#3              ;280
002104  700a              STRBEQ   r2,[r1,#0]            ;280
002106  e08a              B        |L15.8734|
002108  4915              LDR      r1,|L15.8544|
00210a  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
00210e  5c88              LDRB     r0,[r1,r2]            ;280
002110  1c52              ADDS     r2,r2,#1              ;280
002112  f8812100          STRB     r2,[r1,#0x100]        ;280
002116  e082              B        |L15.8734|
002118  491b              LDR      r1,|L15.8584|
00211a  880a              LDRH     r2,[r1,#0]            ;280  ; PPU_Mem
00211c  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Mem
00211e  f4124370          ANDS     r3,r2,#0xf000         ;280
002122  bf04              ITT      EQ                    ;280
002124  684b              LDREQ    r3,[r1,#4]            ;280  ; PPU_Mem
002126  5c9b              LDRBEQ   r3,[r3,r2]            ;280
002128  d03a              BEQ      |L15.8608|
00212a  f5b35f80          CMP      r3,#0x1000            ;280
00212e  d032              BEQ      |L15.8598|
002130  f5b35f00          CMP      r3,#0x2000            ;280
002134  d036              BEQ      |L15.8612|
002136  f5b35f40          CMP      r3,#0x3000            ;280
00213a  bf18              IT       NE                    ;280
00213c  2000              MOVNE    r0,#0                 ;280
00213e  d04f              BEQ      |L15.8672|
                  |L15.8512|
002140  4b02              LDR      r3,|L15.8524|
002142  781b              LDRB     r3,[r3,#0]            ;280  ; PPU_Reg
002144  f0130f04          TST      r3,#4                 ;280
002148  e020              B        |L15.8588|
                  |L15.8522|
00214a  e067              B        |L15.8732|
                  |L15.8524|
                          DCD      PPU_Reg
                  |L15.8528|
                          DCD      ||.data||+0x9
                  |L15.8532|
                          DCD      0x40021000
                  |L15.8536|
                          DCD      joys
                  |L15.8540|
                          DCD      ||.data||+0xb
                  |L15.8544|
                          DCD      Spr_Mem
                  |L15.8548|
                          DCD      ||.bss||
                  |L15.8552|
                          DCD      cpu_absy
                  |L15.8556|
                          DCD      cpu_abs
                  |L15.8560|
                          DCD      cpu_absx
                  |L15.8564|
                          DCD      cpu_immediate
                  |L15.8568|
                          DCD      cpu_indx
                  |L15.8572|
                          DCD      cpu_indy
                  |L15.8576|
                          DCD      PPU_Latch_Flag
                  |L15.8580|
                          DCD      PPU_scanline
                  |L15.8584|
                          DCD      PPU_Mem
                  |L15.8588|
00218c  bf14              ITE      NE                    ;280
00218e  3220              ADDNE    r2,r2,#0x20           ;280
002190  1c52              ADDEQ    r2,r2,#1              ;280
002192  800a              STRH     r2,[r1,#0]            ;280
                  |L15.8596|
002194  e043              B        |L15.8734|
                  |L15.8598|
002196  688b              LDR      r3,[r1,#8]            ;280  ; PPU_Mem
002198  f3c20c0b          UBFX     r12,r2,#0,#12         ;280
00219c  f813300c          LDRB     r3,[r3,r12]           ;280
                  |L15.8608|
0021a0  708b              STRB     r3,[r1,#2]            ;280
0021a2  e7cd              B        |L15.8512|
                  |L15.8612|
0021a4  f3c2030b          UBFX     r3,r2,#0,#12          ;280
0021a8  f5b36f40          CMP      r3,#0xc00             ;280
0021ac  bf84              ITT      HI                    ;280
0021ae  f8d1c018          LDRHI    r12,[r1,#0x18]        ;280  ; PPU_Mem
0021b2  f5a36340          SUBHI    r3,r3,#0xc00          ;280
0021b6  d810              BHI      |L15.8666|
0021b8  f5b36f00          CMP      r3,#0x800             ;280
0021bc  bf84              ITT      HI                    ;280
0021be  f8d1c014          LDRHI    r12,[r1,#0x14]        ;280  ; PPU_Mem
0021c2  f5a36300          SUBHI    r3,r3,#0x800          ;280
0021c6  d808              BHI      |L15.8666|
0021c8  f5b36f80          CMP      r3,#0x400             ;280
0021cc  bf86              ITTE     HI                    ;280
0021ce  f8d1c010          LDRHI    r12,[r1,#0x10]        ;280  ; PPU_Mem
0021d2  f5a36380          SUBHI    r3,r3,#0x400          ;280
0021d6  f8d1c00c          LDRLS    r12,[r1,#0xc]         ;280  ; PPU_Mem
                  |L15.8666|
0021da  f81c3003          LDRB     r3,[r12,r3]           ;280
0021de  e7df              B        |L15.8608|
                  |L15.8672|
0021e0  f6437310          MOV      r3,#0x3f10            ;280
0021e4  429a              CMP      r2,r3                 ;280
0021e6  d305              BCC      |L15.8692|
0021e8  f002000f          AND      r0,r2,#0xf            ;280
0021ec  4408              ADD      r0,r0,r1              ;280
0021ee  f890002c          LDRB     r0,[r0,#0x2c]         ;280
0021f2  e7a5              B        |L15.8512|
                  |L15.8692|
0021f4  f5b25f7c          CMP      r2,#0x3f00            ;280
0021f8  d3a2              BCC      |L15.8512|
0021fa  f002000f          AND      r0,r2,#0xf            ;280
0021fe  4408              ADD      r0,r0,r1              ;280
002200  7f00              LDRB     r0,[r0,#0x1c]         ;280
002202  e79d              B        |L15.8512|
002204  f5a04180          SUB      r1,r0,#0x4000         ;280
002208  3916              SUBS     r1,r1,#0x16           ;280
00220a  bf08              IT       EQ                    ;280
00220c  2000              MOVEQ    r0,#0                 ;280
00220e  d015              BEQ      |L15.8764|
002210  f5a04180          SUB      r1,r0,#0x4000         ;280
002214  3917              SUBS     r1,r1,#0x17           ;280
002216  bf08              IT       EQ                    ;280
002218  2001              MOVEQ    r0,#1                 ;280
00221a  d00f              BEQ      |L15.8764|
                  |L15.8732|
00221c  0a00              LSRS     r0,r0,#8              ;280
                  |L15.8734|
00221e  70a0              STRB     r0,[r4,#2]            ;280
002220  7961              LDRB     r1,[r4,#5]            ;280  ; P
002222  2800              CMP      r0,#0                 ;280
002224  bf14              ITE      NE                    ;280
002226  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00222a  f0410102          ORREQ    r1,r1,#2              ;280
00222e  7161              STRB     r1,[r4,#5]            ;280
002230  f0100f80          TST      r0,#0x80              ;280
002234  f43ea94e          BEQ      |L15.1236|
002238  f7feb948          B        |L15.1228|
                  |L15.8764|
00223c  f7fffffe          BL       joypad_read
002240  e7ed              B        |L15.8734|
002242  2000              MOVS     r0,#0                 ;280
002244  e7eb              B        |L15.8734|
002246  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
002248  4408              ADD      r0,r0,r1              ;280
00224a  f5a04000          SUB      r0,r0,#0x8000         ;280
00224e  7800              LDRB     r0,[r0,#0]            ;280
002250  e7e5              B        |L15.8734|
002252  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
002254  4408              ADD      r0,r0,r1              ;280
002256  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.8794|
00225a  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
00225c  e7df              B        |L15.8734|
00225e  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002260  1c40              ADDS     r0,r0,#1              ;280
002262  81e0              STRH     r0,[r4,#0xe]          ;280
002264  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
002266  78e1              LDRB     r1,[r4,#3]            ;280  ; X
002268  4408              ADD      r0,r0,r1              ;280
00226a  49f8              LDR      r1,|L15.9804|
00226c  b2c0              UXTB     r0,r0                 ;280
00226e  5c08              LDRB     r0,[r1,r0]            ;280
002270  7120              STRB     r0,[r4,#4]            ;280
002272  7961              LDRB     r1,[r4,#5]            ;280  ; P
002274  2800              CMP      r0,#0                 ;280
002276  bf14              ITE      NE                    ;280
002278  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00227c  f0410102          ORREQ    r1,r1,#2              ;280
002280  7161              STRB     r1,[r4,#5]            ;280
002282  f0100f80          TST      r0,#0x80              ;280
002286  f43eaa8d          BEQ      |L15.1956|
00228a  f7feba87          B        |L15.1948|
00228e  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002290  1c40              ADDS     r0,r0,#1              ;280
002292  81e0              STRH     r0,[r4,#0xe]          ;280
002294  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
002296  78e1              LDRB     r1,[r4,#3]            ;280  ; X
002298  4408              ADD      r0,r0,r1              ;280
00229a  49ec              LDR      r1,|L15.9804|
00229c  b2c0              UXTB     r0,r0                 ;280
00229e  5c08              LDRB     r0,[r1,r0]            ;280
0022a0  70a0              STRB     r0,[r4,#2]            ;280
0022a2  7961              LDRB     r1,[r4,#5]            ;280  ; P
0022a4  2800              CMP      r0,#0                 ;280
0022a6  bf14              ITE      NE                    ;280
0022a8  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0022ac  f0410102          ORREQ    r1,r1,#2              ;280
0022b0  7161              STRB     r1,[r4,#5]            ;280
0022b2  f0100f80          TST      r0,#0x80              ;280
0022b6  f43eaa75          BEQ      |L15.1956|
0022ba  f7feba6f          B        |L15.1948|
0022be  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0022c0  1c40              ADDS     r0,r0,#1              ;280
0022c2  81e0              STRH     r0,[r4,#0xe]          ;280
0022c4  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0022c6  7921              LDRB     r1,[r4,#4]            ;280  ; Y
0022c8  4408              ADD      r0,r0,r1              ;280
0022ca  49e0              LDR      r1,|L15.9804|
0022cc  b2c0              UXTB     r0,r0                 ;280
0022ce  5c08              LDRB     r0,[r1,r0]            ;280
0022d0  70e0              STRB     r0,[r4,#3]            ;280
0022d2  7961              LDRB     r1,[r4,#5]            ;280  ; P
0022d4  2800              CMP      r0,#0                 ;280
0022d6  bf14              ITE      NE                    ;280
0022d8  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0022dc  f0410102          ORREQ    r1,r1,#2              ;280
0022e0  7161              STRB     r1,[r4,#5]            ;280
0022e2  f0100f80          TST      r0,#0x80              ;280
0022e6  f43eaa5d          BEQ      |L15.1956|
0022ea  f7feba57          B        |L15.1948|
0022ee  7960              LDRB     r0,[r4,#5]            ;280  ; P
0022f0  f00000bf          AND      r0,r0,#0xbf           ;280
0022f4  7160              STRB     r0,[r4,#5]            ;280
0022f6  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0022f8  1c80              ADDS     r0,r0,#2              ;280
0022fa  f7feb8bd          B        |L15.1144|
0022fe  48d4              LDR      r0,|L15.9808|
002300  f7fffffe          BL       cpu_lda
002304  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002306  1d00              ADDS     r0,r0,#4              ;280
002308  f7feb8b6          B        |L15.1144|
00230c  79a0              LDRB     r0,[r4,#6]            ;280  ; S
00230e  70e0              STRB     r0,[r4,#3]            ;280
002310  7961              LDRB     r1,[r4,#5]            ;280  ; P
002312  2800              CMP      r0,#0                 ;280
002314  bf14              ITE      NE                    ;280
002316  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00231a  f0410102          ORREQ    r1,r1,#2              ;280
00231e  7161              STRB     r1,[r4,#5]            ;280
002320  f0100f80          TST      r0,#0x80              ;280
002324  f43ea926          BEQ      |L15.1396|
002328  f7feb921          B        |L15.1390|
00232c  48c9              LDR      r0,|L15.9812|
00232e  f7fffffe          BL       cpu_ldy
002332  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002334  1d00              ADDS     r0,r0,#4              ;280
002336  f7feb89f          B        |L15.1144|
00233a  48c6              LDR      r0,|L15.9812|
00233c  f7fffffe          BL       cpu_lda
002340  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002342  1d00              ADDS     r0,r0,#4              ;280
002344  f7feb898          B        |L15.1144|
002348  48c1              LDR      r0,|L15.9808|
00234a  f7fffffe          BL       cpu_ldx
00234e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002350  1d00              ADDS     r0,r0,#4              ;280
002352  f7feb891          B        |L15.1144|
002356  48c0              LDR      r0,|L15.9816|
002358  f7fffffe          BL       cpu_cpy
00235c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00235e  1cc0              ADDS     r0,r0,#3              ;280
002360  f7feb88a          B        |L15.1144|
002364  48bd              LDR      r0,|L15.9820|
002366  f7fffffe          BL       cpu_cmp
00236a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00236c  1d80              ADDS     r0,r0,#6              ;280
00236e  f7feb883          B        |L15.1144|
002372  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002374  49b5              LDR      r1,|L15.9804|
002376  1c40              ADDS     r0,r0,#1              ;280
002378  81e0              STRH     r0,[r4,#0xe]          ;280
00237a  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
00237c  5c08              LDRB     r0,[r1,r0]            ;280
00237e  7921              LDRB     r1,[r4,#4]            ;280  ; Y
002380  1a08              SUBS     r0,r1,r0              ;280
002382  f5007080          ADD      r0,r0,#0x100          ;280
002386  7961              LDRB     r1,[r4,#5]            ;280  ; P
002388  28ff              CMP      r0,#0xff              ;280
00238a  bfcc              ITE      GT                    ;280
00238c  f0410101          ORRGT    r1,r1,#1              ;280
002390  f00101fe          ANDLE    r1,r1,#0xfe           ;280
002394  7161              STRB     r1,[r4,#5]            ;280
002396  f01000ff          ANDS     r0,r0,#0xff           ;280
00239a  b2c9              UXTB     r1,r1                 ;280
00239c  bf14              ITE      NE                    ;280
00239e  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0023a2  f0410102          ORREQ    r1,r1,#2              ;280
0023a6  7161              STRB     r1,[r4,#5]            ;280
0023a8  f0100f80          TST      r0,#0x80              ;280
0023ac  f43ea892          BEQ      |L15.1236|
0023b0  f7feb88c          B        |L15.1228|
0023b4  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0023b6  49a5              LDR      r1,|L15.9804|
0023b8  1c40              ADDS     r0,r0,#1              ;280
0023ba  81e0              STRH     r0,[r4,#0xe]          ;280
0023bc  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0023be  5c08              LDRB     r0,[r1,r0]            ;280
0023c0  78a1              LDRB     r1,[r4,#2]            ;280  ; A
0023c2  1a08              SUBS     r0,r1,r0              ;280
0023c4  f5007080          ADD      r0,r0,#0x100          ;280
0023c8  7961              LDRB     r1,[r4,#5]            ;280  ; P
0023ca  28ff              CMP      r0,#0xff              ;280
0023cc  bfcc              ITE      GT                    ;280
0023ce  f0410101          ORRGT    r1,r1,#1              ;280
0023d2  f00101fe          ANDLE    r1,r1,#0xfe           ;280
0023d6  7161              STRB     r1,[r4,#5]            ;280
0023d8  f01000ff          ANDS     r0,r0,#0xff           ;280
0023dc  b2c9              UXTB     r1,r1                 ;280
0023de  bf14              ITE      NE                    ;280
0023e0  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0023e4  f0410102          ORREQ    r1,r1,#2              ;280
0023e8  7161              STRB     r1,[r4,#5]            ;280
0023ea  f0100f80          TST      r0,#0x80              ;280
0023ee  f43ea871          BEQ      |L15.1236|
0023f2  f7feb86b          B        |L15.1228|
0023f6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0023f8  4a94              LDR      r2,|L15.9804|
0023fa  1c40              ADDS     r0,r0,#1              ;280
0023fc  81e0              STRH     r0,[r4,#0xe]          ;280
0023fe  7a21              LDRB     r1,[r4,#8]            ;280  ; operand
002400  5c50              LDRB     r0,[r2,r1]            ;280
002402  1e40              SUBS     r0,r0,#1              ;280
002404  f01000ff          ANDS     r0,r0,#0xff           ;280
002408  5450              STRB     r0,[r2,r1]            ;280
00240a  7961              LDRB     r1,[r4,#5]            ;280  ; P
00240c  bf14              ITE      NE                    ;280
00240e  f00101fd          ANDNE    r1,r1,#0xfd           ;280
002412  f0410102          ORREQ    r1,r1,#2              ;280
002416  7161              STRB     r1,[r4,#5]            ;280
002418  f0100f80          TST      r0,#0x80              ;280
00241c  f43eaa99          BEQ      |L15.2386|
002420  f7feba94          B        |L15.2380|
002424  7920              LDRB     r0,[r4,#4]            ;280  ; Y
002426  1c40              ADDS     r0,r0,#1              ;280
002428  f01000ff          ANDS     r0,r0,#0xff           ;280
00242c  7120              STRB     r0,[r4,#4]            ;280
00242e  7961              LDRB     r1,[r4,#5]            ;280  ; P
002430  bf14              ITE      NE                    ;280
002432  f00101fd          ANDNE    r1,r1,#0xfd           ;280
002436  f0410102          ORREQ    r1,r1,#2              ;280
00243a  7161              STRB     r1,[r4,#5]            ;280
00243c  f0100f80          TST      r0,#0x80              ;280
002440  f43ea898          BEQ      |L15.1396|
002444  f7feb893          B        |L15.1390|
002448  4883              LDR      r0,|L15.9816|
00244a  f7fffffe          BL       cpu_cmp
00244e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002450  1cc0              ADDS     r0,r0,#3              ;280
002452  f7feb811          B        |L15.1144|
002456  78e0              LDRB     r0,[r4,#3]            ;280  ; X
002458  1e40              SUBS     r0,r0,#1              ;280
00245a  f01000ff          ANDS     r0,r0,#0xff           ;280
00245e  70e0              STRB     r0,[r4,#3]            ;280
002460  7961              LDRB     r1,[r4,#5]            ;280  ; P
002462  bf14              ITE      NE                    ;280
002464  f00101fd          ANDNE    r1,r1,#0xfd           ;280
002468  f0410102          ORREQ    r1,r1,#2              ;280
00246c  7161              STRB     r1,[r4,#5]            ;280
00246e  f0100f80          TST      r0,#0x80              ;280
002472  f43ea87f          BEQ      |L15.1396|
002476  f7feb87a          B        |L15.1390|
00247a  4879              LDR      r0,|L15.9824|
00247c  f7fffffe          BL       cpu_cpy
002480  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002482  1d00              ADDS     r0,r0,#4              ;280
002484  f7fdbff8          B        |L15.1144|
002488  4875              LDR      r0,|L15.9824|
00248a  f7fffffe          BL       cpu_cmp
00248e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002490  1d00              ADDS     r0,r0,#4              ;280
002492  f7fdbff1          B        |L15.1144|
002496  4872              LDR      r0,|L15.9824|
002498  f7fffffe          BL       cpu_dec
00249c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00249e  1d80              ADDS     r0,r0,#6              ;280
0024a0  f7fdbfea          B        |L15.1144|
0024a4  7960              LDRB     r0,[r4,#5]            ;280  ; P
0024a6  f0100f02          TST      r0,#2                 ;280
0024aa  f47eaaa4          BNE      |L15.2550|
0024ae  f7feba99          B        |L15.2532|
0024b2  486c              LDR      r0,|L15.9828|
0024b4  f7fffffe          BL       cpu_cmp
0024b8  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0024ba  1d40              ADDS     r0,r0,#5              ;280
0024bc  f7fdbfdc          B        |L15.1144|
0024c0  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0024c2  4962              LDR      r1,|L15.9804|
0024c4  1c40              ADDS     r0,r0,#1              ;280
0024c6  81e0              STRH     r0,[r4,#0xe]          ;280
0024c8  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0024ca  5c08              LDRB     r0,[r1,r0]            ;280
0024cc  2100              MOVS     r1,#0                 ;280
0024ce  1309              ASRS     r1,r1,#12             ;280
0024d0  2910              CMP      r1,#0x10              ;280
0024d2  d27a              BCS      |L15.9674|
0024d4  e8dff001          TBB      [pc,r1]               ;280
0024d8  08080b0b          DCB      0x08,0x08,0x0b,0x0b
0024dc  8cb7b7b7          DCB      0x8c,0xb7,0xb7,0xb7
0024e0  d2d2d2d2          DCB      0xd2,0xd2,0xd2,0xd2
0024e4  d8d8d8d8          DCB      0xd8,0xd8,0xd8,0xd8
0024e8  4958              LDR      r1,|L15.9804|
0024ea  5c08              LDRB     r0,[r1,r0]            ;280
0024ec  e08d              B        |L15.9738|
0024ee  f0000007          AND      r0,r0,#7              ;280
0024f2  2808              CMP      r0,#8                 ;280
0024f4  d243              BCS      |L15.9598|
0024f6  e8dff000          TBB      [pc,r0]               ;280
0024fa  0406              DCB      0x04,0x06
0024fc  09881e88          DCB      0x09,0x88,0x1e,0x88
002500  8826              DCB      0x88,0x26
002502  4859              LDR      r0,|L15.9832|
002504  e0c4              B        |L15.9872|
002506  4858              LDR      r0,|L15.9832|
002508  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
00250a  e07e              B        |L15.9738|
00250c  4956              LDR      r1,|L15.9832|
00250e  4b57              LDR      r3,|L15.9836|
002510  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
002512  f0200280          BIC      r2,r0,#0x80           ;280
002516  708a              STRB     r2,[r1,#2]            ;280
002518  2200              MOVS     r2,#0                 ;280
00251a  701a              STRB     r2,[r3,#0]            ;280
00251c  4a54              LDR      r2,|L15.9840|
00251e  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
002520  3a15              SUBS     r2,r2,#0x15           ;280
002522  2af1              CMP      r2,#0xf1              ;280
002524  d271              BCS      |L15.9738|
002526  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
002528  f0120f80          TST      r2,#0x80              ;280
00252c  bf04              ITT      EQ                    ;280
00252e  f0220203          BICEQ    r2,r2,#3              ;280
002532  700a              STRBEQ   r2,[r1,#0]            ;280
002534  e069              B        |L15.9738|
002536  494f              LDR      r1,|L15.9844|
002538  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
00253c  5c88              LDRB     r0,[r1,r2]            ;280
00253e  1c52              ADDS     r2,r2,#1              ;280
002540  f8812100          STRB     r2,[r1,#0x100]        ;280
002544  e061              B        |L15.9738|
002546  4a4c              LDR      r2,|L15.9848|
002548  8811              LDRH     r1,[r2,#0]            ;280  ; PPU_Mem
00254a  7890              LDRB     r0,[r2,#2]            ;280  ; PPU_Mem
00254c  f4114370          ANDS     r3,r1,#0xf000         ;280
002550  bf04              ITT      EQ                    ;280
002552  6853              LDREQ    r3,[r2,#4]            ;280  ; PPU_Mem
002554  5c5b              LDRBEQ   r3,[r3,r1]            ;280
002556  d018              BEQ      |L15.9610|
002558  f5b35f80          CMP      r3,#0x1000            ;280
00255c  d010              BEQ      |L15.9600|
00255e  f5b35f00          CMP      r3,#0x2000            ;280
002562  d014              BEQ      |L15.9614|
002564  f5b35f40          CMP      r3,#0x3000            ;280
002568  bf18              IT       NE                    ;280
00256a  2000              MOVNE    r0,#0                 ;280
00256c  d02e              BEQ      |L15.9676|
                  |L15.9582|
00256e  4b3e              LDR      r3,|L15.9832|
002570  781b              LDRB     r3,[r3,#0]            ;280  ; PPU_Reg
002572  f0130f04          TST      r3,#4                 ;280
002576  bf14              ITE      NE                    ;280
002578  3120              ADDNE    r1,r1,#0x20           ;280
00257a  1c49              ADDEQ    r1,r1,#1              ;280
00257c  8011              STRH     r1,[r2,#0]            ;280
                  |L15.9598|
00257e  e044              B        |L15.9738|
                  |L15.9600|
002580  6893              LDR      r3,[r2,#8]            ;280  ; PPU_Mem
002582  f3c10c0b          UBFX     r12,r1,#0,#12         ;280
002586  f813300c          LDRB     r3,[r3,r12]           ;280
                  |L15.9610|
00258a  7093              STRB     r3,[r2,#2]            ;280
00258c  e7ef              B        |L15.9582|
                  |L15.9614|
00258e  f3c1030b          UBFX     r3,r1,#0,#12          ;280
002592  f5b36f40          CMP      r3,#0xc00             ;280
002596  bf84              ITT      HI                    ;280
002598  f8d2c018          LDRHI    r12,[r2,#0x18]        ;280  ; PPU_Mem
00259c  f5a36340          SUBHI    r3,r3,#0xc00          ;280
0025a0  d810              BHI      |L15.9668|
0025a2  f5b36f00          CMP      r3,#0x800             ;280
0025a6  bf84              ITT      HI                    ;280
0025a8  f8d2c014          LDRHI    r12,[r2,#0x14]        ;280  ; PPU_Mem
0025ac  f5a36300          SUBHI    r3,r3,#0x800          ;280
0025b0  d808              BHI      |L15.9668|
0025b2  f5b36f80          CMP      r3,#0x400             ;280
0025b6  bf86              ITTE     HI                    ;280
0025b8  f8d2c010          LDRHI    r12,[r2,#0x10]        ;280  ; PPU_Mem
0025bc  f5a36380          SUBHI    r3,r3,#0x400          ;280
0025c0  f8d2c00c          LDRLS    r12,[r2,#0xc]         ;280  ; PPU_Mem
                  |L15.9668|
0025c4  f81c3003          LDRB     r3,[r12,r3]           ;280
0025c8  e7df              B        |L15.9610|
                  |L15.9674|
0025ca  e01d              B        |L15.9736|
                  |L15.9676|
0025cc  f6437310          MOV      r3,#0x3f10            ;280
0025d0  4299              CMP      r1,r3                 ;280
0025d2  d305              BCC      |L15.9696|
0025d4  f001000f          AND      r0,r1,#0xf            ;280
0025d8  4410              ADD      r0,r0,r2              ;280
0025da  f890002c          LDRB     r0,[r0,#0x2c]         ;280
0025de  e7c6              B        |L15.9582|
                  |L15.9696|
0025e0  f5b15f7c          CMP      r1,#0x3f00            ;280
0025e4  d3c3              BCC      |L15.9582|
0025e6  f001000f          AND      r0,r1,#0xf            ;280
0025ea  4410              ADD      r0,r0,r2              ;280
0025ec  7f00              LDRB     r0,[r0,#0x1c]         ;280
0025ee  e7be              B        |L15.9582|
0025f0  f5a04180          SUB      r1,r0,#0x4000         ;280
0025f4  3916              SUBS     r1,r1,#0x16           ;280
0025f6  bf08              IT       EQ                    ;280
0025f8  2000              MOVEQ    r0,#0                 ;280
0025fa  d021              BEQ      |L15.9792|
0025fc  f5a04180          SUB      r1,r0,#0x4000         ;280
002600  3917              SUBS     r1,r1,#0x17           ;280
002602  bf08              IT       EQ                    ;280
002604  2001              MOVEQ    r0,#1                 ;280
002606  d01b              BEQ      |L15.9792|
                  |L15.9736|
002608  0a00              LSRS     r0,r0,#8              ;280
                  |L15.9738|
00260a  78a1              LDRB     r1,[r4,#2]            ;280  ; A
00260c  1a08              SUBS     r0,r1,r0              ;280
00260e  f5007080          ADD      r0,r0,#0x100          ;280
002612  7961              LDRB     r1,[r4,#5]            ;280  ; P
002614  28ff              CMP      r0,#0xff              ;280
002616  bfcc              ITE      GT                    ;280
002618  f0410101          ORRGT    r1,r1,#1              ;280
00261c  f00101fe          ANDLE    r1,r1,#0xfe           ;280
002620  7161              STRB     r1,[r4,#5]            ;280
002622  f01000ff          ANDS     r0,r0,#0xff           ;280
002626  b2c9              UXTB     r1,r1                 ;280
002628  bf14              ITE      NE                    ;280
00262a  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00262e  f0410102          ORREQ    r1,r1,#2              ;280
002632  7161              STRB     r1,[r4,#5]            ;280
002634  f0100f80          TST      r0,#0x80              ;280
002638  f43daf4c          BEQ      |L15.1236|
00263c  f7fdbf46          B        |L15.1228|
                  |L15.9792|
002640  f7fffffe          BL       joypad_read
002644  e7e1              B        |L15.9738|
002646  2000              MOVS     r0,#0                 ;280
002648  e7df              B        |L15.9738|
00264a  0000              DCW      0x0000
                  |L15.9804|
                          DCD      ||.bss||
                  |L15.9808|
                          DCD      cpu_absy
                  |L15.9812|
                          DCD      cpu_absx
                  |L15.9816|
                          DCD      cpu_immediate
                  |L15.9820|
                          DCD      cpu_indx
                  |L15.9824|
                          DCD      cpu_abs
                  |L15.9828|
                          DCD      cpu_indy
                  |L15.9832|
                          DCD      PPU_Reg
                  |L15.9836|
                          DCD      PPU_Latch_Flag
                  |L15.9840|
                          DCD      PPU_scanline
                  |L15.9844|
                          DCD      Spr_Mem
                  |L15.9848|
                          DCD      PPU_Mem
00267c  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
00267e  4408              ADD      r0,r0,r1              ;280
002680  f5a04000          SUB      r0,r0,#0x8000         ;280
002684  7800              LDRB     r0,[r0,#0]            ;280
002686  e7c0              B        |L15.9738|
002688  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
00268a  4408              ADD      r0,r0,r1              ;280
00268c  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.9872|
002690  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
002692  e7ba              B        |L15.9738|
002694  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002696  1c40              ADDS     r0,r0,#1              ;280
002698  81e0              STRH     r0,[r4,#0xe]          ;280
00269a  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
00269c  78e1              LDRB     r1,[r4,#3]            ;280  ; X
00269e  4408              ADD      r0,r0,r1              ;280
0026a0  49fe              LDR      r1,|L15.10908|
0026a2  b2c0              UXTB     r0,r0                 ;280
0026a4  5c08              LDRB     r0,[r1,r0]            ;280
0026a6  78a1              LDRB     r1,[r4,#2]            ;280  ; A
0026a8  1a08              SUBS     r0,r1,r0              ;280
0026aa  f5007080          ADD      r0,r0,#0x100          ;280
0026ae  7961              LDRB     r1,[r4,#5]            ;280  ; P
0026b0  28ff              CMP      r0,#0xff              ;280
0026b2  bfcc              ITE      GT                    ;280
0026b4  f0410101          ORRGT    r1,r1,#1              ;280
0026b8  f00101fe          ANDLE    r1,r1,#0xfe           ;280
0026bc  7161              STRB     r1,[r4,#5]            ;280
0026be  f01000ff          ANDS     r0,r0,#0xff           ;280
0026c2  b2c9              UXTB     r1,r1                 ;280
0026c4  bf14              ITE      NE                    ;280
0026c6  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0026ca  f0410102          ORREQ    r1,r1,#2              ;280
0026ce  7161              STRB     r1,[r4,#5]            ;280
0026d0  f0100f80          TST      r0,#0x80              ;280
0026d4  f43ea866          BEQ      |L15.1956|
0026d8  f7feb860          B        |L15.1948|
0026dc  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0026de  4aef              LDR      r2,|L15.10908|
0026e0  1c40              ADDS     r0,r0,#1              ;280
0026e2  81e0              STRH     r0,[r4,#0xe]          ;280
0026e4  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0026e6  78e1              LDRB     r1,[r4,#3]            ;280  ; X
0026e8  4408              ADD      r0,r0,r1              ;280
0026ea  b2c0              UXTB     r0,r0                 ;280
0026ec  5c11              LDRB     r1,[r2,r0]            ;280
0026ee  1e49              SUBS     r1,r1,#1              ;280
0026f0  f01101ff          ANDS     r1,r1,#0xff           ;280
0026f4  5411              STRB     r1,[r2,r0]            ;280
0026f6  7960              LDRB     r0,[r4,#5]            ;280  ; P
0026f8  bf14              ITE      NE                    ;280
0026fa  f00000fd          ANDNE    r0,r0,#0xfd           ;280
0026fe  f0400002          ORREQ    r0,r0,#2              ;280
002702  7160              STRB     r0,[r4,#5]            ;280
002704  f0110f80          TST      r1,#0x80              ;280
002708  f47ea86f          BNE      |L15.2026|
00270c  f7febf55          B        |L15.5562|
002710  7960              LDRB     r0,[r4,#5]            ;280  ; P
002712  f00000f7          AND      r0,r0,#0xf7           ;280
002716  7160              STRB     r0,[r4,#5]            ;280
002718  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00271a  1c80              ADDS     r0,r0,#2              ;280
00271c  f7fdbeac          B        |L15.1144|
002720  48df              LDR      r0,|L15.10912|
002722  f7fffffe          BL       cpu_cmp
002726  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002728  1d00              ADDS     r0,r0,#4              ;280
00272a  f7fdbea5          B        |L15.1144|
00272e  4adb              LDR      r2,|L15.10908|
002730  79a1              LDRB     r1,[r4,#6]            ;280  ; S
002732  78e0              LDRB     r0,[r4,#3]            ;280  ; X
002734  440a              ADD      r2,r2,r1              ;280
002736  f8820100          STRB     r0,[r2,#0x100]        ;280
00273a  1e48              SUBS     r0,r1,#1              ;280
00273c  71a0              STRB     r0,[r4,#6]            ;280
00273e  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002740  1cc0              ADDS     r0,r0,#3              ;280
002742  f7fdbe99          B        |L15.1144|
002746  48d7              LDR      r0,|L15.10916|
002748  f7fffffe          BL       cpu_cmp
00274c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00274e  1d00              ADDS     r0,r0,#4              ;280
002750  f7fdbe92          B        |L15.1144|
002754  48d3              LDR      r0,|L15.10916|
002756  f7fffffe          BL       cpu_dec
00275a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00275c  1dc0              ADDS     r0,r0,#7              ;280
00275e  f7fdbe8b          B        |L15.1144|
002762  48d1              LDR      r0,|L15.10920|
002764  f7fffffe          BL       cpu_cpx
002768  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00276a  1cc0              ADDS     r0,r0,#3              ;280
00276c  f7fdbe84          B        |L15.1144|
002770  48ce              LDR      r0,|L15.10924|
002772  f7fffffe          BL       cpu_sbc
002776  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002778  1d80              ADDS     r0,r0,#6              ;280
00277a  f7fdbe7d          B        |L15.1144|
00277e  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002780  49c6              LDR      r1,|L15.10908|
002782  1c40              ADDS     r0,r0,#1              ;280
002784  81e0              STRH     r0,[r4,#0xe]          ;280
002786  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
002788  5c08              LDRB     r0,[r1,r0]            ;280
00278a  78e1              LDRB     r1,[r4,#3]            ;280  ; X
00278c  1a08              SUBS     r0,r1,r0              ;280
00278e  f5007080          ADD      r0,r0,#0x100          ;280
002792  7961              LDRB     r1,[r4,#5]            ;280  ; P
002794  28ff              CMP      r0,#0xff              ;280
002796  bfcc              ITE      GT                    ;280
002798  f0410101          ORRGT    r1,r1,#1              ;280
00279c  f00101fe          ANDLE    r1,r1,#0xfe           ;280
0027a0  7161              STRB     r1,[r4,#5]            ;280
0027a2  f01000ff          ANDS     r0,r0,#0xff           ;280
0027a6  b2c9              UXTB     r1,r1                 ;280
0027a8  bf14              ITE      NE                    ;280
0027aa  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0027ae  f0410102          ORREQ    r1,r1,#2              ;280
0027b2  7161              STRB     r1,[r4,#5]            ;280
0027b4  f0100f80          TST      r0,#0x80              ;280
0027b8  f43dae8c          BEQ      |L15.1236|
0027bc  f7fdbe86          B        |L15.1228|
0027c0  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
0027c2  49b6              LDR      r1,|L15.10908|
0027c4  1c40              ADDS     r0,r0,#1              ;280
0027c6  81e0              STRH     r0,[r4,#0xe]          ;280
0027c8  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
0027ca  78a3              LDRB     r3,[r4,#2]            ;280  ; A
0027cc  5c08              LDRB     r0,[r1,r0]            ;280
0027ce  7961              LDRB     r1,[r4,#5]            ;280  ; P
0027d0  f08002ff          EOR      r2,r0,#0xff           ;280
0027d4  f0010001          AND      r0,r1,#1              ;280
0027d8  441a              ADD      r2,r2,r3              ;280
0027da  eb021300          ADD      r3,r2,r0,LSL #4       ;280
0027de  3380              ADDS     r3,r3,#0x80           ;280
0027e0  f5b37f80          CMP      r3,#0x100             ;280
0027e4  bf2c              ITE      CS                    ;280
0027e6  f0410140          ORRCS    r1,r1,#0x40           ;280
0027ea  f00101bf          ANDCC    r1,r1,#0xbf           ;280
0027ee  7161              STRB     r1,[r4,#5]            ;280
0027f0  4410              ADD      r0,r0,r2              ;280
0027f2  28ff              CMP      r0,#0xff              ;280
0027f4  b2c9              UXTB     r1,r1                 ;280
0027f6  bfcc              ITE      GT                    ;280
0027f8  f0410101          ORRGT    r1,r1,#1              ;280
0027fc  f00101fe          ANDLE    r1,r1,#0xfe           ;280
002800  7161              STRB     r1,[r4,#5]            ;280
002802  b2c0              UXTB     r0,r0                 ;280
002804  b2c9              UXTB     r1,r1                 ;280
002806  70a0              STRB     r0,[r4,#2]            ;280
002808  f0110f08          TST      r1,#8                 ;280
00280c  d016              BEQ      |L15.10300|
00280e  3866              SUBS     r0,r0,#0x66           ;280
002810  b2c0              UXTB     r0,r0                 ;280
002812  70a0              STRB     r0,[r4,#2]            ;280
002814  f00101fe          AND      r1,r1,#0xfe           ;280
002818  f000020f          AND      r2,r0,#0xf            ;280
00281c  7161              STRB     r1,[r4,#5]            ;280
00281e  2a09              CMP      r2,#9                 ;280
002820  bf84              ITT      HI                    ;280
002822  1d80              ADDHI    r0,r0,#6              ;280
002824  70a0              STRBHI   r0,[r4,#2]            ;280
002826  b2c0              UXTB     r0,r0                 ;280
002828  f00002f0          AND      r2,r0,#0xf0           ;280
00282c  2a90              CMP      r2,#0x90              ;280
00282e  d908              BLS      |L15.10306|
002830  3060              ADDS     r0,r0,#0x60           ;280
002832  70a0              STRB     r0,[r4,#2]            ;280
002834  f0410001          ORR      r0,r1,#1              ;280
002838  7160              STRB     r0,[r4,#5]            ;280
00283a  e002              B        |L15.10306|
                  |L15.10300|
00283c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
00283e  1c40              ADDS     r0,r0,#1              ;280
002840  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
                  |L15.10306|
002842  78a0              LDRB     r0,[r4,#2]            ;280  ; A
002844  7961              LDRB     r1,[r4,#5]            ;280  ; P
002846  2800              CMP      r0,#0                 ;280
002848  bf14              ITE      NE                    ;280
00284a  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00284e  f0410102          ORREQ    r1,r1,#2              ;280
002852  7161              STRB     r1,[r4,#5]            ;280
002854  f0100f80          TST      r0,#0x80              ;280
002858  f43dae3c          BEQ      |L15.1236|
00285c  f7fdbe36          B        |L15.1228|
002860  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002862  4a8e              LDR      r2,|L15.10908|
002864  1c40              ADDS     r0,r0,#1              ;280
002866  81e0              STRH     r0,[r4,#0xe]          ;280
002868  7a21              LDRB     r1,[r4,#8]            ;280  ; operand
00286a  5c50              LDRB     r0,[r2,r1]            ;280
00286c  1c40              ADDS     r0,r0,#1              ;280
00286e  f01000ff          ANDS     r0,r0,#0xff           ;280
002872  5450              STRB     r0,[r2,r1]            ;280
002874  7961              LDRB     r1,[r4,#5]            ;280  ; P
002876  bf14              ITE      NE                    ;280
002878  f00101fd          ANDNE    r1,r1,#0xfd           ;280
00287c  f0410102          ORREQ    r1,r1,#2              ;280
002880  7161              STRB     r1,[r4,#5]            ;280
002882  f0100f80          TST      r0,#0x80              ;280
002886  f43ea864          BEQ      |L15.2386|
00288a  f7feb85f          B        |L15.2380|
00288e  78e0              LDRB     r0,[r4,#3]            ;280  ; X
002890  1c40              ADDS     r0,r0,#1              ;280
002892  f01000ff          ANDS     r0,r0,#0xff           ;280
002896  70e0              STRB     r0,[r4,#3]            ;280
002898  7961              LDRB     r1,[r4,#5]            ;280  ; P
00289a  bf14              ITE      NE                    ;280
00289c  f00101fd          ANDNE    r1,r1,#0xfd           ;280
0028a0  f0410102          ORREQ    r1,r1,#2              ;280
0028a4  7161              STRB     r1,[r4,#5]            ;280
0028a6  f0100f80          TST      r0,#0x80              ;280
0028aa  f43dae63          BEQ      |L15.1396|
0028ae  f7fdbe5e          B        |L15.1390|
0028b2  487d              LDR      r0,|L15.10920|
0028b4  f7fffffe          BL       cpu_sbc
0028b8  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0028ba  1cc0              ADDS     r0,r0,#3              ;280
0028bc  f7fdbddc          B        |L15.1144|
0028c0  487b              LDR      r0,|L15.10928|
0028c2  f7fffffe          BL       cpu_cpx
0028c6  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0028c8  1d00              ADDS     r0,r0,#4              ;280
0028ca  f7fdbdd5          B        |L15.1144|
0028ce  4878              LDR      r0,|L15.10928|
0028d0  f7fffffe          BL       cpu_sbc
0028d4  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0028d6  1d00              ADDS     r0,r0,#4              ;280
0028d8  f7fdbdce          B        |L15.1144|
0028dc  4874              LDR      r0,|L15.10928|
0028de  f7fffffe          BL       cpu_inc
0028e2  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
0028e4  1d80              ADDS     r0,r0,#6              ;280
0028e6  f7fdbdc7          B        |L15.1144|
0028ea  7960              LDRB     r0,[r4,#5]            ;280  ; P
0028ec  f0100f02          TST      r0,#2                 ;280
0028f0  f43ea881          BEQ      |L15.2550|
0028f4  f7feb876          B        |L15.2532|
0028f8  486e              LDR      r0,|L15.10932|
0028fa  f7fffffe          BL       cpu_sbc
0028fe  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002900  1d40              ADDS     r0,r0,#5              ;280
002902  f7fdbdb9          B        |L15.1144|
002906  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002908  4964              LDR      r1,|L15.10908|
00290a  1c40              ADDS     r0,r0,#1              ;280
00290c  81e0              STRH     r0,[r4,#0xe]          ;280
00290e  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
002910  5c08              LDRB     r0,[r1,r0]            ;280
002912  2100              MOVS     r1,#0                 ;280
002914  1309              ASRS     r1,r1,#12             ;280
002916  2910              CMP      r1,#0x10              ;280
002918  d27b              BCS      |L15.10770|
00291a  e8dff001          TBB      [pc,r1]               ;280
00291e  0808              DCB      0x08,0x08
002920  0b0b8df1          DCB      0x0b,0x0b,0x8d,0xf1
002924  f1f1f3f3          DCB      0xf1,0xf1,0xf3,0xf3
002928  f3f3f9f9          DCB      0xf3,0xf3,0xf9,0xf9
00292c  f9f9              DCB      0xf9,0xf9
00292e  495b              LDR      r1,|L15.10908|
002930  5c08              LDRB     r0,[r1,r0]            ;280
002932  e08e              B        |L15.10834|
002934  f0000007          AND      r0,r0,#7              ;280
002938  2808              CMP      r0,#8                 ;280
00293a  d244              BCS      |L15.10694|
00293c  e8dff000          TBB      [pc,r0]               ;280
002940  04060989          DCB      0x04,0x06,0x09,0x89
002944  1e898926          DCB      0x1e,0x89,0x89,0x26
002948  485b              LDR      r0,|L15.10936|
00294a  e0e5              B        |L15.11032|
00294c  485a              LDR      r0,|L15.10936|
00294e  7840              LDRB     r0,[r0,#1]            ;280  ; PPU_Reg
002950  e07f              B        |L15.10834|
002952  4959              LDR      r1,|L15.10936|
002954  4b59              LDR      r3,|L15.10940|
002956  7888              LDRB     r0,[r1,#2]            ;280  ; PPU_Reg
002958  f0200280          BIC      r2,r0,#0x80           ;280
00295c  708a              STRB     r2,[r1,#2]            ;280
00295e  2200              MOVS     r2,#0                 ;280
002960  701a              STRB     r2,[r3,#0]            ;280
002962  4a57              LDR      r2,|L15.10944|
002964  6812              LDR      r2,[r2,#0]            ;280  ; PPU_scanline
002966  3a15              SUBS     r2,r2,#0x15           ;280
002968  2af1              CMP      r2,#0xf1              ;280
00296a  d272              BCS      |L15.10834|
00296c  780a              LDRB     r2,[r1,#0]            ;280  ; PPU_Reg
00296e  f0120f80          TST      r2,#0x80              ;280
002972  bf04              ITT      EQ                    ;280
002974  f0220203          BICEQ    r2,r2,#3              ;280
002978  700a              STRBEQ   r2,[r1,#0]            ;280
00297a  e06a              B        |L15.10834|
00297c  4951              LDR      r1,|L15.10948|
00297e  f8912100          LDRB     r2,[r1,#0x100]        ;280  ; Spr_Mem
002982  5c88              LDRB     r0,[r1,r2]            ;280
002984  1c52              ADDS     r2,r2,#1              ;280
002986  f8812100          STRB     r2,[r1,#0x100]        ;280
00298a  e062              B        |L15.10834|
00298c  4b4e              LDR      r3,|L15.10952|
00298e  881a              LDRH     r2,[r3,#0]            ;280  ; PPU_Mem
002990  7898              LDRB     r0,[r3,#2]            ;280  ; PPU_Mem
002992  f4124170          ANDS     r1,r2,#0xf000         ;280
002996  bf04              ITT      EQ                    ;280
002998  6859              LDREQ    r1,[r3,#4]            ;280  ; PPU_Mem
00299a  5c89              LDRBEQ   r1,[r1,r2]            ;280
00299c  d019              BEQ      |L15.10706|
00299e  f5b15f80          CMP      r1,#0x1000            ;280
0029a2  d011              BEQ      |L15.10696|
0029a4  f5b15f00          CMP      r1,#0x2000            ;280
0029a8  d015              BEQ      |L15.10710|
0029aa  f5b15f40          CMP      r1,#0x3000            ;280
0029ae  bf18              IT       NE                    ;280
0029b0  2000              MOVNE    r0,#0                 ;280
0029b2  d02f              BEQ      |L15.10772|
                  |L15.10676|
0029b4  4940              LDR      r1,|L15.10936|
0029b6  7809              LDRB     r1,[r1,#0]            ;280  ; PPU_Reg
0029b8  f0110f04          TST      r1,#4                 ;280
0029bc  bf14              ITE      NE                    ;280
0029be  f1020120          ADDNE    r1,r2,#0x20           ;280
0029c2  1c51              ADDEQ    r1,r2,#1              ;280
0029c4  8019              STRH     r1,[r3,#0]            ;280
                  |L15.10694|
0029c6  e044              B        |L15.10834|
                  |L15.10696|
0029c8  6899              LDR      r1,[r3,#8]            ;280  ; PPU_Mem
0029ca  f3c20c0b          UBFX     r12,r2,#0,#12         ;280
0029ce  f811100c          LDRB     r1,[r1,r12]           ;280
                  |L15.10706|
0029d2  7099              STRB     r1,[r3,#2]            ;280
0029d4  e7ee              B        |L15.10676|
                  |L15.10710|
0029d6  f3c2010b          UBFX     r1,r2,#0,#12          ;280
0029da  f5b16f40          CMP      r1,#0xc00             ;280
0029de  bf84              ITT      HI                    ;280
0029e0  f8d3c018          LDRHI    r12,[r3,#0x18]        ;280  ; PPU_Mem
0029e4  f5a16140          SUBHI    r1,r1,#0xc00          ;280
0029e8  d810              BHI      |L15.10764|
0029ea  f5b16f00          CMP      r1,#0x800             ;280
0029ee  bf84              ITT      HI                    ;280
0029f0  f8d3c014          LDRHI    r12,[r3,#0x14]        ;280  ; PPU_Mem
0029f4  f5a16100          SUBHI    r1,r1,#0x800          ;280
0029f8  d808              BHI      |L15.10764|
0029fa  f5b16f80          CMP      r1,#0x400             ;280
0029fe  bf86              ITTE     HI                    ;280
002a00  f8d3c010          LDRHI    r12,[r3,#0x10]        ;280  ; PPU_Mem
002a04  f5a16180          SUBHI    r1,r1,#0x400          ;280
002a08  f8d3c00c          LDRLS    r12,[r3,#0xc]         ;280  ; PPU_Mem
                  |L15.10764|
002a0c  f81c1001          LDRB     r1,[r12,r1]           ;280
002a10  e7df              B        |L15.10706|
                  |L15.10770|
002a12  e01d              B        |L15.10832|
                  |L15.10772|
002a14  f6437110          MOV      r1,#0x3f10            ;280
002a18  428a              CMP      r2,r1                 ;280
002a1a  d305              BCC      |L15.10792|
002a1c  f002000f          AND      r0,r2,#0xf            ;280
002a20  4418              ADD      r0,r0,r3              ;280
002a22  f890002c          LDRB     r0,[r0,#0x2c]         ;280
002a26  e7c5              B        |L15.10676|
                  |L15.10792|
002a28  f5b25f7c          CMP      r2,#0x3f00            ;280
002a2c  d3c2              BCC      |L15.10676|
002a2e  f002000f          AND      r0,r2,#0xf            ;280
002a32  4418              ADD      r0,r0,r3              ;280
002a34  7f00              LDRB     r0,[r0,#0x1c]         ;280
002a36  e7bd              B        |L15.10676|
002a38  f5a04180          SUB      r1,r0,#0x4000         ;280
002a3c  3916              SUBS     r1,r1,#0x16           ;280
002a3e  bf08              IT       EQ                    ;280
002a40  2000              MOVEQ    r0,#0                 ;280
002a42  d057              BEQ      |L15.10996|
002a44  f5a04180          SUB      r1,r0,#0x4000         ;280
002a48  3917              SUBS     r1,r1,#0x17           ;280
002a4a  bf08              IT       EQ                    ;280
002a4c  2001              MOVEQ    r0,#1                 ;280
002a4e  d051              BEQ      |L15.10996|
                  |L15.10832|
002a50  0a00              LSRS     r0,r0,#8              ;280
                  |L15.10834|
002a52  43c0              MVNS     r0,r0                 ;280
002a54  b2c2              UXTB     r2,r0                 ;280
002a56  7961              LDRB     r1,[r4,#5]            ;280  ; P
002a58  78a3              LDRB     r3,[r4,#2]            ;280  ; A
002a5a  f0010001          AND      r0,r1,#1              ;280
002a5e  441a              ADD      r2,r2,r3              ;280
002a60  eb021300          ADD      r3,r2,r0,LSL #4       ;280
002a64  3380              ADDS     r3,r3,#0x80           ;280
002a66  f5b37f80          CMP      r3,#0x100             ;280
002a6a  bf2c              ITE      CS                    ;280
002a6c  f0410140          ORRCS    r1,r1,#0x40           ;280
002a70  f00101bf          ANDCC    r1,r1,#0xbf           ;280
002a74  7161              STRB     r1,[r4,#5]            ;280
002a76  4410              ADD      r0,r0,r2              ;280
002a78  28ff              CMP      r0,#0xff              ;280
002a7a  b2c9              UXTB     r1,r1                 ;280
002a7c  bfcc              ITE      GT                    ;280
002a7e  f0410101          ORRGT    r1,r1,#1              ;280
002a82  f00101fe          ANDLE    r1,r1,#0xfe           ;280
002a86  7161              STRB     r1,[r4,#5]            ;280
002a88  b2c0              UXTB     r0,r0                 ;280
002a8a  b2c9              UXTB     r1,r1                 ;280
002a8c  70a0              STRB     r0,[r4,#2]            ;280
002a8e  f0110f08          TST      r1,#8                 ;280
002a92  d043              BEQ      |L15.11036|
002a94  3866              SUBS     r0,r0,#0x66           ;280
002a96  b2c0              UXTB     r0,r0                 ;280
002a98  70a0              STRB     r0,[r4,#2]            ;280
002a9a  e017              B        |L15.10956|
                  |L15.10908|
                          DCD      ||.bss||
                  |L15.10912|
                          DCD      cpu_absy
                  |L15.10916|
                          DCD      cpu_absx
                  |L15.10920|
                          DCD      cpu_immediate
                  |L15.10924|
                          DCD      cpu_indx
                  |L15.10928|
                          DCD      cpu_abs
                  |L15.10932|
                          DCD      cpu_indy
                  |L15.10936|
                          DCD      PPU_Reg
                  |L15.10940|
                          DCD      PPU_Latch_Flag
                  |L15.10944|
                          DCD      PPU_scanline
                  |L15.10948|
                          DCD      Spr_Mem
                  |L15.10952|
                          DCD      PPU_Mem
                  |L15.10956|
002acc  f00101fe          AND      r1,r1,#0xfe           ;280
002ad0  f000020f          AND      r2,r0,#0xf            ;280
002ad4  7161              STRB     r1,[r4,#5]            ;280
002ad6  2a09              CMP      r2,#9                 ;280
002ad8  bf84              ITT      HI                    ;280
002ada  1d80              ADDHI    r0,r0,#6              ;280
002adc  70a0              STRBHI   r0,[r4,#2]            ;280
002ade  b2c0              UXTB     r0,r0                 ;280
002ae0  f00002f0          AND      r2,r0,#0xf0           ;280
002ae4  2a90              CMP      r2,#0x90              ;280
002ae6  d91c              BLS      |L15.11042|
002ae8  3060              ADDS     r0,r0,#0x60           ;280
002aea  70a0              STRB     r0,[r4,#2]            ;280
002aec  f0410001          ORR      r0,r1,#1              ;280
002af0  7160              STRB     r0,[r4,#5]            ;280
002af2  e016              B        |L15.11042|
                  |L15.10996|
002af4  f7fffffe          BL       joypad_read
002af8  e7ab              B        |L15.10834|
002afa  e009              B        |L15.11024|
002afc  e002              B        |L15.11012|
002afe  e7ff              B        |L15.11008|
                  |L15.11008|
002b00  2000              MOVS     r0,#0                 ;280
002b02  e7a6              B        |L15.10834|
                  |L15.11012|
002b04  69a1              LDR      r1,[r4,#0x18]         ;280  ; prg_rombank0
002b06  4408              ADD      r0,r0,r1              ;280
002b08  f5a04000          SUB      r0,r0,#0x8000         ;280
002b0c  7800              LDRB     r0,[r0,#0]            ;280
002b0e  e7a0              B        |L15.10834|
                  |L15.11024|
002b10  69e1              LDR      r1,[r4,#0x1c]         ;280  ; prg_rombank1
002b12  4408              ADD      r0,r0,r1              ;280
002b14  f5a04040          SUB      r0,r0,#0xc000         ;280
                  |L15.11032|
002b18  7800              LDRB     r0,[r0,#0]            ;280  ; PPU_Reg
002b1a  e79a              B        |L15.10834|
                  |L15.11036|
002b1c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002b1e  1c40              ADDS     r0,r0,#1              ;280
002b20  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
                  |L15.11042|
002b22  78a0              LDRB     r0,[r4,#2]            ;280  ; A
002b24  7961              LDRB     r1,[r4,#5]            ;280  ; P
002b26  2800              CMP      r0,#0                 ;280
002b28  bf14              ITE      NE                    ;280
002b2a  f00101fd          ANDNE    r1,r1,#0xfd           ;280
002b2e  f0410102          ORREQ    r1,r1,#2              ;280
002b32  7161              STRB     r1,[r4,#5]            ;280
002b34  f0100f80          TST      r0,#0x80              ;280
002b38  f43daccc          BEQ      |L15.1236|
002b3c  f7fdbcc6          B        |L15.1228|
002b40  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002b42  1c40              ADDS     r0,r0,#1              ;280
002b44  81e0              STRH     r0,[r4,#0xe]          ;280
002b46  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
002b48  78e1              LDRB     r1,[r4,#3]            ;280  ; X
002b4a  78a3              LDRB     r3,[r4,#2]            ;280  ; A
002b4c  4408              ADD      r0,r0,r1              ;280
002b4e  494d              LDR      r1,|L15.11396|
002b50  b2c0              UXTB     r0,r0                 ;280
002b52  5c08              LDRB     r0,[r1,r0]            ;280
002b54  7961              LDRB     r1,[r4,#5]            ;280  ; P
002b56  f08002ff          EOR      r2,r0,#0xff           ;280
002b5a  f0010001          AND      r0,r1,#1              ;280
002b5e  4413              ADD      r3,r3,r2              ;280
002b60  eb031200          ADD      r2,r3,r0,LSL #4       ;280
002b64  3280              ADDS     r2,r2,#0x80           ;280
002b66  f5b27f80          CMP      r2,#0x100             ;280
002b6a  bf2c              ITE      CS                    ;280
002b6c  f0410140          ORRCS    r1,r1,#0x40           ;280
002b70  f00101bf          ANDCC    r1,r1,#0xbf           ;280
002b74  7161              STRB     r1,[r4,#5]            ;280
002b76  4418              ADD      r0,r0,r3              ;280
002b78  28ff              CMP      r0,#0xff              ;280
002b7a  b2c9              UXTB     r1,r1                 ;280
002b7c  bfcc              ITE      GT                    ;280
002b7e  f0410101          ORRGT    r1,r1,#1              ;280
002b82  f00101fe          ANDLE    r1,r1,#0xfe           ;280
002b86  7161              STRB     r1,[r4,#5]            ;280
002b88  b2c0              UXTB     r0,r0                 ;280
002b8a  b2c9              UXTB     r1,r1                 ;280
002b8c  70a0              STRB     r0,[r4,#2]            ;280
002b8e  f0110f08          TST      r1,#8                 ;280
002b92  d016              BEQ      |L15.11202|
002b94  3866              SUBS     r0,r0,#0x66           ;280
002b96  b2c0              UXTB     r0,r0                 ;280
002b98  70a0              STRB     r0,[r4,#2]            ;280
002b9a  f00101fe          AND      r1,r1,#0xfe           ;280
002b9e  f000020f          AND      r2,r0,#0xf            ;280
002ba2  7161              STRB     r1,[r4,#5]            ;280
002ba4  2a09              CMP      r2,#9                 ;280
002ba6  bf84              ITT      HI                    ;280
002ba8  1d80              ADDHI    r0,r0,#6              ;280
002baa  70a0              STRBHI   r0,[r4,#2]            ;280
002bac  b2c0              UXTB     r0,r0                 ;280
002bae  f00002f0          AND      r2,r0,#0xf0           ;280
002bb2  2a90              CMP      r2,#0x90              ;280
002bb4  d908              BLS      |L15.11208|
002bb6  3060              ADDS     r0,r0,#0x60           ;280
002bb8  70a0              STRB     r0,[r4,#2]            ;280
002bba  f0410001          ORR      r0,r1,#1              ;280
002bbe  7160              STRB     r0,[r4,#5]            ;280
002bc0  e002              B        |L15.11208|
                  |L15.11202|
002bc2  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002bc4  1c40              ADDS     r0,r0,#1              ;280
002bc6  6220              STR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
                  |L15.11208|
002bc8  78a0              LDRB     r0,[r4,#2]            ;280  ; A
002bca  7961              LDRB     r1,[r4,#5]            ;280  ; P
002bcc  2800              CMP      r0,#0                 ;280
002bce  bf14              ITE      NE                    ;280
002bd0  f00101fd          ANDNE    r1,r1,#0xfd           ;280
002bd4  f0410102          ORREQ    r1,r1,#2              ;280
002bd8  7161              STRB     r1,[r4,#5]            ;280
002bda  f0100f80          TST      r0,#0x80              ;280
002bde  f43dade1          BEQ      |L15.1956|
002be2  f7fdbddb          B        |L15.1948|
002be6  89e0              LDRH     r0,[r4,#0xe]          ;280  ; PC
002be8  4a26              LDR      r2,|L15.11396|
002bea  1c40              ADDS     r0,r0,#1              ;280
002bec  81e0              STRH     r0,[r4,#0xe]          ;280
002bee  7a20              LDRB     r0,[r4,#8]            ;280  ; operand
002bf0  78e1              LDRB     r1,[r4,#3]            ;280  ; X
002bf2  4408              ADD      r0,r0,r1              ;280
002bf4  b2c0              UXTB     r0,r0                 ;280
002bf6  5c11              LDRB     r1,[r2,r0]            ;280
002bf8  1c49              ADDS     r1,r1,#1              ;280
002bfa  f01101ff          ANDS     r1,r1,#0xff           ;280
002bfe  5411              STRB     r1,[r2,r0]            ;280
002c00  7960              LDRB     r0,[r4,#5]            ;280  ; P
002c02  bf14              ITE      NE                    ;280
002c04  f00000fd          ANDNE    r0,r0,#0xfd           ;280
002c08  f0400002          ORREQ    r0,r0,#2              ;280
002c0c  7160              STRB     r0,[r4,#5]            ;280
002c0e  f0110f80          TST      r1,#0x80              ;280
002c12  f47dadea          BNE      |L15.2026|
002c16  f7febcd0          B        |L15.5562|
002c1a  7960              LDRB     r0,[r4,#5]            ;280  ; P
002c1c  f0400008          ORR      r0,r0,#8              ;280
002c20  7160              STRB     r0,[r4,#5]            ;280
002c22  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002c24  1c80              ADDS     r0,r0,#2              ;280
002c26  f7fdbc27          B        |L15.1144|
002c2a  4817              LDR      r0,|L15.11400|
002c2c  f7fffffe          BL       cpu_sbc
002c30  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002c32  1d00              ADDS     r0,r0,#4              ;280
002c34  f7fdbc20          B        |L15.1144|
002c38  79a0              LDRB     r0,[r4,#6]            ;280  ; S
002c3a  4912              LDR      r1,|L15.11396|
002c3c  1c40              ADDS     r0,r0,#1              ;280
002c3e  b2c0              UXTB     r0,r0                 ;280
002c40  71a0              STRB     r0,[r4,#6]            ;280
002c42  4408              ADD      r0,r0,r1              ;280
002c44  f8900100          LDRB     r0,[r0,#0x100]        ;280
002c48  70e0              STRB     r0,[r4,#3]            ;280
002c4a  7961              LDRB     r1,[r4,#5]            ;280  ; P
002c4c  2800              CMP      r0,#0                 ;280
002c4e  bf14              ITE      NE                    ;280
002c50  f00101fd          ANDNE    r1,r1,#0xfd           ;280
002c54  f0410102          ORREQ    r1,r1,#2              ;280
002c58  7161              STRB     r1,[r4,#5]            ;280
002c5a  f0100f80          TST      r0,#0x80              ;280
002c5e  f43dada1          BEQ      |L15.1956|
002c62  f7fdbd9b          B        |L15.1948|
002c66  4809              LDR      r0,|L15.11404|
002c68  f7fffffe          BL       cpu_sbc
002c6c  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002c6e  1d00              ADDS     r0,r0,#4              ;280
002c70  f7fdbc02          B        |L15.1144|
002c74  4805              LDR      r0,|L15.11404|
002c76  f7fffffe          BL       cpu_inc
002c7a  6a20              LDR      r0,[r4,#0x20]         ;280  ; cpu_clockticks
002c7c  1dc0              ADDS     r0,r0,#7              ;280
002c7e  f7fdbbfb          B        |L15.1144|
;;;39     
                          ENDP

002c82  0000              DCW      0x0000
                  |L15.11396|
                          DCD      ||.bss||
                  |L15.11400|
                          DCD      cpu_absy
                  |L15.11404|
                          DCD      cpu_absx

                          AREA ||i.cpu_immediate||, CODE, READONLY, ALIGN=2

                  cpu_immediate PROC
;;;8      /* #Immediate */   
;;;9      static inline uint16_t cpu_immediate(void)   
000000  4902              LDR      r1,|L16.12|
;;;10     {   
;;;11     	uint16_t savepc;
;;;12     	savepc=PC++;   
000002  89c8              LDRH     r0,[r1,#0xe]  ; PC
000004  1c42              ADDS     r2,r0,#1
000006  81ca              STRH     r2,[r1,#0xe]
;;;13     	return savepc;
;;;14     }   
000008  4770              BX       lr
;;;15     
                          ENDP

00000a  0000              DCW      0x0000
                  |L16.12|
                          DCD      ||.data||

                          AREA ||i.cpu_implied||, CODE, READONLY, ALIGN=1

                  cpu_implied PROC
;;;2      /* Implied */   
;;;3      static inline uint16_t cpu_implied(void)   
000000  2000              MOVS     r0,#0
;;;4      {   
;;;5      	return 0;
;;;6      }   
000002  4770              BX       lr
;;;7      
                          ENDP


                          AREA ||i.cpu_inc||, CODE, READONLY, ALIGN=2

                  cpu_inc PROC
;;;275    
;;;276    static inline void cpu_inc(CpuAdrMode adrmode)   
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;277    {   
;;;278    	uint8_t temp;     
;;;279    
;;;280    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000004  4780              BLX      r0
000006  f4004170          AND      r1,r0,#0xf000
00000a  1309              ASRS     r1,r1,#12
00000c  4cfa              LDR      r4,|L18.1016|
00000e  4605              MOV      r5,r0
000010  2910              CMP      r1,#0x10
000012  d27c              BCS      |L18.270|
000014  e8dff001          TBB      [pc,r1]
000018  08080d0d          DCB      0x08,0x08,0x0d,0x0d
00001c  8eacacac          DCB      0x8e,0xac,0xac,0xac
000020  aeaeaeae          DCB      0xae,0xae,0xae,0xae
000024  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
000028  49f4              LDR      r1,|L18.1020|
00002a  f3c5000a          UBFX     r0,r5,#0,#11
00002e  5c08              LDRB     r0,[r1,r0]
000030  e08d              B        |L18.334|
000032  f0050007          AND      r0,r5,#7
000036  2808              CMP      r0,#8
000038  d243              BCS      |L18.194|
00003a  e8dff000          TBB      [pc,r0]
00003e  0406              DCB      0x04,0x06
000040  09881e88          DCB      0x09,0x88,0x1e,0x88
000044  8826              DCB      0x88,0x26
000046  48ee              LDR      r0,|L18.1024|
000048  e09e              B        |L18.392|
00004a  48ed              LDR      r0,|L18.1024|
00004c  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004e  e07e              B        |L18.334|
000050  49eb              LDR      r1,|L18.1024|
000052  4bec              LDR      r3,|L18.1028|
000054  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000056  f0200280          BIC      r2,r0,#0x80
00005a  708a              STRB     r2,[r1,#2]
00005c  2200              MOVS     r2,#0
00005e  701a              STRB     r2,[r3,#0]
000060  4ae9              LDR      r2,|L18.1032|
000062  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000064  3a15              SUBS     r2,r2,#0x15
000066  2af1              CMP      r2,#0xf1
000068  d271              BCS      |L18.334|
00006a  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006c  f0120f80          TST      r2,#0x80
000070  bf04              ITT      EQ
000072  f0220203          BICEQ    r2,r2,#3
000076  700a              STRBEQ   r2,[r1,#0]
000078  e069              B        |L18.334|
00007a  49e4              LDR      r1,|L18.1036|
00007c  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000080  5c88              LDRB     r0,[r1,r2]
000082  1c52              ADDS     r2,r2,#1
000084  f8812100          STRB     r2,[r1,#0x100]
000088  e061              B        |L18.334|
00008a  49e1              LDR      r1,|L18.1040|
00008c  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008e  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
000090  f4124370          ANDS     r3,r2,#0xf000
000094  bf04              ITT      EQ
000096  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000098  5c9b              LDRBEQ   r3,[r3,r2]
00009a  d018              BEQ      |L18.206|
00009c  f5b35f80          CMP      r3,#0x1000
0000a0  d010              BEQ      |L18.196|
0000a2  f5b35f00          CMP      r3,#0x2000
0000a6  d014              BEQ      |L18.210|
0000a8  f5b35f40          CMP      r3,#0x3000
0000ac  bf18              IT       NE
0000ae  2000              MOVNE    r0,#0
0000b0  d02e              BEQ      |L18.272|
                  |L18.178|
0000b2  4bd3              LDR      r3,|L18.1024|
0000b4  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b6  f0130f04          TST      r3,#4
0000ba  bf14              ITE      NE
0000bc  3220              ADDNE    r2,r2,#0x20
0000be  1c52              ADDEQ    r2,r2,#1
0000c0  800a              STRH     r2,[r1,#0]
                  |L18.194|
0000c2  e044              B        |L18.334|
                  |L18.196|
0000c4  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c6  f3c20c0b          UBFX     r12,r2,#0,#12
0000ca  f813300c          LDRB     r3,[r3,r12]
                  |L18.206|
0000ce  708b              STRB     r3,[r1,#2]
0000d0  e7ef              B        |L18.178|
                  |L18.210|
0000d2  f3c2030b          UBFX     r3,r2,#0,#12
0000d6  f5b36f40          CMP      r3,#0xc00
0000da  bf84              ITT      HI
0000dc  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e0  f5a36340          SUBHI    r3,r3,#0xc00
0000e4  d810              BHI      |L18.264|
0000e6  f5b36f00          CMP      r3,#0x800
0000ea  bf84              ITT      HI
0000ec  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f0  f5a36300          SUBHI    r3,r3,#0x800
0000f4  d808              BHI      |L18.264|
0000f6  f5b36f80          CMP      r3,#0x400
0000fa  bf86              ITTE     HI
0000fc  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000100  f5a36380          SUBHI    r3,r3,#0x400
000104  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L18.264|
000108  f81c3003          LDRB     r3,[r12,r3]
00010c  e7df              B        |L18.206|
                  |L18.270|
00010e  e01d              B        |L18.332|
                  |L18.272|
000110  f6437310          MOV      r3,#0x3f10
000114  429a              CMP      r2,r3
000116  d305              BCC      |L18.292|
000118  f002000f          AND      r0,r2,#0xf
00011c  4408              ADD      r0,r0,r1
00011e  f890002c          LDRB     r0,[r0,#0x2c]
000122  e7c6              B        |L18.178|
                  |L18.292|
000124  f5b25f7c          CMP      r2,#0x3f00
000128  d3c3              BCC      |L18.178|
00012a  f002000f          AND      r0,r2,#0xf
00012e  4408              ADD      r0,r0,r1
000130  7f00              LDRB     r0,[r0,#0x1c]
000132  e7be              B        |L18.178|
000134  f5a04180          SUB      r1,r0,#0x4000
000138  3916              SUBS     r1,r1,#0x16
00013a  bf08              IT       EQ
00013c  2000              MOVEQ    r0,#0
00013e  d014              BEQ      |L18.362|
000140  f5a04180          SUB      r1,r0,#0x4000
000144  3917              SUBS     r1,r1,#0x17
000146  bf08              IT       EQ
000148  2001              MOVEQ    r0,#1
00014a  d00e              BEQ      |L18.362|
                  |L18.332|
00014c  0a28              LSRS     r0,r5,#8
                  |L18.334|
00014e  1c40              ADDS     r0,r0,#1
000150  f4054770          AND      r7,r5,#0xf000
000154  2600              MOVS     r6,#0
000156  1339              ASRS     r1,r7,#12
;;;281    	temp = cpu_getmemory(savepc);   
;;;282    	temp++;   
000158  b2c0              UXTB     r0,r0
00015a  2905              CMP      r1,#5
00015c  f0808147          BCS.W    |L18.1006|
000160  e8dff001          TBB      [pc,r1]
000164  14141a1a          DCB      0x14,0x14,0x1a,0x1a
000168  b000              DCB      0xb0,0x00
                  |L18.362|
00016a  f7fffffe          BL       joypad_read
00016e  e7ee              B        |L18.334|
000170  2000              MOVS     r0,#0
000172  e7ec              B        |L18.334|
000174  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000176  1948              ADDS     r0,r1,r5
000178  f5a04000          SUB      r0,r0,#0x8000
00017c  7800              LDRB     r0,[r0,#0]
00017e  e7e6              B        |L18.334|
000180  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000182  1948              ADDS     r0,r1,r5
000184  f5a04040          SUB      r0,r0,#0xc000
                  |L18.392|
000188  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
00018a  e7e0              B        |L18.334|
00018c  4a9b              LDR      r2,|L18.1020|
00018e  f3c5010a          UBFX     r1,r5,#0,#11
000192  5450              STRB     r0,[r2,r1]
000194  f000b92b          B.W      |L18.1006|
000198  f0050107          AND      r1,r5,#7
00019c  2908              CMP      r1,#8
00019e  f0808126          BCS.W    |L18.1006|
0001a2  e8dff001          TBB      [pc,r1]
0001a6  0408              DCB      0x04,0x08
0001a8  8e0c0e19          DCB      0x8e,0x0c,0x0e,0x19
0001ac  2833              DCB      0x28,0x33
0001ae  4994              LDR      r1,|L18.1024|
0001b0  7008              STRB     r0,[r1,#0]
0001b2  f000b91c          B.W      |L18.1006|
0001b6  4992              LDR      r1,|L18.1024|
0001b8  7048              STRB     r0,[r1,#1]
0001ba  f000b918          B.W      |L18.1006|
0001be  4993              LDR      r1,|L18.1036|
0001c0  e006              B        |L18.464|
0001c2  4992              LDR      r1,|L18.1036|
0001c4  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0001c8  5488              STRB     r0,[r1,r2]
0001ca  f8910100          LDRB     r0,[r1,#0x100]  ; Spr_Mem
0001ce  1c40              ADDS     r0,r0,#1
                  |L18.464|
0001d0  f8810100          STRB     r0,[r1,#0x100]
0001d4  f000b90b          B.W      |L18.1006|
0001d8  498a              LDR      r1,|L18.1028|
0001da  780a              LDRB     r2,[r1,#0]  ; PPU_Latch_Flag
0001dc  2a00              CMP      r2,#0
0001de  bf08              IT       EQ
0001e0  4b8c              LDREQ    r3,|L18.1044|
0001e2  d003              BEQ      |L18.492|
0001e4  28ef              CMP      r0,#0xef
0001e6  bf88              IT       HI
0001e8  2000              MOVHI    r0,#0
0001ea  4b8b              LDR      r3,|L18.1048|
                  |L18.492|
0001ec  7018              STRB     r0,[r3,#0]
0001ee  f0820001          EOR      r0,r2,#1
0001f2  f000b8fb          B.W      |L18.1004|
0001f6  4986              LDR      r1,|L18.1040|
0001f8  780a              LDRB     r2,[r1,#0]  ; PPU_Mem
0001fa  eb002002          ADD      r0,r0,r2,LSL #8
0001fe  8008              STRH     r0,[r1,#0]
000200  4880              LDR      r0,|L18.1028|
000202  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000204  f0810101          EOR      r1,r1,#1
000208  7001              STRB     r1,[r0,#0]
00020a  e0f0              B        |L18.1006|
00020c  f8df8200          LDR      r8,|L18.1040|
000210  f8b81000          LDRH     r1,[r8,#0]  ; PPU_Mem
000214  f4114270          ANDS     r2,r1,#0xf000
000218  bf18              IT       NE
00021a  f5b25f80          CMPNE    r2,#0x1000
00021e  d045              BEQ      |L18.684|
000220  f5b25f00          CMP      r2,#0x2000
000224  d003              BEQ      |L18.558|
000226  f5b25f40          CMP      r2,#0x3000
00022a  d01d              BEQ      |L18.616|
00022c  e03e              B        |L18.684|
                  |L18.558|
00022e  f3c1010b          UBFX     r1,r1,#0,#12
000232  f5b16f40          CMP      r1,#0xc00
000236  bf84              ITT      HI
000238  f8d82018          LDRHI    r2,[r8,#0x18]  ; PPU_Mem
00023c  f5a16140          SUBHI    r1,r1,#0xc00
000240  d810              BHI      |L18.612|
000242  f5b16f00          CMP      r1,#0x800
000246  bf84              ITT      HI
000248  f8d82014          LDRHI    r2,[r8,#0x14]  ; PPU_Mem
00024c  f5a16100          SUBHI    r1,r1,#0x800
000250  d808              BHI      |L18.612|
000252  f5b16f80          CMP      r1,#0x400
000256  bf86              ITTE     HI
000258  f8d82010          LDRHI    r2,[r8,#0x10]  ; PPU_Mem
00025c  f5a16180          SUBHI    r1,r1,#0x400
000260  f8d8200c          LDRLS    r2,[r8,#0xc]  ; PPU_Mem
                  |L18.612|
000264  5450              STRB     r0,[r2,r1]
000266  e021              B        |L18.684|
                  |L18.616|
000268  f001021f          AND      r2,r1,#0x1f
00026c  f001010f          AND      r1,r1,#0xf
000270  2a0f              CMP      r2,#0xf
000272  4441              ADD      r1,r1,r8
000274  d917              BLS      |L18.678|
000276  f881002c          STRB     r0,[r1,#0x2c]
00027a  f8981000          LDRB     r1,[r8,#0]  ; PPU_Mem
00027e  f0110f03          TST      r1,#3
000282  d113              BNE      |L18.684|
000284  f888001c          STRB     r0,[r8,#0x1c]
000288  f888002c          STRB     r0,[r8,#0x2c]
00028c  f8880020          STRB     r0,[r8,#0x20]
000290  f8880030          STRB     r0,[r8,#0x30]
000294  f8880024          STRB     r0,[r8,#0x24]
000298  f8880034          STRB     r0,[r8,#0x34]
00029c  f8880028          STRB     r0,[r8,#0x28]
0002a0  f8880038          STRB     r0,[r8,#0x38]
0002a4  e002              B        |L18.684|
                  |L18.678|
0002a6  7708              STRB     r0,[r1,#0x1c]
0002a8  f7fffffe          BL       premap_palette
                  |L18.684|
0002ac  4854              LDR      r0,|L18.1024|
0002ae  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002b0  f0100f04          TST      r0,#4
0002b4  f8b80000          LDRH     r0,[r8,#0]  ; PPU_Mem
0002b8  bf14              ITE      NE
0002ba  3020              ADDNE    r0,r0,#0x20
0002bc  1c40              ADDEQ    r0,r0,#1
0002be  f8a80000          STRH     r0,[r8,#0]
0002c2  e094              B        |L18.1006|
0002c4  f5a54280          SUB      r2,r5,#0x4000
0002c8  3a14              SUBS     r2,r2,#0x14
0002ca  d004              BEQ      |L18.726|
0002cc  f5a54280          SUB      r2,r5,#0x4000
0002d0  3a16              SUBS     r2,r2,#0x16
0002d2  d03d              BEQ      |L18.848|
0002d4  e08b              B        |L18.1006|
                  |L18.726|
0002d6  6a21              LDR      r1,[r4,#0x20]  ; cpu_clockticks
0002d8  0902              LSRS     r2,r0,#4
0002da  f5a17100          SUB      r1,r1,#0x200
0002de  6221              STR      r1,[r4,#0x20]  ; cpu_clockticks
0002e0  2100              MOVS     r1,#0
0002e2  2a10              CMP      r2,#0x10
0002e4  d218              BCS      |L18.792|
0002e6  e8dff002          TBB      [pc,r2]
0002ea  0808              DCB      0x08,0x08
0002ec  17171717          DCB      0x17,0x17,0x17,0x17
0002f0  82820c0c          DCB      0x82,0x82,0x0c,0x0c
0002f4  0c0c1212          DCB      0x0c,0x0c,0x12,0x12
0002f8  1212              DCB      0x12,0x12
0002fa  4940              LDR      r1,|L18.1020|
0002fc  eb012100          ADD      r1,r1,r0,LSL #8
000300  e00a              B        |L18.792|
000302  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000304  eb012000          ADD      r0,r1,r0,LSL #8
000308  f5a04100          SUB      r1,r0,#0x8000
00030c  e004              B        |L18.792|
00030e  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000310  eb012000          ADD      r0,r1,r0,LSL #8
000314  f5a04140          SUB      r1,r0,#0xc000
                  |L18.792|
000318  4a3c              LDR      r2,|L18.1036|
00031a  1a50              SUBS     r0,r2,r1
00031c  2800              CMP      r0,#0
00031e  dd04              BLE      |L18.810|
000320  f5b07f80          CMP      r0,#0x100
000324  bfb8              IT       LT
000326  2000              MOVLT    r0,#0
000328  db05              BLT      |L18.822|
                  |L18.810|
00032a  f44f7280          MOV      r2,#0x100
00032e  4837              LDR      r0,|L18.1036|
000330  f7fffffe          BL       __aeabi_memmove
000334  e05b              B        |L18.1006|
                  |L18.822|
000336  5c0b              LDRB     r3,[r1,r0]
000338  5413              STRB     r3,[r2,r0]
00033a  180b              ADDS     r3,r1,r0
00033c  eb020c00          ADD      r12,r2,r0
000340  785b              LDRB     r3,[r3,#1]
000342  1c80              ADDS     r0,r0,#2
000344  f88c3001          STRB     r3,[r12,#1]
000348  f5b07f80          CMP      r0,#0x100
00034c  dbf3              BLT      |L18.822|
00034e  e04e              B        |L18.1006|
                  |L18.848|
000350  b3e8              CBZ      r0,|L18.974|
000352  4932              LDR      r1,|L18.1052|
000354  700e              STRB     r6,[r1,#0]
000356  4932              LDR      r1,|L18.1056|
000358  6909              LDR      r1,[r1,#0x10]
00035a  43c9              MVNS     r1,r1
00035c  b28a              UXTH     r2,r1
00035e  4931              LDR      r1,|L18.1060|
000360  880b              LDRH     r3,[r1,#0]  ; joys
000362  f5b36f40          CMP      r3,#0xc00
000366  bf94              ITE      LS
000368  f04f0c00          MOVLS    r12,#0
00036c  f04f0c01          MOVHI    r12,#1
000370  ea42420c          ORR      r2,r2,r12,LSL #16
000374  f5b36f80          CMP      r3,#0x400
000378  bf34              ITE      CC
00037a  2301              MOVCC    r3,#1
00037c  2300              MOVCS    r3,#0
00037e  ea424343          ORR      r3,r2,r3,LSL #17
000382  884a              LDRH     r2,[r1,#2]  ; joys
000384  f5b26f40          CMP      r2,#0xc00
000388  bf8c              ITE      HI
00038a  f04f0c01          MOVHI    r12,#1
00038e  f04f0c00          MOVLS    r12,#0
000392  ea43438c          ORR      r3,r3,r12,LSL #18
000396  f5b26f80          CMP      r2,#0x400
00039a  bf34              ITE      CC
00039c  2201              MOVCC    r2,#1
00039e  2200              MOVCS    r2,#0
0003a0  ea4342c2          ORR      r2,r3,r2,LSL #19
0003a4  88cb              LDRH     r3,[r1,#6]  ; joys
0003a6  f5b36f40          CMP      r3,#0xc00
0003aa  bf8c              ITE      HI
0003ac  f04f0c01          MOVHI    r12,#1
0003b0  f04f0c00          MOVLS    r12,#0
0003b4  ea42520c          ORR      r2,r2,r12,LSL #20
0003b8  f5b36f80          CMP      r3,#0x400
0003bc  bf34              ITE      CC
0003be  2301              MOVCC    r3,#1
0003c0  2300              MOVCS    r3,#0
0003c2  ea425243          ORR      r2,r2,r3,LSL #21
0003c6  8889              LDRH     r1,[r1,#4]  ; joys
0003c8  f5b16f40          CMP      r1,#0xc00
0003cc  e000              B        |L18.976|
                  |L18.974|
0003ce  e00c              B        |L18.1002|
                  |L18.976|
0003d0  bf8c              ITE      HI
0003d2  2301              MOVHI    r3,#1
0003d4  2300              MOVLS    r3,#0
0003d6  ea425283          ORR      r2,r2,r3,LSL #22
0003da  f5b16f80          CMP      r1,#0x400
0003de  bf34              ITE      CC
0003e0  2101              MOVCC    r1,#1
0003e2  2100              MOVCS    r1,#0
0003e4  ea4251c1          ORR      r1,r2,r1,LSL #23
0003e8  6161              STR      r1,[r4,#0x14]  ; joypad_state
                  |L18.1002|
0003ea  490f              LDR      r1,|L18.1064|
                  |L18.1004|
0003ec  7008              STRB     r0,[r1,#0]
                  |L18.1006|
0003ee  1338              ASRS     r0,r7,#12
0003f0  2810              CMP      r0,#0x10
0003f2  d272              BCS      |L18.1242|
0003f4  e01a              B        |L18.1068|
0003f6  0000              DCW      0x0000
                  |L18.1016|
                          DCD      ||.data||
                  |L18.1020|
                          DCD      ||.bss||
                  |L18.1024|
                          DCD      PPU_Reg
                  |L18.1028|
                          DCD      PPU_Latch_Flag
                  |L18.1032|
                          DCD      PPU_scanline
                  |L18.1036|
                          DCD      Spr_Mem
                  |L18.1040|
                          DCD      PPU_Mem
                  |L18.1044|
                          DCD      PPU_BG_HScrlOrg
                  |L18.1048|
                          DCD      PPU_BG_VScrlOrg
                  |L18.1052|
                          DCD      ||.data||+0x9
                  |L18.1056|
                          DCD      0x40021000
                  |L18.1060|
                          DCD      joys
                  |L18.1064|
                          DCD      ||.data||+0xb
                  |L18.1068|
00042c  e8dff000          TBB      [pc,r0]
000430  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000434  8dafafaf          DCB      0x8d,0xaf,0xaf,0xaf
000438  b1b1b1b1          DCB      0xb1,0xb1,0xb1,0xb1
00043c  b7b7b7b7          DCB      0xb7,0xb7,0xb7,0xb7
000440  495a              LDR      r1,|L18.1452|
000442  f3c5000a          UBFX     r0,r5,#0,#11
000446  5c08              LDRB     r0,[r1,r0]
000448  e08a              B        |L18.1376|
00044a  f0050007          AND      r0,r5,#7
00044e  2808              CMP      r0,#8
000450  d242              BCS      |L18.1240|
000452  e8dff000          TBB      [pc,r0]
000456  0406              DCB      0x04,0x06
000458  09851d85          DCB      0x09,0x85,0x1d,0x85
00045c  8525              DCB      0x85,0x25
00045e  4854              LDR      r0,|L18.1456|
000460  e0a1              B        |L18.1446|
000462  4853              LDR      r0,|L18.1456|
000464  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
000466  e07b              B        |L18.1376|
000468  4951              LDR      r1,|L18.1456|
00046a  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
00046c  f0200280          BIC      r2,r0,#0x80
000470  708a              STRB     r2,[r1,#2]
000472  4a50              LDR      r2,|L18.1460|
000474  7016              STRB     r6,[r2,#0]
000476  4a50              LDR      r2,|L18.1464|
000478  6812              LDR      r2,[r2,#0]  ; PPU_scanline
00047a  3a15              SUBS     r2,r2,#0x15
00047c  2af1              CMP      r2,#0xf1
00047e  d26f              BCS      |L18.1376|
000480  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000482  f0120f80          TST      r2,#0x80
000486  bf04              ITT      EQ
000488  f0220203          BICEQ    r2,r2,#3
00048c  700a              STRBEQ   r2,[r1,#0]
00048e  e067              B        |L18.1376|
000490  494a              LDR      r1,|L18.1468|
000492  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000496  5c88              LDRB     r0,[r1,r2]
000498  1c52              ADDS     r2,r2,#1
00049a  f8812100          STRB     r2,[r1,#0x100]
00049e  e05f              B        |L18.1376|
0004a0  4a47              LDR      r2,|L18.1472|
0004a2  8811              LDRH     r1,[r2,#0]  ; PPU_Mem
0004a4  7890              LDRB     r0,[r2,#2]  ; PPU_Mem
0004a6  f4114370          ANDS     r3,r1,#0xf000
0004aa  bf04              ITT      EQ
0004ac  6853              LDREQ    r3,[r2,#4]  ; PPU_Mem
0004ae  5c5b              LDRBEQ   r3,[r3,r1]
0004b0  d019              BEQ      |L18.1254|
0004b2  f5b35f80          CMP      r3,#0x1000
0004b6  d011              BEQ      |L18.1244|
0004b8  f5b35f00          CMP      r3,#0x2000
0004bc  d015              BEQ      |L18.1258|
0004be  f5b35f40          CMP      r3,#0x3000
0004c2  bf18              IT       NE
0004c4  2000              MOVNE    r0,#0
0004c6  d02e              BEQ      |L18.1318|
                  |L18.1224|
0004c8  4b39              LDR      r3,|L18.1456|
0004ca  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0004cc  f0130f04          TST      r3,#4
0004d0  bf14              ITE      NE
0004d2  3120              ADDNE    r1,r1,#0x20
0004d4  1c49              ADDEQ    r1,r1,#1
0004d6  8011              STRH     r1,[r2,#0]
                  |L18.1240|
0004d8  e042              B        |L18.1376|
                  |L18.1242|
0004da  e040              B        |L18.1374|
                  |L18.1244|
0004dc  6893              LDR      r3,[r2,#8]  ; PPU_Mem
0004de  f3c10c0b          UBFX     r12,r1,#0,#12
0004e2  f813300c          LDRB     r3,[r3,r12]
                  |L18.1254|
0004e6  7093              STRB     r3,[r2,#2]
0004e8  e7ee              B        |L18.1224|
                  |L18.1258|
0004ea  f3c1030b          UBFX     r3,r1,#0,#12
0004ee  f5b36f40          CMP      r3,#0xc00
0004f2  bf84              ITT      HI
0004f4  f8d2c018          LDRHI    r12,[r2,#0x18]  ; PPU_Mem
0004f8  f5a36340          SUBHI    r3,r3,#0xc00
0004fc  d810              BHI      |L18.1312|
0004fe  f5b36f00          CMP      r3,#0x800
000502  bf84              ITT      HI
000504  f8d2c014          LDRHI    r12,[r2,#0x14]  ; PPU_Mem
000508  f5a36300          SUBHI    r3,r3,#0x800
00050c  d808              BHI      |L18.1312|
00050e  f5b36f80          CMP      r3,#0x400
000512  bf86              ITTE     HI
000514  f8d2c010          LDRHI    r12,[r2,#0x10]  ; PPU_Mem
000518  f5a36380          SUBHI    r3,r3,#0x400
00051c  f8d2c00c          LDRLS    r12,[r2,#0xc]  ; PPU_Mem
                  |L18.1312|
000520  f81c3003          LDRB     r3,[r12,r3]
000524  e7df              B        |L18.1254|
                  |L18.1318|
000526  f6437310          MOV      r3,#0x3f10
00052a  4299              CMP      r1,r3
00052c  d305              BCC      |L18.1338|
00052e  f001000f          AND      r0,r1,#0xf
000532  4410              ADD      r0,r0,r2
000534  f890002c          LDRB     r0,[r0,#0x2c]
000538  e7c6              B        |L18.1224|
                  |L18.1338|
00053a  f5b15f7c          CMP      r1,#0x3f00
00053e  d3c3              BCC      |L18.1224|
000540  f001000f          AND      r0,r1,#0xf
000544  4410              ADD      r0,r0,r2
000546  7f00              LDRB     r0,[r0,#0x1c]
000548  e7be              B        |L18.1224|
00054a  f5a54080          SUB      r0,r5,#0x4000
00054e  3816              SUBS     r0,r0,#0x16
000550  d01a              BEQ      |L18.1416|
000552  f5a54080          SUB      r0,r5,#0x4000
000556  3817              SUBS     r0,r0,#0x17
000558  bf08              IT       EQ
00055a  2001              MOVEQ    r0,#1
00055c  d014              BEQ      |L18.1416|
                  |L18.1374|
00055e  0a28              LSRS     r0,r5,#8
                  |L18.1376|
;;;283    	cpu_putmemory(savepc,temp);   
;;;284    
;;;285    	uint8_t value = cpu_getmemory(savepc);   
;;;286    	if (value) P &= 0xfd; else P |= 0x02;   
000560  7961              LDRB     r1,[r4,#5]  ; P
000562  f01000ff          ANDS     r0,r0,#0xff           ;285
000566  bf14              ITE      NE
000568  f00101fd          ANDNE    r1,r1,#0xfd
00056c  f0410102          ORREQ    r1,r1,#2
000570  7161              STRB     r1,[r4,#5]
;;;287    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000572  f0100f80          TST      r0,#0x80
000576  b2c8              UXTB     r0,r1
000578  bf14              ITE      NE
00057a  f0400080          ORRNE    r0,r0,#0x80
00057e  f000007f          ANDEQ    r0,r0,#0x7f
000582  7160              STRB     r0,[r4,#5]
;;;288    }   
000584  e8bd81f0          POP      {r4-r8,pc}
                  |L18.1416|
000588  f7fffffe          BL       joypad_read
00058c  e7e8              B        |L18.1376|
00058e  2000              MOVS     r0,#0
000590  e7e6              B        |L18.1376|
000592  69a0              LDR      r0,[r4,#0x18]  ; prg_rombank0
000594  4428              ADD      r0,r0,r5
000596  f5a04000          SUB      r0,r0,#0x8000
00059a  7800              LDRB     r0,[r0,#0]
00059c  e7e0              B        |L18.1376|
00059e  69e0              LDR      r0,[r4,#0x1c]  ; prg_rombank1
0005a0  4428              ADD      r0,r0,r5
0005a2  f5a04040          SUB      r0,r0,#0xc000
                  |L18.1446|
0005a6  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0005a8  e7da              B        |L18.1376|
;;;289    
                          ENDP

0005aa  0000              DCW      0x0000
                  |L18.1452|
                          DCD      ||.bss||
                  |L18.1456|
                          DCD      PPU_Reg
                  |L18.1460|
                          DCD      PPU_Latch_Flag
                  |L18.1464|
                          DCD      PPU_scanline
                  |L18.1468|
                          DCD      Spr_Mem
                  |L18.1472|
                          DCD      PPU_Mem

                          AREA ||i.cpu_indabsx||, CODE, READONLY, ALIGN=2

                  cpu_indabsx PROC
;;;138    /* (ABS,X) */   
;;;139    static inline uint16_t cpu_indabsx(void)   
000000  485d              LDR      r0,|L19.376|
;;;140    {     
;;;141    	uint16_t savepc;
;;;142    	uint16_t help = cpu_getoperand16();
000002  8a00              LDRH     r0,[r0,#0x10]  ; operand16
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  2910              CMP      r1,#0x10
00000c  d27e              BCS      |L19.268|
00000e  e8dff001          TBB      [pc,r1]
000012  0808              DCB      0x08,0x08
000014  0d0d93a3          DCB      0x0d,0x0d,0x93,0xa3
000018  a3a3a5a5          DCB      0xa3,0xa3,0xa5,0xa5
00001c  a5a5abab          DCB      0xa5,0xa5,0xab,0xab
000020  abab              DCB      0xab,0xab
000022  4956              LDR      r1,|L19.380|
000024  f3c0000a          UBFX     r0,r0,#0,#11
000028  5a08              LDRH     r0,[r1,r0]
                  |L19.42|
;;;143    	savepc = cpu_getmemory16(help);
;;;144    	return savepc;
;;;145    }   
00002a  4770              BX       lr
00002c  f0000007          AND      r0,r0,#7
000030  2808              CMP      r0,#8
000032  bf28              IT       CS
000034  4770              BXCS     lr
000036  e8dff000          TBB      [pc,r0]
00003a  0508              DCB      0x05,0x08
00003c  0b042104          DCB      0x0b,0x04,0x21,0x04
000040  0429              DCB      0x04,0x29
000042  e7f2              B        |L19.42|
000044  484e              LDR      r0,|L19.384|
000046  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000048  4770              BX       lr
00004a  484d              LDR      r0,|L19.384|
00004c  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004e  4770              BX       lr
000050  494b              LDR      r1,|L19.384|
000052  4b4c              LDR      r3,|L19.388|
000054  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000056  f0200280          BIC      r2,r0,#0x80
00005a  708a              STRB     r2,[r1,#2]
00005c  2200              MOVS     r2,#0
00005e  701a              STRB     r2,[r3,#0]
000060  4a49              LDR      r2,|L19.392|
000062  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000064  3a15              SUBS     r2,r2,#0x15
000066  2af1              CMP      r2,#0xf1
000068  bf28              IT       CS
00006a  4770              BXCS     lr
00006c  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006e  f0120f80          TST      r2,#0x80
000072  bf04              ITT      EQ
000074  f0220203          BICEQ    r2,r2,#3
000078  700a              STRBEQ   r2,[r1,#0]
00007a  4770              BX       lr
00007c  4943              LDR      r1,|L19.396|
00007e  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000082  5c88              LDRB     r0,[r1,r2]
000084  1c52              ADDS     r2,r2,#1
000086  f8812100          STRB     r2,[r1,#0x100]
00008a  4770              BX       lr
00008c  4940              LDR      r1,|L19.400|
00008e  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
000090  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
000092  f4124370          ANDS     r3,r2,#0xf000
000096  bf04              ITT      EQ
000098  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
00009a  5c9b              LDRBEQ   r3,[r3,r2]
00009c  d018              BEQ      |L19.208|
00009e  f5b35f80          CMP      r3,#0x1000
0000a2  d010              BEQ      |L19.198|
0000a4  f5b35f00          CMP      r3,#0x2000
0000a8  d014              BEQ      |L19.212|
0000aa  f5b35f40          CMP      r3,#0x3000
0000ae  bf18              IT       NE
0000b0  2000              MOVNE    r0,#0
0000b2  d02f              BEQ      |L19.276|
                  |L19.180|
0000b4  4b32              LDR      r3,|L19.384|
0000b6  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b8  f0130f04          TST      r3,#4
0000bc  bf14              ITE      NE
0000be  3220              ADDNE    r2,r2,#0x20
0000c0  1c52              ADDEQ    r2,r2,#1
0000c2  800a              STRH     r2,[r1,#0]
0000c4  4770              BX       lr
                  |L19.198|
0000c6  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c8  f3c20c0b          UBFX     r12,r2,#0,#12
0000cc  f813300c          LDRB     r3,[r3,r12]
                  |L19.208|
0000d0  708b              STRB     r3,[r1,#2]
0000d2  e7ef              B        |L19.180|
                  |L19.212|
0000d4  f3c2030b          UBFX     r3,r2,#0,#12
0000d8  f5b36f40          CMP      r3,#0xc00
0000dc  bf84              ITT      HI
0000de  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e2  f5a36340          SUBHI    r3,r3,#0xc00
0000e6  d810              BHI      |L19.266|
0000e8  f5b36f00          CMP      r3,#0x800
0000ec  bf84              ITT      HI
0000ee  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f2  f5a36300          SUBHI    r3,r3,#0x800
0000f6  d808              BHI      |L19.266|
0000f8  f5b36f80          CMP      r3,#0x400
0000fc  bf86              ITTE     HI
0000fe  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000102  f5a36380          SUBHI    r3,r3,#0x400
000106  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L19.266|
00010a  e000              B        |L19.270|
                  |L19.268|
00010c  e01c              B        |L19.328|
                  |L19.270|
00010e  f81c3003          LDRB     r3,[r12,r3]
000112  e7dd              B        |L19.208|
                  |L19.276|
000114  f6437310          MOV      r3,#0x3f10
000118  429a              CMP      r2,r3
00011a  d305              BCC      |L19.296|
00011c  f002000f          AND      r0,r2,#0xf
000120  4408              ADD      r0,r0,r1
000122  f890002c          LDRB     r0,[r0,#0x2c]
000126  e7c5              B        |L19.180|
                  |L19.296|
000128  f5b25f7c          CMP      r2,#0x3f00
00012c  d3c2              BCC      |L19.180|
00012e  f002000f          AND      r0,r2,#0xf
000132  4408              ADD      r0,r0,r1
000134  7f00              LDRB     r0,[r0,#0x1c]
000136  e7bd              B        |L19.180|
000138  f5a04180          SUB      r1,r0,#0x4000
00013c  3916              SUBS     r1,r1,#0x16
00013e  d005              BEQ      |L19.332|
000140  f5a04180          SUB      r1,r0,#0x4000
000144  3917              SUBS     r1,r1,#0x17
000146  d004              BEQ      |L19.338|
                  |L19.328|
000148  0a00              LSRS     r0,r0,#8
00014a  4770              BX       lr
                  |L19.332|
00014c  2000              MOVS     r0,#0
00014e  f7ffbffe          B.W      joypad_read
                  |L19.338|
000152  2001              MOVS     r0,#1
000154  f7ffbffe          B.W      joypad_read
000158  2000              MOVS     r0,#0
00015a  4770              BX       lr
00015c  4906              LDR      r1,|L19.376|
00015e  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
000160  4408              ADD      r0,r0,r1
000162  f5a04000          SUB      r0,r0,#0x8000
000166  e004              B        |L19.370|
000168  4903              LDR      r1,|L19.376|
00016a  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
00016c  4408              ADD      r0,r0,r1
00016e  f5a04040          SUB      r0,r0,#0xc000
                  |L19.370|
000172  8800              LDRH     r0,[r0,#0]
000174  4770              BX       lr
;;;146    
                          ENDP

000176  0000              DCW      0x0000
                  |L19.376|
                          DCD      ||.data||
                  |L19.380|
                          DCD      ||.bss||
                  |L19.384|
                          DCD      PPU_Reg
                  |L19.388|
                          DCD      PPU_Latch_Flag
                  |L19.392|
                          DCD      PPU_scanline
                  |L19.396|
                          DCD      Spr_Mem
                  |L19.400|
                          DCD      PPU_Mem

                          AREA ||i.cpu_indirect||, CODE, READONLY, ALIGN=2

                  cpu_indirect PROC
;;;41     /* (ABS) */   
;;;42     static inline uint16_t cpu_indirect(void)   
000000  485e              LDR      r0,|L20.380|
;;;43     {     
000002  b500              PUSH     {lr}
;;;44     	uint16_t savepc;
;;;45       	uint16_t help = cpu_getoperand16();
000004  8a00              LDRH     r0,[r0,#0x10]  ; operand16
000006  f4004170          AND      r1,r0,#0xf000
00000a  1309              ASRS     r1,r1,#12
00000c  2910              CMP      r1,#0x10
00000e  d27d              BCS      |L20.268|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8fa4a4a4          DCB      0x8f,0xa4,0xa4,0xa4
00001c  a6a6a6a6          DCB      0xa6,0xa6,0xa6,0xa6
000020  acacacac          DCB      0xac,0xac,0xac,0xac
000024  4956              LDR      r1,|L20.384|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5a08              LDRH     r0,[r1,r0]
00002c  e08e              B        |L20.332|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d244              BCS      |L20.192|
000036  e8dff000          TBB      [pc,r0]
00003a  0407              DCB      0x04,0x07
00003c  0a891f89          DCB      0x0a,0x89,0x1f,0x89
000040  8927              DCB      0x89,0x27
000042  4850              LDR      r0,|L20.388|
000044  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000046  e081              B        |L20.332|
000048  484e              LDR      r0,|L20.388|
00004a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004c  e07e              B        |L20.332|
00004e  494d              LDR      r1,|L20.388|
000050  4b4d              LDR      r3,|L20.392|
000052  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000054  f0200280          BIC      r2,r0,#0x80
000058  708a              STRB     r2,[r1,#2]
00005a  2200              MOVS     r2,#0
00005c  701a              STRB     r2,[r3,#0]
00005e  4a4b              LDR      r2,|L20.396|
000060  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000062  3a15              SUBS     r2,r2,#0x15
000064  2af1              CMP      r2,#0xf1
000066  d271              BCS      |L20.332|
000068  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006a  f0120f80          TST      r2,#0x80
00006e  bf04              ITT      EQ
000070  f0220203          BICEQ    r2,r2,#3
000074  700a              STRBEQ   r2,[r1,#0]
000076  e069              B        |L20.332|
000078  4945              LDR      r1,|L20.400|
00007a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007e  5c88              LDRB     r0,[r1,r2]
000080  1c52              ADDS     r2,r2,#1
000082  f8812100          STRB     r2,[r1,#0x100]
000086  e061              B        |L20.332|
000088  4942              LDR      r1,|L20.404|
00008a  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008e  f4124370          ANDS     r3,r2,#0xf000
000092  bf04              ITT      EQ
000094  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000096  5c9b              LDRBEQ   r3,[r3,r2]
000098  d018              BEQ      |L20.204|
00009a  f5b35f80          CMP      r3,#0x1000
00009e  d010              BEQ      |L20.194|
0000a0  f5b35f00          CMP      r3,#0x2000
0000a4  d014              BEQ      |L20.208|
0000a6  f5b35f40          CMP      r3,#0x3000
0000aa  bf18              IT       NE
0000ac  2000              MOVNE    r0,#0
0000ae  d02e              BEQ      |L20.270|
                  |L20.176|
0000b0  4b34              LDR      r3,|L20.388|
0000b2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b4  f0130f04          TST      r3,#4
0000b8  bf14              ITE      NE
0000ba  3220              ADDNE    r2,r2,#0x20
0000bc  1c52              ADDEQ    r2,r2,#1
0000be  800a              STRH     r2,[r1,#0]
                  |L20.192|
0000c0  e044              B        |L20.332|
                  |L20.194|
0000c2  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c4  f3c20c0b          UBFX     r12,r2,#0,#12
0000c8  f813300c          LDRB     r3,[r3,r12]
                  |L20.204|
0000cc  708b              STRB     r3,[r1,#2]
0000ce  e7ef              B        |L20.176|
                  |L20.208|
0000d0  f3c2030b          UBFX     r3,r2,#0,#12
0000d4  f5b36f40          CMP      r3,#0xc00
0000d8  bf84              ITT      HI
0000da  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000de  f5a36340          SUBHI    r3,r3,#0xc00
0000e2  d810              BHI      |L20.262|
0000e4  f5b36f00          CMP      r3,#0x800
0000e8  bf84              ITT      HI
0000ea  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ee  f5a36300          SUBHI    r3,r3,#0x800
0000f2  d808              BHI      |L20.262|
0000f4  f5b36f80          CMP      r3,#0x400
0000f8  bf86              ITTE     HI
0000fa  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fe  f5a36380          SUBHI    r3,r3,#0x400
000102  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L20.262|
000106  f81c3003          LDRB     r3,[r12,r3]
00010a  e7df              B        |L20.204|
                  |L20.268|
00010c  e01d              B        |L20.330|
                  |L20.270|
00010e  f6437310          MOV      r3,#0x3f10
000112  429a              CMP      r2,r3
000114  d305              BCC      |L20.290|
000116  f002000f          AND      r0,r2,#0xf
00011a  4408              ADD      r0,r0,r1
00011c  f890002c          LDRB     r0,[r0,#0x2c]
000120  e7c6              B        |L20.176|
                  |L20.290|
000122  f5b25f7c          CMP      r2,#0x3f00
000126  d3c3              BCC      |L20.176|
000128  f002000f          AND      r0,r2,#0xf
00012c  4408              ADD      r0,r0,r1
00012e  7f00              LDRB     r0,[r0,#0x1c]
000130  e7be              B        |L20.176|
000132  f5a04180          SUB      r1,r0,#0x4000
000136  3916              SUBS     r1,r1,#0x16
000138  bf08              IT       EQ
00013a  2000              MOVEQ    r0,#0
00013c  d00b              BEQ      |L20.342|
00013e  f5a04180          SUB      r1,r0,#0x4000
000142  3917              SUBS     r1,r1,#0x17
000144  bf08              IT       EQ
000146  2001              MOVEQ    r0,#1
000148  d005              BEQ      |L20.342|
                  |L20.330|
00014a  0a00              LSRS     r0,r0,#8
                  |L20.332|
;;;46       	savepc = cpu_getmemory16(help);
;;;47     
;;;48       	PC++;   
00014c  4a0b              LDR      r2,|L20.380|
00014e  89d1              LDRH     r1,[r2,#0xe]  ; PC
000150  1c89              ADDS     r1,r1,#2
;;;49       	PC++;   
000152  81d1              STRH     r1,[r2,#0xe]
;;;50     
;;;51      	return savepc;
;;;52     }
000154  bd00              POP      {pc}
                  |L20.342|
000156  f7fffffe          BL       joypad_read
00015a  e7f7              B        |L20.332|
00015c  2000              MOVS     r0,#0
00015e  e7f5              B        |L20.332|
000160  4906              LDR      r1,|L20.380|
000162  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
000164  4408              ADD      r0,r0,r1
000166  f5a04000          SUB      r0,r0,#0x8000
00016a  e004              B        |L20.374|
00016c  4903              LDR      r1,|L20.380|
00016e  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
000170  4408              ADD      r0,r0,r1
000172  f5a04040          SUB      r0,r0,#0xc000
                  |L20.374|
000176  8800              LDRH     r0,[r0,#0]
000178  e7e8              B        |L20.332|
;;;53     
                          ENDP

00017a  0000              DCW      0x0000
                  |L20.380|
                          DCD      ||.data||
                  |L20.384|
                          DCD      ||.bss||
                  |L20.388|
                          DCD      PPU_Reg
                  |L20.392|
                          DCD      PPU_Latch_Flag
                  |L20.396|
                          DCD      PPU_scanline
                  |L20.400|
                          DCD      Spr_Mem
                  |L20.404|
                          DCD      PPU_Mem

                          AREA ||i.cpu_indx||, CODE, READONLY, ALIGN=2

                  cpu_indx PROC
;;;113    /* (ZP,X) */   
;;;114    static inline uint16_t cpu_indx(void)   
000000  4805              LDR      r0,|L21.24|
000002  89c1              LDRH     r1,[r0,#0xe]  ; PC
000004  1c49              ADDS     r1,r1,#1
000006  81c1              STRH     r1,[r0,#0xe]
000008  7a01              LDRB     r1,[r0,#8]  ; operand
;;;115    {      
;;;116    	uint16_t savepc;
;;;117    	uint8_t value = cpu_getoperand() + Y; 
00000a  7900              LDRB     r0,[r0,#4]  ; Y
00000c  4408              ADD      r0,r0,r1
;;;118    	// savepc = cpu_getmemory16(value);    
;;;119    	savepc = cpu_getzeropage16(value);
00000e  4903              LDR      r1,|L21.28|
000010  b2c0              UXTB     r0,r0                 ;117
000012  5c08              LDRB     r0,[r1,r0]
;;;120    	return savepc;
;;;121    }   
000014  4770              BX       lr
;;;122    
                          ENDP

000016  0000              DCW      0x0000
                  |L21.24|
                          DCD      ||.data||
                  |L21.28|
                          DCD      ||.bss||

                          AREA ||i.cpu_indy||, CODE, READONLY, ALIGN=2

                  cpu_indy PROC
;;;123    /* (ZP),Y */   
;;;124    static inline uint16_t cpu_indy(void)   
000000  4866              LDR      r0,|L22.412|
;;;125    {     
000002  b500              PUSH     {lr}
000004  89c1              LDRH     r1,[r0,#0xe]  ; PC
000006  1c49              ADDS     r1,r1,#1
000008  81c1              STRH     r1,[r0,#0xe]
00000a  2100              MOVS     r1,#0
00000c  7a00              LDRB     r0,[r0,#8]  ; operand
00000e  1309              ASRS     r1,r1,#12
000010  2910              CMP      r1,#0x10
000012  d27b              BCS      |L22.268|
000014  e8dff001          TBB      [pc,r1]
000018  08080b0b          DCB      0x08,0x08,0x0b,0x0b
00001c  8da5a5a5          DCB      0x8d,0xa5,0xa5,0xa5
000020  a7a7a7a7          DCB      0xa7,0xa7,0xa7,0xa7
000024  adadadad          DCB      0xad,0xad,0xad,0xad
000028  495d              LDR      r1,|L22.416|
00002a  5a08              LDRH     r0,[r1,r0]
00002c  e08e              B        |L22.332|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d244              BCS      |L22.192|
000036  e8dff000          TBB      [pc,r0]
00003a  0407              DCB      0x04,0x07
00003c  0a891f89          DCB      0x0a,0x89,0x1f,0x89
000040  8927              DCB      0x89,0x27
000042  4858              LDR      r0,|L22.420|
000044  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000046  e081              B        |L22.332|
000048  4856              LDR      r0,|L22.420|
00004a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004c  e07e              B        |L22.332|
00004e  4955              LDR      r1,|L22.420|
000050  4b55              LDR      r3,|L22.424|
000052  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000054  f0200280          BIC      r2,r0,#0x80
000058  708a              STRB     r2,[r1,#2]
00005a  2200              MOVS     r2,#0
00005c  701a              STRB     r2,[r3,#0]
00005e  4a53              LDR      r2,|L22.428|
000060  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000062  3a15              SUBS     r2,r2,#0x15
000064  2af1              CMP      r2,#0xf1
000066  d271              BCS      |L22.332|
000068  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006a  f0120f80          TST      r2,#0x80
00006e  bf04              ITT      EQ
000070  f0220203          BICEQ    r2,r2,#3
000074  700a              STRBEQ   r2,[r1,#0]
000076  e069              B        |L22.332|
000078  494d              LDR      r1,|L22.432|
00007a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007e  5c88              LDRB     r0,[r1,r2]
000080  1c52              ADDS     r2,r2,#1
000082  f8812100          STRB     r2,[r1,#0x100]
000086  e061              B        |L22.332|
000088  494a              LDR      r1,|L22.436|
00008a  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008e  f4124370          ANDS     r3,r2,#0xf000
000092  bf04              ITT      EQ
000094  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000096  5c9b              LDRBEQ   r3,[r3,r2]
000098  d018              BEQ      |L22.204|
00009a  f5b35f80          CMP      r3,#0x1000
00009e  d010              BEQ      |L22.194|
0000a0  f5b35f00          CMP      r3,#0x2000
0000a4  d014              BEQ      |L22.208|
0000a6  f5b35f40          CMP      r3,#0x3000
0000aa  bf18              IT       NE
0000ac  2000              MOVNE    r0,#0
0000ae  d02e              BEQ      |L22.270|
                  |L22.176|
0000b0  4b3c              LDR      r3,|L22.420|
0000b2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b4  f0130f04          TST      r3,#4
0000b8  bf14              ITE      NE
0000ba  3220              ADDNE    r2,r2,#0x20
0000bc  1c52              ADDEQ    r2,r2,#1
0000be  800a              STRH     r2,[r1,#0]
                  |L22.192|
0000c0  e044              B        |L22.332|
                  |L22.194|
0000c2  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c4  f3c20c0b          UBFX     r12,r2,#0,#12
0000c8  f813300c          LDRB     r3,[r3,r12]
                  |L22.204|
0000cc  708b              STRB     r3,[r1,#2]
0000ce  e7ef              B        |L22.176|
                  |L22.208|
0000d0  f3c2030b          UBFX     r3,r2,#0,#12
0000d4  f5b36f40          CMP      r3,#0xc00
0000d8  bf84              ITT      HI
0000da  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000de  f5a36340          SUBHI    r3,r3,#0xc00
0000e2  d810              BHI      |L22.262|
0000e4  f5b36f00          CMP      r3,#0x800
0000e8  bf84              ITT      HI
0000ea  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ee  f5a36300          SUBHI    r3,r3,#0x800
0000f2  d808              BHI      |L22.262|
0000f4  f5b36f80          CMP      r3,#0x400
0000f8  bf86              ITTE     HI
0000fa  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fe  f5a36380          SUBHI    r3,r3,#0x400
000102  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L22.262|
000106  f81c3003          LDRB     r3,[r12,r3]
00010a  e7df              B        |L22.204|
                  |L22.268|
00010c  e01d              B        |L22.330|
                  |L22.270|
00010e  f6437310          MOV      r3,#0x3f10
000112  429a              CMP      r2,r3
000114  d305              BCC      |L22.290|
000116  f002000f          AND      r0,r2,#0xf
00011a  4408              ADD      r0,r0,r1
00011c  f890002c          LDRB     r0,[r0,#0x2c]
000120  e7c6              B        |L22.176|
                  |L22.290|
000122  f5b25f7c          CMP      r2,#0x3f00
000126  d3c3              BCC      |L22.176|
000128  f002000f          AND      r0,r2,#0xf
00012c  4408              ADD      r0,r0,r1
00012e  7f00              LDRB     r0,[r0,#0x1c]
000130  e7be              B        |L22.176|
000132  f5a04180          SUB      r1,r0,#0x4000
000136  3916              SUBS     r1,r1,#0x16
000138  bf08              IT       EQ
00013a  2000              MOVEQ    r0,#0
00013c  d00e              BEQ      |L22.348|
00013e  f5a04180          SUB      r1,r0,#0x4000
000142  3917              SUBS     r1,r1,#0x17
000144  bf08              IT       EQ
000146  2001              MOVEQ    r0,#1
000148  d008              BEQ      |L22.348|
                  |L22.330|
00014a  0a00              LSRS     r0,r0,#8
                  |L22.332|
;;;126    	uint16_t savepc;
;;;127    	uint8_t value = cpu_getoperand();  
;;;128    	savepc = cpu_getmemory16(value);    
;;;129    	// savepc = cpu_getzeropage16(value);   
;;;130    
;;;131    	if (opcodeticks[opcode]==5)   
00014c  4913              LDR      r1,|L22.412|
00014e  4a1a              LDR      r2,|L22.440|
000150  79cb              LDRB     r3,[r1,#7]  ; opcode
000152  f8522023          LDR      r2,[r2,r3,LSL #2]
000156  2a05              CMP      r2,#5
000158  d11b              BNE      |L22.402|
00015a  e011              B        |L22.384|
                  |L22.348|
00015c  f7fffffe          BL       joypad_read
000160  e7f4              B        |L22.332|
000162  2000              MOVS     r0,#0
000164  e7f2              B        |L22.332|
000166  490d              LDR      r1,|L22.412|
000168  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
00016a  4408              ADD      r0,r0,r1
00016c  f5a04000          SUB      r0,r0,#0x8000
000170  e004              B        |L22.380|
000172  490a              LDR      r1,|L22.412|
000174  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
000176  4408              ADD      r0,r0,r1
000178  f5a04040          SUB      r0,r0,#0xc000
                  |L22.380|
00017c  8800              LDRH     r0,[r0,#0]
00017e  e7e5              B        |L22.332|
                  |L22.384|
;;;132    	if ((savepc>>8) != ((savepc+Y)>>8))   
000180  790b              LDRB     r3,[r1,#4]  ; Y
000182  0a02              LSRS     r2,r0,#8
000184  4403              ADD      r3,r3,r0
000186  ebb22f13          CMP      r2,r3,LSR #8
00018a  d002              BEQ      |L22.402|
;;;133    		cpu_clockticks++;   
00018c  6a0a              LDR      r2,[r1,#0x20]  ; cpu_clockticks
00018e  1c52              ADDS     r2,r2,#1
000190  620a              STR      r2,[r1,#0x20]  ; cpu_clockticks
                  |L22.402|
;;;134    	savepc += Y;   
000192  7909              LDRB     r1,[r1,#4]  ; Y
000194  4408              ADD      r0,r0,r1
000196  b280              UXTH     r0,r0
;;;135    	return savepc;
;;;136    }   
000198  bd00              POP      {pc}
;;;137    
                          ENDP

00019a  0000              DCW      0x0000
                  |L22.412|
                          DCD      ||.data||
                  |L22.416|
                          DCD      ||.bss||
                  |L22.420|
                          DCD      PPU_Reg
                  |L22.424|
                          DCD      PPU_Latch_Flag
                  |L22.428|
                          DCD      PPU_scanline
                  |L22.432|
                          DCD      Spr_Mem
                  |L22.436|
                          DCD      PPU_Mem
                  |L22.440|
                          DCD      ||.constdata||

                          AREA ||i.cpu_initmem||, CODE, READONLY, ALIGN=2

                  cpu_initmem PROC
;;;191    
;;;192    void cpu_initmem(const uint8_t* prg_rombank0ptr, uint8_t rom_num)          
000000  4a04              LDR      r2,|L23.20|
;;;193    {
;;;194    	prg_rombank0= prg_rombank0ptr;      /* prg-rom lower bank*/   
;;;195    	prg_rombank1= prg_rombank0ptr + (0x4000 * (rom_num - 1));       /* prg-rom upper bank*/   
000002  6190              STR      r0,[r2,#0x18]  ; prg_rombank0
000004  eb003081          ADD      r0,r0,r1,LSL #14
000008  f5a04080          SUB      r0,r0,#0x4000
;;;196    
;;;197    	cpu_clockticks = 0;   
00000c  61d0              STR      r0,[r2,#0x1c]  ; prg_rombank1
00000e  2000              MOVS     r0,#0
000010  6210              STR      r0,[r2,#0x20]  ; cpu_clockticks
;;;198    }
000012  4770              BX       lr
;;;199    #include "lcd_main.h"
                          ENDP

                  |L23.20|
                          DCD      ||.data||

                          AREA ||i.cpu_irq||, CODE, READONLY, ALIGN=2

                  cpu_irq PROC
;;;150    /* Maskerable Interrupt */   
;;;151    void cpu_irq(void)   
000000  480b              LDR      r0,|L24.48|
000002  4b0c              LDR      r3,|L24.52|
000004  7982              LDRB     r2,[r0,#6]  ; S
;;;152    {   
;;;153    	// cpu_putmemory(0x0100+S--,(uint8_t)(PC>>8));   
;;;154    	// cpu_putmemory(0x0100+S--,(uint8_t)(PC & 0xff));   
;;;155    	// cpu_putmemory(0x0100+S--,P);  
;;;156    	cpu_push16stack(PC);
000006  89c1              LDRH     r1,[r0,#0xe]  ; PC
000008  1e92              SUBS     r2,r2,#2
00000a  b2d2              UXTB     r2,r2
00000c  4413              ADD      r3,r3,r2
00000e  1e52              SUBS     r2,r2,#1
000010  f8a31101          STRH     r1,[r3,#0x101]
;;;157    	cpu_pushstack(P);
000014  7941              LDRB     r1,[r0,#5]  ; P
000016  f8831100          STRB     r1,[r3,#0x100]
00001a  7182              STRB     r2,[r0,#6]
;;;158    
;;;159    	P |= 0x04;     
00001c  f0410104          ORR      r1,r1,#4
000020  7141              STRB     r1,[r0,#5]
;;;160    
;;;161    	// PC = cpu_getmemory16(0xfffe);
;;;162    	PC = IRQ_VECTOR;
000022  69c1              LDR      r1,[r0,#0x1c]  ; prg_rombank1
000024  f5015140          ADD      r1,r1,#0x3000
000028  f8b11ffe          LDRH     r1,[r1,#0xffe]
00002c  81c1              STRH     r1,[r0,#0xe]
;;;163    	// PC=cpu_getmemory(0xfffe);   
;;;164    	// PC |= cpu_getmemory(0xffff) << 8;   
;;;165    }
00002e  4770              BX       lr
;;;166    
                          ENDP

                  |L24.48|
                          DCD      ||.data||
                  |L24.52|
                          DCD      ||.bss||

                          AREA ||i.cpu_lda||, CODE, READONLY, ALIGN=2

                  cpu_lda PROC
;;;320    
;;;321    static inline void cpu_lda(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;322    {   
;;;323    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c62              LDR      r4,|L25.404|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L25.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eb2b2b2          DCB      0x8e,0xb2,0xb2,0xb2
00001c  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
000020  babababa          DCB      0xba,0xba,0xba,0xba
000024  495c              LDR      r1,|L25.408|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L25.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L25.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4856              LDR      r0,|L25.412|
000044  e0a4              B        |L25.400|
000046  4855              LDR      r0,|L25.412|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L25.330|
00004c  4953              LDR      r1,|L25.412|
00004e  4b54              LDR      r3,|L25.416|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a51              LDR      r2,|L25.420|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L25.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L25.330|
000076  494c              LDR      r1,|L25.424|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L25.330|
000086  4949              LDR      r1,|L25.428|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L25.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L25.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L25.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L25.268|
                  |L25.174|
0000ae  4b3b              LDR      r3,|L25.412|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L25.190|
0000be  e044              B        |L25.330|
                  |L25.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L25.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L25.174|
                  |L25.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L25.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L25.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L25.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L25.202|
                  |L25.266|
00010a  e01d              B        |L25.328|
                  |L25.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L25.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L25.174|
                  |L25.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L25.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L25.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d01a              BEQ      |L25.370|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d014              BEQ      |L25.370|
                  |L25.328|
000148  0a00              LSRS     r0,r0,#8
                  |L25.330|
;;;324    	A = cpu_getmemory(savepc);   
00014a  f01000ff          ANDS     r0,r0,#0xff
00014e  70a0              STRB     r0,[r4,#2]
;;;325    // set the zero flag   
;;;326    	if (A) P &= 0xfd; else P |= 0x02;   
000150  7961              LDRB     r1,[r4,#5]  ; P
000152  bf14              ITE      NE
000154  f00101fd          ANDNE    r1,r1,#0xfd
000158  f0410102          ORREQ    r1,r1,#2
00015c  7161              STRB     r1,[r4,#5]
;;;327    // set the negative flag   
;;;328    	if (A & 0x80) P |= 0x80; else P &= 0x7f;   
00015e  f0100f80          TST      r0,#0x80
000162  b2c8              UXTB     r0,r1
000164  bf14              ITE      NE
000166  f0400080          ORRNE    r0,r0,#0x80
00016a  f000007f          ANDEQ    r0,r0,#0x7f
00016e  7160              STRB     r0,[r4,#5]
;;;329    }   
000170  bd10              POP      {r4,pc}
                  |L25.370|
000172  f7fffffe          BL       joypad_read
000176  e7e8              B        |L25.330|
000178  2000              MOVS     r0,#0
00017a  e7e6              B        |L25.330|
00017c  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
00017e  4408              ADD      r0,r0,r1
000180  f5a04000          SUB      r0,r0,#0x8000
000184  7800              LDRB     r0,[r0,#0]
000186  e7e0              B        |L25.330|
000188  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
00018a  4408              ADD      r0,r0,r1
00018c  f5a04040          SUB      r0,r0,#0xc000
                  |L25.400|
000190  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000192  e7da              B        |L25.330|
;;;330    
                          ENDP

                  |L25.404|
                          DCD      ||.data||
                  |L25.408|
                          DCD      ||.bss||
                  |L25.412|
                          DCD      PPU_Reg
                  |L25.416|
                          DCD      PPU_Latch_Flag
                  |L25.420|
                          DCD      PPU_scanline
                  |L25.424|
                          DCD      Spr_Mem
                  |L25.428|
                          DCD      PPU_Mem

                          AREA ||i.cpu_ldx||, CODE, READONLY, ALIGN=2

                  cpu_ldx PROC
;;;330    
;;;331    static inline void cpu_ldx(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;332    {   
;;;333    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c62              LDR      r4,|L26.404|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L26.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eb2b2b2          DCB      0x8e,0xb2,0xb2,0xb2
00001c  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
000020  babababa          DCB      0xba,0xba,0xba,0xba
000024  495c              LDR      r1,|L26.408|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L26.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L26.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4856              LDR      r0,|L26.412|
000044  e0a4              B        |L26.400|
000046  4855              LDR      r0,|L26.412|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L26.330|
00004c  4953              LDR      r1,|L26.412|
00004e  4b54              LDR      r3,|L26.416|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a51              LDR      r2,|L26.420|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L26.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L26.330|
000076  494c              LDR      r1,|L26.424|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L26.330|
000086  4949              LDR      r1,|L26.428|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L26.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L26.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L26.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L26.268|
                  |L26.174|
0000ae  4b3b              LDR      r3,|L26.412|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L26.190|
0000be  e044              B        |L26.330|
                  |L26.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L26.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L26.174|
                  |L26.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L26.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L26.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L26.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L26.202|
                  |L26.266|
00010a  e01d              B        |L26.328|
                  |L26.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L26.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L26.174|
                  |L26.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L26.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L26.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d01a              BEQ      |L26.370|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d014              BEQ      |L26.370|
                  |L26.328|
000148  0a00              LSRS     r0,r0,#8
                  |L26.330|
;;;334    	X = cpu_getmemory(savepc);   
00014a  f01000ff          ANDS     r0,r0,#0xff
00014e  70e0              STRB     r0,[r4,#3]
;;;335    	if (X) P &= 0xfd; else P |= 0x02;   
000150  7961              LDRB     r1,[r4,#5]  ; P
000152  bf14              ITE      NE
000154  f00101fd          ANDNE    r1,r1,#0xfd
000158  f0410102          ORREQ    r1,r1,#2
00015c  7161              STRB     r1,[r4,#5]
;;;336    	if (X & 0x80) P |= 0x80; else P &= 0x7f;   
00015e  f0100f80          TST      r0,#0x80
000162  b2c8              UXTB     r0,r1
000164  bf14              ITE      NE
000166  f0400080          ORRNE    r0,r0,#0x80
00016a  f000007f          ANDEQ    r0,r0,#0x7f
00016e  7160              STRB     r0,[r4,#5]
;;;337    }   
000170  bd10              POP      {r4,pc}
                  |L26.370|
000172  f7fffffe          BL       joypad_read
000176  e7e8              B        |L26.330|
000178  2000              MOVS     r0,#0
00017a  e7e6              B        |L26.330|
00017c  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
00017e  4408              ADD      r0,r0,r1
000180  f5a04000          SUB      r0,r0,#0x8000
000184  7800              LDRB     r0,[r0,#0]
000186  e7e0              B        |L26.330|
000188  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
00018a  4408              ADD      r0,r0,r1
00018c  f5a04040          SUB      r0,r0,#0xc000
                  |L26.400|
000190  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000192  e7da              B        |L26.330|
;;;338    
                          ENDP

                  |L26.404|
                          DCD      ||.data||
                  |L26.408|
                          DCD      ||.bss||
                  |L26.412|
                          DCD      PPU_Reg
                  |L26.416|
                          DCD      PPU_Latch_Flag
                  |L26.420|
                          DCD      PPU_scanline
                  |L26.424|
                          DCD      Spr_Mem
                  |L26.428|
                          DCD      PPU_Mem

                          AREA ||i.cpu_ldy||, CODE, READONLY, ALIGN=2

                  cpu_ldy PROC
;;;338    
;;;339    static inline void cpu_ldy(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;340    {   
;;;341    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c62              LDR      r4,|L27.404|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L27.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eb2b2b2          DCB      0x8e,0xb2,0xb2,0xb2
00001c  b4b4b4b4          DCB      0xb4,0xb4,0xb4,0xb4
000020  babababa          DCB      0xba,0xba,0xba,0xba
000024  495c              LDR      r1,|L27.408|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L27.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L27.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4856              LDR      r0,|L27.412|
000044  e0a4              B        |L27.400|
000046  4855              LDR      r0,|L27.412|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L27.330|
00004c  4953              LDR      r1,|L27.412|
00004e  4b54              LDR      r3,|L27.416|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a51              LDR      r2,|L27.420|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L27.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L27.330|
000076  494c              LDR      r1,|L27.424|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L27.330|
000086  4949              LDR      r1,|L27.428|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L27.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L27.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L27.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L27.268|
                  |L27.174|
0000ae  4b3b              LDR      r3,|L27.412|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L27.190|
0000be  e044              B        |L27.330|
                  |L27.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L27.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L27.174|
                  |L27.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L27.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L27.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L27.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L27.202|
                  |L27.266|
00010a  e01d              B        |L27.328|
                  |L27.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L27.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L27.174|
                  |L27.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L27.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L27.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d01a              BEQ      |L27.370|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d014              BEQ      |L27.370|
                  |L27.328|
000148  0a00              LSRS     r0,r0,#8
                  |L27.330|
;;;342    	Y = cpu_getmemory(savepc);   
00014a  f01000ff          ANDS     r0,r0,#0xff
00014e  7120              STRB     r0,[r4,#4]
;;;343    	if (Y) P &= 0xfd; else P |= 0x02;   
000150  7961              LDRB     r1,[r4,#5]  ; P
000152  bf14              ITE      NE
000154  f00101fd          ANDNE    r1,r1,#0xfd
000158  f0410102          ORREQ    r1,r1,#2
00015c  7161              STRB     r1,[r4,#5]
;;;344    	if (Y & 0x80) P |= 0x80; else P &= 0x7f;   
00015e  f0100f80          TST      r0,#0x80
000162  b2c8              UXTB     r0,r1
000164  bf14              ITE      NE
000166  f0400080          ORRNE    r0,r0,#0x80
00016a  f000007f          ANDEQ    r0,r0,#0x7f
00016e  7160              STRB     r0,[r4,#5]
;;;345    }   
000170  bd10              POP      {r4,pc}
                  |L27.370|
000172  f7fffffe          BL       joypad_read
000176  e7e8              B        |L27.330|
000178  2000              MOVS     r0,#0
00017a  e7e6              B        |L27.330|
00017c  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
00017e  4408              ADD      r0,r0,r1
000180  f5a04000          SUB      r0,r0,#0x8000
000184  7800              LDRB     r0,[r0,#0]
000186  e7e0              B        |L27.330|
000188  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
00018a  4408              ADD      r0,r0,r1
00018c  f5a04040          SUB      r0,r0,#0xc000
                  |L27.400|
000190  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000192  e7da              B        |L27.330|
;;;346    
                          ENDP

                  |L27.404|
                          DCD      ||.data||
                  |L27.408|
                          DCD      ||.bss||
                  |L27.412|
                          DCD      PPU_Reg
                  |L27.416|
                          DCD      PPU_Latch_Flag
                  |L27.420|
                          DCD      PPU_scanline
                  |L27.424|
                          DCD      Spr_Mem
                  |L27.428|
                          DCD      PPU_Mem

                          AREA ||i.cpu_lsr||, CODE, READONLY, ALIGN=2

                  cpu_lsr PROC
;;;346    
;;;347    static inline void cpu_lsr(CpuAdrMode adrmode)   
000000  b570              PUSH     {r4-r6,lr}
;;;348    {   
;;;349    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4cff              LDR      r4,|L28.1032|
00000c  4605              MOV      r5,r0
00000e  2910              CMP      r1,#0x10
000010  d27d              BCS      |L28.270|
000012  e8dff001          TBB      [pc,r1]
000016  0808              DCB      0x08,0x08
000018  0d0d8fb5          DCB      0x0d,0x0d,0x8f,0xb5
00001c  b5b5b7b7          DCB      0xb5,0xb5,0xb7,0xb7
000020  b7b7bdbd          DCB      0xb7,0xb7,0xbd,0xbd
000024  bdbd              DCB      0xbd,0xbd
000026  49f9              LDR      r1,|L28.1036|
000028  f3c5000a          UBFX     r0,r5,#0,#11
00002c  5c08              LDRB     r0,[r1,r0]
00002e  e08e              B        |L28.334|
000030  f0050007          AND      r0,r5,#7
000034  2808              CMP      r0,#8
000036  d244              BCS      |L28.194|
000038  e8dff000          TBB      [pc,r0]
00003c  04060989          DCB      0x04,0x06,0x09,0x89
000040  1e898926          DCB      0x1e,0x89,0x89,0x26
000044  48f2              LDR      r0,|L28.1040|
000046  e0a7              B        |L28.408|
000048  48f1              LDR      r0,|L28.1040|
00004a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004c  e07f              B        |L28.334|
00004e  4af0              LDR      r2,|L28.1040|
000050  4bf0              LDR      r3,|L28.1044|
000052  7890              LDRB     r0,[r2,#2]  ; PPU_Reg
000054  f0200180          BIC      r1,r0,#0x80
000058  7091              STRB     r1,[r2,#2]
00005a  2100              MOVS     r1,#0
00005c  7019              STRB     r1,[r3,#0]
00005e  49ee              LDR      r1,|L28.1048|
000060  6809              LDR      r1,[r1,#0]  ; PPU_scanline
000062  3915              SUBS     r1,r1,#0x15
000064  29f1              CMP      r1,#0xf1
000066  d272              BCS      |L28.334|
000068  7811              LDRB     r1,[r2,#0]  ; PPU_Reg
00006a  f0110f80          TST      r1,#0x80
00006e  bf04              ITT      EQ
000070  f0210103          BICEQ    r1,r1,#3
000074  7011              STRBEQ   r1,[r2,#0]
000076  e06a              B        |L28.334|
000078  49e8              LDR      r1,|L28.1052|
00007a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007e  5c88              LDRB     r0,[r1,r2]
000080  1c52              ADDS     r2,r2,#1
000082  f8812100          STRB     r2,[r1,#0x100]
000086  e062              B        |L28.334|
000088  49e5              LDR      r1,|L28.1056|
00008a  880b              LDRH     r3,[r1,#0]  ; PPU_Mem
00008c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008e  f4134270          ANDS     r2,r3,#0xf000
000092  bf04              ITT      EQ
000094  684a              LDREQ    r2,[r1,#4]  ; PPU_Mem
000096  5cd2              LDRBEQ   r2,[r2,r3]
000098  d019              BEQ      |L28.206|
00009a  f5b25f80          CMP      r2,#0x1000
00009e  d011              BEQ      |L28.196|
0000a0  f5b25f00          CMP      r2,#0x2000
0000a4  d015              BEQ      |L28.210|
0000a6  f5b25f40          CMP      r2,#0x3000
0000aa  bf18              IT       NE
0000ac  2000              MOVNE    r0,#0
0000ae  d02f              BEQ      |L28.272|
                  |L28.176|
0000b0  4ad7              LDR      r2,|L28.1040|
0000b2  7812              LDRB     r2,[r2,#0]  ; PPU_Reg
0000b4  f0120f04          TST      r2,#4
0000b8  bf14              ITE      NE
0000ba  f1030220          ADDNE    r2,r3,#0x20
0000be  1c5a              ADDEQ    r2,r3,#1
0000c0  800a              STRH     r2,[r1,#0]
                  |L28.194|
0000c2  e044              B        |L28.334|
                  |L28.196|
0000c4  688a              LDR      r2,[r1,#8]  ; PPU_Mem
0000c6  f3c30c0b          UBFX     r12,r3,#0,#12
0000ca  f812200c          LDRB     r2,[r2,r12]
                  |L28.206|
0000ce  708a              STRB     r2,[r1,#2]
0000d0  e7ee              B        |L28.176|
                  |L28.210|
0000d2  f3c3020b          UBFX     r2,r3,#0,#12
0000d6  f5b26f40          CMP      r2,#0xc00
0000da  bf84              ITT      HI
0000dc  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e0  f5a26240          SUBHI    r2,r2,#0xc00
0000e4  d810              BHI      |L28.264|
0000e6  f5b26f00          CMP      r2,#0x800
0000ea  bf84              ITT      HI
0000ec  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f0  f5a26200          SUBHI    r2,r2,#0x800
0000f4  d808              BHI      |L28.264|
0000f6  f5b26f80          CMP      r2,#0x400
0000fa  bf86              ITTE     HI
0000fc  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000100  f5a26280          SUBHI    r2,r2,#0x400
000104  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L28.264|
000108  f81c2002          LDRB     r2,[r12,r2]
00010c  e7df              B        |L28.206|
                  |L28.270|
00010e  e01d              B        |L28.332|
                  |L28.272|
000110  f6437210          MOV      r2,#0x3f10
000114  4293              CMP      r3,r2
000116  d305              BCC      |L28.292|
000118  f003000f          AND      r0,r3,#0xf
00011c  4408              ADD      r0,r0,r1
00011e  f890002c          LDRB     r0,[r0,#0x2c]
000122  e7c5              B        |L28.176|
                  |L28.292|
000124  f5b35f7c          CMP      r3,#0x3f00
000128  d3c2              BCC      |L28.176|
00012a  f003000f          AND      r0,r3,#0xf
00012e  4408              ADD      r0,r0,r1
000130  7f00              LDRB     r0,[r0,#0x1c]
000132  e7bd              B        |L28.176|
000134  f5a04180          SUB      r1,r0,#0x4000
000138  3916              SUBS     r1,r1,#0x16
00013a  bf08              IT       EQ
00013c  2000              MOVEQ    r0,#0
00013e  d01c              BEQ      |L28.378|
000140  f5a04180          SUB      r1,r0,#0x4000
000144  3917              SUBS     r1,r1,#0x17
000146  bf08              IT       EQ
000148  2001              MOVEQ    r0,#1
00014a  d016              BEQ      |L28.378|
                  |L28.332|
00014c  0a28              LSRS     r0,r5,#8
                  |L28.334|
;;;350    	uint8_t value = cpu_getmemory(savepc);   
00014e  b2c0              UXTB     r0,r0
;;;351    
;;;352    /* set carry flag if shifting right causes a bit to be lost */   
;;;353    	P= (P & 0xfe) | (value & 0x01);   
000150  7961              LDRB     r1,[r4,#5]  ; P
000152  f0000201          AND      r2,r0,#1
000156  f00101fe          AND      r1,r1,#0xfe
00015a  4311              ORRS     r1,r1,r2
00015c  7161              STRB     r1,[r4,#5]
;;;354    
;;;355    	value = value >>1;   
00015e  0846              LSRS     r6,r0,#1
000160  f4054170          AND      r1,r5,#0xf000
000164  2200              MOVS     r2,#0
000166  1309              ASRS     r1,r1,#12
;;;356    	cpu_putmemory(savepc,value);   
000168  4630              MOV      r0,r6
00016a  2905              CMP      r1,#5
00016c  f0808140          BCS.W    |L28.1008|
000170  e8dff001          TBB      [pc,r1]
000174  14141a1a          DCB      0x14,0x14,0x1a,0x1a
000178  aa00              DCB      0xaa,0x00
                  |L28.378|
00017a  f7fffffe          BL       joypad_read
00017e  e7e6              B        |L28.334|
000180  2000              MOVS     r0,#0
000182  e7e4              B        |L28.334|
000184  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000186  1948              ADDS     r0,r1,r5
000188  f5a04000          SUB      r0,r0,#0x8000
00018c  7800              LDRB     r0,[r0,#0]
00018e  e7de              B        |L28.334|
000190  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000192  1948              ADDS     r0,r1,r5
000194  f5a04040          SUB      r0,r0,#0xc000
                  |L28.408|
000198  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
00019a  e7d8              B        |L28.334|
00019c  4a9b              LDR      r2,|L28.1036|
00019e  f3c5010a          UBFX     r1,r5,#0,#11
0001a2  5456              STRB     r6,[r2,r1]
0001a4  f000b924          B.W      |L28.1008|
0001a8  f0050107          AND      r1,r5,#7
0001ac  2908              CMP      r1,#8
0001ae  f080811f          BCS.W    |L28.1008|
0001b2  e8dff001          TBB      [pc,r1]
0001b6  0408              DCB      0x04,0x08
0001b8  880c111c          DCB      0x88,0x0c,0x11,0x1c
0001bc  2d37              DCB      0x2d,0x37
0001be  4994              LDR      r1,|L28.1040|
0001c0  700e              STRB     r6,[r1,#0]
0001c2  f000b915          B.W      |L28.1008|
0001c6  4992              LDR      r1,|L28.1040|
0001c8  704e              STRB     r6,[r1,#1]
0001ca  f000b911          B.W      |L28.1008|
0001ce  4993              LDR      r1,|L28.1052|
0001d0  f8816100          STRB     r6,[r1,#0x100]
0001d4  f000b90c          B.W      |L28.1008|
0001d8  4990              LDR      r1,|L28.1052|
0001da  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0001de  548e              STRB     r6,[r1,r2]
0001e0  f8910100          LDRB     r0,[r1,#0x100]  ; Spr_Mem
0001e4  1c40              ADDS     r0,r0,#1
0001e6  f8810100          STRB     r0,[r1,#0x100]
0001ea  f000b901          B.W      |L28.1008|
0001ee  4a89              LDR      r2,|L28.1044|
0001f0  7811              LDRB     r1,[r2,#0]  ; PPU_Latch_Flag
0001f2  2900              CMP      r1,#0
0001f4  bf04              ITT      EQ
0001f6  4b8b              LDREQ    r3,|L28.1060|
0001f8  701e              STRBEQ   r6,[r3,#0]
0001fa  d004              BEQ      |L28.518|
0001fc  28ef              CMP      r0,#0xef
0001fe  bf88              IT       HI
000200  2000              MOVHI    r0,#0
000202  4b89              LDR      r3,|L28.1064|
000204  7018              STRB     r0,[r3,#0]
                  |L28.518|
000206  f0810001          EOR      r0,r1,#1
00020a  7010              STRB     r0,[r2,#0]
00020c  f000b8f0          B.W      |L28.1008|
000210  4983              LDR      r1,|L28.1056|
000212  780a              LDRB     r2,[r1,#0]  ; PPU_Mem
000214  eb062002          ADD      r0,r6,r2,LSL #8
000218  8008              STRH     r0,[r1,#0]
00021a  487e              LDR      r0,|L28.1044|
00021c  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
00021e  f0810101          EOR      r1,r1,#1
000222  e0e4              B        |L28.1006|
000224  4d7e              LDR      r5,|L28.1056|
000226  8829              LDRH     r1,[r5,#0]  ; PPU_Mem
000228  f4114270          ANDS     r2,r1,#0xf000
00022c  bf18              IT       NE
00022e  f5b25f80          CMPNE    r2,#0x1000
000232  d03f              BEQ      |L28.692|
000234  f5b25f00          CMP      r2,#0x2000
000238  d003              BEQ      |L28.578|
00023a  f5b25f40          CMP      r2,#0x3000
00023e  d019              BEQ      |L28.628|
000240  e038              B        |L28.692|
                  |L28.578|
000242  f3c1010b          UBFX     r1,r1,#0,#12
000246  f5b16f40          CMP      r1,#0xc00
00024a  bf84              ITT      HI
00024c  69aa              LDRHI    r2,[r5,#0x18]  ; PPU_Mem
00024e  f5a16140          SUBHI    r1,r1,#0xc00
000252  d80d              BHI      |L28.624|
000254  f5b16f00          CMP      r1,#0x800
000258  bf84              ITT      HI
00025a  696a              LDRHI    r2,[r5,#0x14]  ; PPU_Mem
00025c  f5a16100          SUBHI    r1,r1,#0x800
000260  d806              BHI      |L28.624|
000262  f5b16f80          CMP      r1,#0x400
000266  bf86              ITTE     HI
000268  692a              LDRHI    r2,[r5,#0x10]  ; PPU_Mem
00026a  f5a16180          SUBHI    r1,r1,#0x400
00026e  68ea              LDRLS    r2,[r5,#0xc]  ; PPU_Mem
                  |L28.624|
000270  5456              STRB     r6,[r2,r1]
000272  e01f              B        |L28.692|
                  |L28.628|
000274  f001021f          AND      r2,r1,#0x1f
000278  f001010f          AND      r1,r1,#0xf
00027c  2a0f              CMP      r2,#0xf
00027e  4429              ADD      r1,r1,r5
000280  d915              BLS      |L28.686|
000282  f881002c          STRB     r0,[r1,#0x2c]
000286  7829              LDRB     r1,[r5,#0]  ; PPU_Mem
000288  f0110f03          TST      r1,#3
00028c  d112              BNE      |L28.692|
00028e  7728              STRB     r0,[r5,#0x1c]
000290  f885002c          STRB     r0,[r5,#0x2c]
000294  f8850020          STRB     r0,[r5,#0x20]
000298  f8850030          STRB     r0,[r5,#0x30]
00029c  f8850024          STRB     r0,[r5,#0x24]
0002a0  f8850034          STRB     r0,[r5,#0x34]
0002a4  f8850028          STRB     r0,[r5,#0x28]
0002a8  f8850038          STRB     r0,[r5,#0x38]
0002ac  e002              B        |L28.692|
                  |L28.686|
0002ae  770e              STRB     r6,[r1,#0x1c]
0002b0  f7fffffe          BL       premap_palette
                  |L28.692|
0002b4  4856              LDR      r0,|L28.1040|
0002b6  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002b8  f0100f04          TST      r0,#4
0002bc  8828              LDRH     r0,[r5,#0]  ; PPU_Mem
0002be  bf14              ITE      NE
0002c0  3020              ADDNE    r0,r0,#0x20
0002c2  1c40              ADDEQ    r0,r0,#1
0002c4  8028              STRH     r0,[r5,#0]
0002c6  e093              B        |L28.1008|
0002c8  f5a54180          SUB      r1,r5,#0x4000
0002cc  3914              SUBS     r1,r1,#0x14
0002ce  d004              BEQ      |L28.730|
0002d0  f5a54180          SUB      r1,r5,#0x4000
0002d4  3916              SUBS     r1,r1,#0x16
0002d6  d03d              BEQ      |L28.852|
0002d8  e08a              B        |L28.1008|
                  |L28.730|
0002da  6a21              LDR      r1,[r4,#0x20]  ; cpu_clockticks
0002dc  0902              LSRS     r2,r0,#4
0002de  f5a17100          SUB      r1,r1,#0x200
0002e2  6221              STR      r1,[r4,#0x20]  ; cpu_clockticks
0002e4  2100              MOVS     r1,#0
0002e6  2a10              CMP      r2,#0x10
0002e8  d218              BCS      |L28.796|
0002ea  e8dff002          TBB      [pc,r2]
0002ee  0808              DCB      0x08,0x08
0002f0  17171717          DCB      0x17,0x17,0x17,0x17
0002f4  81810c0c          DCB      0x81,0x81,0x0c,0x0c
0002f8  0c0c1212          DCB      0x0c,0x0c,0x12,0x12
0002fc  1212              DCB      0x12,0x12
0002fe  4943              LDR      r1,|L28.1036|
000300  eb012106          ADD      r1,r1,r6,LSL #8
000304  e00a              B        |L28.796|
000306  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000308  eb012006          ADD      r0,r1,r6,LSL #8
00030c  f5a04100          SUB      r1,r0,#0x8000
000310  e004              B        |L28.796|
000312  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
000314  eb012006          ADD      r0,r1,r6,LSL #8
000318  f5a04140          SUB      r1,r0,#0xc000
                  |L28.796|
00031c  4a3f              LDR      r2,|L28.1052|
00031e  1a50              SUBS     r0,r2,r1
000320  2800              CMP      r0,#0
000322  dd04              BLE      |L28.814|
000324  f5b07f80          CMP      r0,#0x100
000328  bfb8              IT       LT
00032a  2000              MOVLT    r0,#0
00032c  db05              BLT      |L28.826|
                  |L28.814|
00032e  f44f7280          MOV      r2,#0x100
000332  483a              LDR      r0,|L28.1052|
000334  f7fffffe          BL       __aeabi_memmove
000338  e05a              B        |L28.1008|
                  |L28.826|
00033a  5c0b              LDRB     r3,[r1,r0]
00033c  5413              STRB     r3,[r2,r0]
00033e  180b              ADDS     r3,r1,r0
000340  eb020c00          ADD      r12,r2,r0
000344  785b              LDRB     r3,[r3,#1]
000346  1c80              ADDS     r0,r0,#2
000348  f88c3001          STRB     r3,[r12,#1]
00034c  f5b07f80          CMP      r0,#0x100
000350  dbf3              BLT      |L28.826|
000352  e04d              B        |L28.1008|
                  |L28.852|
000354  0031              MOVS     r1,r6
000356  d049              BEQ      |L28.1004|
000358  4834              LDR      r0,|L28.1068|
00035a  7002              STRB     r2,[r0,#0]
00035c  4834              LDR      r0,|L28.1072|
00035e  6900              LDR      r0,[r0,#0x10]
000360  43c0              MVNS     r0,r0
000362  b283              UXTH     r3,r0
000364  4833              LDR      r0,|L28.1076|
000366  8802              LDRH     r2,[r0,#0]  ; joys
000368  f5b26f40          CMP      r2,#0xc00
00036c  bf94              ITE      LS
00036e  f04f0c00          MOVLS    r12,#0
000372  f04f0c01          MOVHI    r12,#1
000376  ea43430c          ORR      r3,r3,r12,LSL #16
00037a  f5b26f80          CMP      r2,#0x400
00037e  bf34              ITE      CC
000380  2201              MOVCC    r2,#1
000382  2200              MOVCS    r2,#0
000384  ea434342          ORR      r3,r3,r2,LSL #17
000388  8842              LDRH     r2,[r0,#2]  ; joys
00038a  f5b26f40          CMP      r2,#0xc00
00038e  bf8c              ITE      HI
000390  f04f0c01          MOVHI    r12,#1
000394  f04f0c00          MOVLS    r12,#0
000398  ea43438c          ORR      r3,r3,r12,LSL #18
00039c  f5b26f80          CMP      r2,#0x400
0003a0  bf34              ITE      CC
0003a2  2201              MOVCC    r2,#1
0003a4  2200              MOVCS    r2,#0
0003a6  ea4342c2          ORR      r2,r3,r2,LSL #19
0003aa  88c3              LDRH     r3,[r0,#6]  ; joys
0003ac  f5b36f40          CMP      r3,#0xc00
0003b0  bf8c              ITE      HI
0003b2  f04f0c01          MOVHI    r12,#1
0003b6  f04f0c00          MOVLS    r12,#0
0003ba  ea42520c          ORR      r2,r2,r12,LSL #20
0003be  f5b36f80          CMP      r3,#0x400
0003c2  bf34              ITE      CC
0003c4  2301              MOVCC    r3,#1
0003c6  2300              MOVCS    r3,#0
0003c8  ea425243          ORR      r2,r2,r3,LSL #21
0003cc  8883              LDRH     r3,[r0,#4]  ; joys
0003ce  f5b36f40          CMP      r3,#0xc00
0003d2  bf8c              ITE      HI
0003d4  2001              MOVHI    r0,#1
0003d6  2000              MOVLS    r0,#0
0003d8  ea425080          ORR      r0,r2,r0,LSL #22
0003dc  f5b36f80          CMP      r3,#0x400
0003e0  bf34              ITE      CC
0003e2  2201              MOVCC    r2,#1
0003e4  2200              MOVCS    r2,#0
0003e6  ea4050c2          ORR      r0,r0,r2,LSL #23
0003ea  6160              STR      r0,[r4,#0x14]  ; joypad_state
                  |L28.1004|
0003ec  4812              LDR      r0,|L28.1080|
                  |L28.1006|
0003ee  7001              STRB     r1,[r0,#0]
                  |L28.1008|
;;;357    
;;;358    /* set zero flag if value is zero */   
;;;359    	if (value != 0) P &= 0xfd; else P |= 0x02;   
0003f0  7960              LDRB     r0,[r4,#5]  ; P
0003f2  2e00              CMP      r6,#0
0003f4  bf14              ITE      NE
0003f6  f00000fd          ANDNE    r0,r0,#0xfd
0003fa  f0400002          ORREQ    r0,r0,#2
0003fe  7160              STRB     r0,[r4,#5]
;;;360    
;;;361    /* set negative flag if bit 8 set??? can this happen on an LSR? */   
;;;362    	if ((value & 0x80) == 0x80)   
000400  2000              MOVS     r0,#0
000402  2800              CMP      r0,#0
;;;363    		P |= 0x80;   
;;;364    	else   
;;;365    		P &= 0x7f;   
000404  7960              LDRB     r0,[r4,#5]  ; P
000406  e019              B        |L28.1084|
                  |L28.1032|
                          DCD      ||.data||
                  |L28.1036|
                          DCD      ||.bss||
                  |L28.1040|
                          DCD      PPU_Reg
                  |L28.1044|
                          DCD      PPU_Latch_Flag
                  |L28.1048|
                          DCD      PPU_scanline
                  |L28.1052|
                          DCD      Spr_Mem
                  |L28.1056|
                          DCD      PPU_Mem
                  |L28.1060|
                          DCD      PPU_BG_HScrlOrg
                  |L28.1064|
                          DCD      PPU_BG_VScrlOrg
                  |L28.1068|
                          DCD      ||.data||+0x9
                  |L28.1072|
                          DCD      0x40021000
                  |L28.1076|
                          DCD      joys
                  |L28.1080|
                          DCD      ||.data||+0xb
                  |L28.1084|
00043c  bf14              ITE      NE                    ;363
00043e  f0400080          ORRNE    r0,r0,#0x80           ;363
000442  f000007f          ANDEQ    r0,r0,#0x7f
000446  7160              STRB     r0,[r4,#5]            ;363
;;;366    }   
000448  bd70              POP      {r4-r6,pc}
;;;367    
                          ENDP


                          AREA ||i.cpu_nmi||, CODE, READONLY, ALIGN=2

                  cpu_nmi PROC
;;;133    /* Non maskerable interrupt */   
;;;134    void cpu_nmi(void)   
000000  480b              LDR      r0,|L29.48|
000002  4b0c              LDR      r3,|L29.52|
000004  7982              LDRB     r2,[r0,#6]  ; S
;;;135    {   
;;;136    	// cpu_putmemory(0x0100+S--,(uint8_t)(PC>>8));   
;;;137    	// cpu_putmemory(0x0100+S--,(uint8_t)(PC & 0xff));   
;;;138    	// cpu_putmemory(0x0100+S--,P);   
;;;139    	cpu_push16stack(PC);
000006  89c1              LDRH     r1,[r0,#0xe]  ; PC
000008  1e92              SUBS     r2,r2,#2
00000a  b2d2              UXTB     r2,r2
00000c  4413              ADD      r3,r3,r2
00000e  1e52              SUBS     r2,r2,#1
000010  f8a31101          STRH     r1,[r3,#0x101]
;;;140    	cpu_pushstack(P);
000014  7941              LDRB     r1,[r0,#5]  ; P
000016  f8831100          STRB     r1,[r3,#0x100]
00001a  7182              STRB     r2,[r0,#6]
;;;141    
;;;142    	P |= 0x04; 
00001c  f0410104          ORR      r1,r1,#4
000020  7141              STRB     r1,[r0,#5]
;;;143    
;;;144    	// PC = cpu_getmemory16(0xfffa);
;;;145    	PC = NMI_VECTOR;
000022  69c1              LDR      r1,[r0,#0x1c]  ; prg_rombank1
000024  f5015140          ADD      r1,r1,#0x3000
000028  f8b11ffa          LDRH     r1,[r1,#0xffa]
00002c  81c1              STRH     r1,[r0,#0xe]
;;;146    	// PC=cpu_getmemory(0xfffa);   
;;;147    	// PC |= cpu_getmemory(0xfffb) << 8;   
;;;148    }   
00002e  4770              BX       lr
;;;149    
                          ENDP

                  |L29.48|
                          DCD      ||.data||
                  |L29.52|
                          DCD      ||.bss||

                          AREA ||i.cpu_ora||, CODE, READONLY, ALIGN=2

                  cpu_ora PROC
;;;379    
;;;380    static inline void cpu_ora(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;381    {   
;;;382    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c63              LDR      r4,|L30.408|
00000c  2910              CMP      r1,#0x10
00000e  d27c              BCS      |L30.266|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8eb4b4b4          DCB      0x8e,0xb4,0xb4,0xb4
00001c  b6b6b6b6          DCB      0xb6,0xb6,0xb6,0xb6
000020  bcbcbcbc          DCB      0xbc,0xbc,0xbc,0xbc
000024  495d              LDR      r1,|L30.412|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08d              B        |L30.330|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d243              BCS      |L30.190|
000036  e8dff000          TBB      [pc,r0]
00003a  0406              DCB      0x04,0x06
00003c  09881e88          DCB      0x09,0x88,0x1e,0x88
000040  8826              DCB      0x88,0x26
000042  4857              LDR      r0,|L30.416|
000044  e0a6              B        |L30.404|
000046  4856              LDR      r0,|L30.416|
000048  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004a  e07e              B        |L30.330|
00004c  4954              LDR      r1,|L30.416|
00004e  4b55              LDR      r3,|L30.420|
000050  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000052  f0200280          BIC      r2,r0,#0x80
000056  708a              STRB     r2,[r1,#2]
000058  2200              MOVS     r2,#0
00005a  701a              STRB     r2,[r3,#0]
00005c  4a52              LDR      r2,|L30.424|
00005e  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000060  3a15              SUBS     r2,r2,#0x15
000062  2af1              CMP      r2,#0xf1
000064  d271              BCS      |L30.330|
000066  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000068  f0120f80          TST      r2,#0x80
00006c  bf04              ITT      EQ
00006e  f0220203          BICEQ    r2,r2,#3
000072  700a              STRBEQ   r2,[r1,#0]
000074  e069              B        |L30.330|
000076  494d              LDR      r1,|L30.428|
000078  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007c  5c88              LDRB     r0,[r1,r2]
00007e  1c52              ADDS     r2,r2,#1
000080  f8812100          STRB     r2,[r1,#0x100]
000084  e061              B        |L30.330|
000086  494a              LDR      r1,|L30.432|
000088  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008a  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008c  f4124370          ANDS     r3,r2,#0xf000
000090  bf04              ITT      EQ
000092  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000094  5c9b              LDRBEQ   r3,[r3,r2]
000096  d018              BEQ      |L30.202|
000098  f5b35f80          CMP      r3,#0x1000
00009c  d010              BEQ      |L30.192|
00009e  f5b35f00          CMP      r3,#0x2000
0000a2  d014              BEQ      |L30.206|
0000a4  f5b35f40          CMP      r3,#0x3000
0000a8  bf18              IT       NE
0000aa  2000              MOVNE    r0,#0
0000ac  d02e              BEQ      |L30.268|
                  |L30.174|
0000ae  4b3c              LDR      r3,|L30.416|
0000b0  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b2  f0130f04          TST      r3,#4
0000b6  bf14              ITE      NE
0000b8  3220              ADDNE    r2,r2,#0x20
0000ba  1c52              ADDEQ    r2,r2,#1
0000bc  800a              STRH     r2,[r1,#0]
                  |L30.190|
0000be  e044              B        |L30.330|
                  |L30.192|
0000c0  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c2  f3c20c0b          UBFX     r12,r2,#0,#12
0000c6  f813300c          LDRB     r3,[r3,r12]
                  |L30.202|
0000ca  708b              STRB     r3,[r1,#2]
0000cc  e7ef              B        |L30.174|
                  |L30.206|
0000ce  f3c2030b          UBFX     r3,r2,#0,#12
0000d2  f5b36f40          CMP      r3,#0xc00
0000d6  bf84              ITT      HI
0000d8  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000dc  f5a36340          SUBHI    r3,r3,#0xc00
0000e0  d810              BHI      |L30.260|
0000e2  f5b36f00          CMP      r3,#0x800
0000e6  bf84              ITT      HI
0000e8  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ec  f5a36300          SUBHI    r3,r3,#0x800
0000f0  d808              BHI      |L30.260|
0000f2  f5b36f80          CMP      r3,#0x400
0000f6  bf86              ITTE     HI
0000f8  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fc  f5a36380          SUBHI    r3,r3,#0x400
000100  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L30.260|
000104  f81c3003          LDRB     r3,[r12,r3]
000108  e7df              B        |L30.202|
                  |L30.266|
00010a  e01d              B        |L30.328|
                  |L30.268|
00010c  f6437310          MOV      r3,#0x3f10
000110  429a              CMP      r2,r3
000112  d305              BCC      |L30.288|
000114  f002000f          AND      r0,r2,#0xf
000118  4408              ADD      r0,r0,r1
00011a  f890002c          LDRB     r0,[r0,#0x2c]
00011e  e7c6              B        |L30.174|
                  |L30.288|
000120  f5b25f7c          CMP      r2,#0x3f00
000124  d3c3              BCC      |L30.174|
000126  f002000f          AND      r0,r2,#0xf
00012a  4408              ADD      r0,r0,r1
00012c  7f00              LDRB     r0,[r0,#0x1c]
00012e  e7be              B        |L30.174|
000130  f5a04180          SUB      r1,r0,#0x4000
000134  3916              SUBS     r1,r1,#0x16
000136  bf08              IT       EQ
000138  2000              MOVEQ    r0,#0
00013a  d01c              BEQ      |L30.374|
00013c  f5a04180          SUB      r1,r0,#0x4000
000140  3917              SUBS     r1,r1,#0x17
000142  bf08              IT       EQ
000144  2001              MOVEQ    r0,#1
000146  d016              BEQ      |L30.374|
                  |L30.328|
000148  0a00              LSRS     r0,r0,#8
                  |L30.330|
;;;383    	A |= cpu_getmemory(savepc);    
00014a  78a1              LDRB     r1,[r4,#2]  ; A
00014c  4308              ORRS     r0,r0,r1
00014e  f01000ff          ANDS     r0,r0,#0xff
000152  70a0              STRB     r0,[r4,#2]
;;;384    
;;;385    	if (A) P &= 0xfd; else P |= 0x02;   
000154  7961              LDRB     r1,[r4,#5]  ; P
000156  bf14              ITE      NE
000158  f00101fd          ANDNE    r1,r1,#0xfd
00015c  f0410102          ORREQ    r1,r1,#2
000160  7161              STRB     r1,[r4,#5]
;;;386    	if (A & 0x80) P |= 0x80; else P &= 0x7f;   
000162  f0100f80          TST      r0,#0x80
000166  b2c8              UXTB     r0,r1
000168  bf14              ITE      NE
00016a  f0400080          ORRNE    r0,r0,#0x80
00016e  f000007f          ANDEQ    r0,r0,#0x7f
000172  7160              STRB     r0,[r4,#5]
;;;387    }   
000174  bd10              POP      {r4,pc}
                  |L30.374|
000176  f7fffffe          BL       joypad_read
00017a  e7e6              B        |L30.330|
00017c  2000              MOVS     r0,#0
00017e  e7e4              B        |L30.330|
000180  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
000182  4408              ADD      r0,r0,r1
000184  f5a04000          SUB      r0,r0,#0x8000
000188  7800              LDRB     r0,[r0,#0]
00018a  e7de              B        |L30.330|
00018c  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
00018e  4408              ADD      r0,r0,r1
000190  f5a04040          SUB      r0,r0,#0xc000
                  |L30.404|
000194  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000196  e7d8              B        |L30.330|
;;;388    
                          ENDP

                  |L30.408|
                          DCD      ||.data||
                  |L30.412|
                          DCD      ||.bss||
                  |L30.416|
                          DCD      PPU_Reg
                  |L30.420|
                          DCD      PPU_Latch_Flag
                  |L30.424|
                          DCD      PPU_scanline
                  |L30.428|
                          DCD      Spr_Mem
                  |L30.432|
                          DCD      PPU_Mem

                          AREA ||i.cpu_relative||, CODE, READONLY, ALIGN=2

                  cpu_relative PROC
;;;28     /* Branch */   
;;;29     static inline uint16_t cpu_relative(void)   
000000  490a              LDR      r1,|L31.44|
000002  89c8              LDRH     r0,[r1,#0xe]  ; PC
000004  1c40              ADDS     r0,r0,#1
000006  b282              UXTH     r2,r0
000008  81ca              STRH     r2,[r1,#0xe]
00000a  7a08              LDRB     r0,[r1,#8]  ; operand
;;;30     {     
;;;31     	uint16_t savepc;
;;;32       	savepc  = cpu_getoperand();  
;;;33     
;;;34       	if (savepc & 0x80) savepc -= 0x100;   
00000c  f0100f80          TST      r0,#0x80
000010  bf1c              ITT      NE
000012  f5a07080          SUBNE    r0,r0,#0x100
000016  b280              UXTHNE   r0,r0
;;;35       	if ((savepc>>8) != (PC>>8))   
000018  0a03              LSRS     r3,r0,#8
00001a  ebb32f12          CMP      r3,r2,LSR #8
;;;36       		cpu_clockticks++;   
;;;37     
;;;38      	return savepc;
;;;39     }   
00001e  bf08              IT       EQ
000020  4770              BXEQ     lr
000022  6a0a              LDR      r2,[r1,#0x20]         ;36  ; cpu_clockticks
000024  1c52              ADDS     r2,r2,#1              ;36
000026  620a              STR      r2,[r1,#0x20]         ;36  ; cpu_clockticks
000028  4770              BX       lr
;;;40     
                          ENDP

00002a  0000              DCW      0x0000
                  |L31.44|
                          DCD      ||.data||

                          AREA ||i.cpu_reset||, CODE, READONLY, ALIGN=2

                  cpu_reset PROC
;;;120    /* Reset CPU */   
;;;121    void cpu_reset(void)   
000000  4808              LDR      r0,|L32.36|
;;;122    {   
;;;123    	A=X=Y=0;   
000002  2100              MOVS     r1,#0
;;;124    	P = R_FLAG | Z_FLAG;       //Z_FLAG | R_FLAG   
000004  2222              MOVS     r2,#0x22
000006  7101              STRB     r1,[r0,#4]            ;123
000008  70c1              STRB     r1,[r0,#3]            ;123
00000a  7081              STRB     r1,[r0,#2]            ;123
00000c  7142              STRB     r2,[r0,#5]
;;;125    	S=0xff;   
00000e  22ff              MOVS     r2,#0xff
000010  7182              STRB     r2,[r0,#6]
;;;126    
;;;127    	PC = RST_VECTOR; 
000012  69c2              LDR      r2,[r0,#0x1c]  ; prg_rombank1
000014  f5025240          ADD      r2,r2,#0x3000
000018  f8b22ffc          LDRH     r2,[r2,#0xffc]
00001c  81c2              STRH     r2,[r0,#0xe]
;;;128    
;;;129    	NMI_Flag = CLR0;   
00001e  7001              STRB     r1,[r0,#0]
;;;130    	IRQ_Flag = CLR0;   
000020  7041              STRB     r1,[r0,#1]
;;;131    }   
000022  4770              BX       lr
;;;132    
                          ENDP

                  |L32.36|
                          DCD      ||.data||

                          AREA ||i.cpu_rol||, CODE, READONLY, ALIGN=2

                  cpu_rol PROC
;;;410    
;;;411    static inline void cpu_rol(CpuAdrMode adrmode)   
000000  b570              PUSH     {r4-r6,lr}
;;;412    {   
;;;413    	int saveflags=(P & 0x01);   
000002  49fe              LDR      r1,|L33.1020|
000004  7949              LDRB     r1,[r1,#5]  ; P
000006  f0010601          AND      r6,r1,#1
;;;414    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
00000a  4780              BLX      r0
00000c  f4004170          AND      r1,r0,#0xf000
000010  1309              ASRS     r1,r1,#12
000012  4604              MOV      r4,r0
000014  2910              CMP      r1,#0x10
000016  d27d              BCS      |L33.276|
000018  e8dff001          TBB      [pc,r1]
00001c  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000020  8fb7b7b7          DCB      0x8f,0xb7,0xb7,0xb7
000024  b9b9b9b9          DCB      0xb9,0xb9,0xb9,0xb9
000028  c0c0c0c0          DCB      0xc0,0xc0,0xc0,0xc0
00002c  49f4              LDR      r1,|L33.1024|
00002e  f3c4000a          UBFX     r0,r4,#0,#11
000032  5c08              LDRB     r0,[r1,r0]
000034  e08e              B        |L33.340|
000036  f0040007          AND      r0,r4,#7
00003a  2808              CMP      r0,#8
00003c  d244              BCS      |L33.200|
00003e  e8dff000          TBB      [pc,r0]
000042  0406              DCB      0x04,0x06
000044  09891e89          DCB      0x09,0x89,0x1e,0x89
000048  8926              DCB      0x89,0x26
00004a  48ee              LDR      r0,|L33.1028|
00004c  e0ab              B        |L33.422|
00004e  48ed              LDR      r0,|L33.1028|
000050  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
000052  e07f              B        |L33.340|
000054  49eb              LDR      r1,|L33.1028|
000056  4bec              LDR      r3,|L33.1032|
000058  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
00005a  f0200280          BIC      r2,r0,#0x80
00005e  708a              STRB     r2,[r1,#2]
000060  2200              MOVS     r2,#0
000062  701a              STRB     r2,[r3,#0]
000064  4ae9              LDR      r2,|L33.1036|
000066  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000068  3a15              SUBS     r2,r2,#0x15
00006a  2af1              CMP      r2,#0xf1
00006c  d272              BCS      |L33.340|
00006e  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000070  f0120f80          TST      r2,#0x80
000074  bf04              ITT      EQ
000076  f0220203          BICEQ    r2,r2,#3
00007a  700a              STRBEQ   r2,[r1,#0]
00007c  e06a              B        |L33.340|
00007e  49e4              LDR      r1,|L33.1040|
000080  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000084  5c88              LDRB     r0,[r1,r2]
000086  1c52              ADDS     r2,r2,#1
000088  f8812100          STRB     r2,[r1,#0x100]
00008c  e062              B        |L33.340|
00008e  49e1              LDR      r1,|L33.1044|
000090  880b              LDRH     r3,[r1,#0]  ; PPU_Mem
000092  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
000094  f4134270          ANDS     r2,r3,#0xf000
000098  bf04              ITT      EQ
00009a  684a              LDREQ    r2,[r1,#4]  ; PPU_Mem
00009c  5cd2              LDRBEQ   r2,[r2,r3]
00009e  d019              BEQ      |L33.212|
0000a0  f5b25f80          CMP      r2,#0x1000
0000a4  d011              BEQ      |L33.202|
0000a6  f5b25f00          CMP      r2,#0x2000
0000aa  d015              BEQ      |L33.216|
0000ac  f5b25f40          CMP      r2,#0x3000
0000b0  bf18              IT       NE
0000b2  2000              MOVNE    r0,#0
0000b4  d02f              BEQ      |L33.278|
                  |L33.182|
0000b6  4ad3              LDR      r2,|L33.1028|
0000b8  7812              LDRB     r2,[r2,#0]  ; PPU_Reg
0000ba  f0120f04          TST      r2,#4
0000be  bf14              ITE      NE
0000c0  f1030220          ADDNE    r2,r3,#0x20
0000c4  1c5a              ADDEQ    r2,r3,#1
0000c6  800a              STRH     r2,[r1,#0]
                  |L33.200|
0000c8  e044              B        |L33.340|
                  |L33.202|
0000ca  688a              LDR      r2,[r1,#8]  ; PPU_Mem
0000cc  f3c30c0b          UBFX     r12,r3,#0,#12
0000d0  f812200c          LDRB     r2,[r2,r12]
                  |L33.212|
0000d4  708a              STRB     r2,[r1,#2]
0000d6  e7ee              B        |L33.182|
                  |L33.216|
0000d8  f3c3020b          UBFX     r2,r3,#0,#12
0000dc  f5b26f40          CMP      r2,#0xc00
0000e0  bf84              ITT      HI
0000e2  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e6  f5a26240          SUBHI    r2,r2,#0xc00
0000ea  d810              BHI      |L33.270|
0000ec  f5b26f00          CMP      r2,#0x800
0000f0  bf84              ITT      HI
0000f2  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f6  f5a26200          SUBHI    r2,r2,#0x800
0000fa  d808              BHI      |L33.270|
0000fc  f5b26f80          CMP      r2,#0x400
000100  bf86              ITTE     HI
000102  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000106  f5a26280          SUBHI    r2,r2,#0x400
00010a  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L33.270|
00010e  f81c2002          LDRB     r2,[r12,r2]
000112  e7df              B        |L33.212|
                  |L33.276|
000114  e01d              B        |L33.338|
                  |L33.278|
000116  f6437210          MOV      r2,#0x3f10
00011a  4293              CMP      r3,r2
00011c  d305              BCC      |L33.298|
00011e  f003000f          AND      r0,r3,#0xf
000122  4408              ADD      r0,r0,r1
000124  f890002c          LDRB     r0,[r0,#0x2c]
000128  e7c5              B        |L33.182|
                  |L33.298|
00012a  f5b35f7c          CMP      r3,#0x3f00
00012e  d3c2              BCC      |L33.182|
000130  f003000f          AND      r0,r3,#0xf
000134  4408              ADD      r0,r0,r1
000136  7f00              LDRB     r0,[r0,#0x1c]
000138  e7bd              B        |L33.182|
00013a  f5a04180          SUB      r1,r0,#0x4000
00013e  3916              SUBS     r1,r1,#0x16
000140  bf08              IT       EQ
000142  2000              MOVEQ    r0,#0
000144  d01e              BEQ      |L33.388|
000146  f5a04180          SUB      r1,r0,#0x4000
00014a  3917              SUBS     r1,r1,#0x17
00014c  bf08              IT       EQ
00014e  2001              MOVEQ    r0,#1
000150  d018              BEQ      |L33.388|
                  |L33.338|
000152  0a20              LSRS     r0,r4,#8
                  |L33.340|
;;;415    	uint8_t value = cpu_getmemory(savepc);   
;;;416    	P= (P & 0xfe) | ((value >>7) & 0x01);   
000154  4da9              LDR      r5,|L33.1020|
000156  b2c0              UXTB     r0,r0                 ;415
000158  f4044270          AND      r2,r4,#0xf000         ;415
00015c  7969              LDRB     r1,[r5,#5]  ; P
00015e  1312              ASRS     r2,r2,#12
000160  f00101fe          AND      r1,r1,#0xfe
000164  ea4111d0          ORR      r1,r1,r0,LSR #7
;;;417    	value = value << 1;   
000168  0640              LSLS     r0,r0,#25
00016a  7169              STRB     r1,[r5,#5]            ;416
;;;418    	value |= saveflags;   
00016c  ea466010          ORR      r0,r6,r0,LSR #24
000170  2100              MOVS     r1,#0
000172  4606              MOV      r6,r0
000174  2a05              CMP      r2,#5
000176  f080815c          BCS.W    |L33.1074|
00017a  e8dff002          TBB      [pc,r2]
00017e  1616              DCB      0x16,0x16
000180  1c1cac00          DCB      0x1c,0x1c,0xac,0x00
                  |L33.388|
000184  f7fffffe          BL       joypad_read
000188  e7e4              B        |L33.340|
00018a  2000              MOVS     r0,#0
00018c  e7e2              B        |L33.340|
00018e  499b              LDR      r1,|L33.1020|
000190  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
000192  1908              ADDS     r0,r1,r4
000194  f5a04000          SUB      r0,r0,#0x8000
000198  7800              LDRB     r0,[r0,#0]
00019a  e7db              B        |L33.340|
00019c  4997              LDR      r1,|L33.1020|
00019e  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
0001a0  1908              ADDS     r0,r1,r4
0001a2  f5a04040          SUB      r0,r0,#0xc000
                  |L33.422|
0001a6  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001a8  e7d4              B        |L33.340|
0001aa  4a95              LDR      r2,|L33.1024|
0001ac  f3c4010a          UBFX     r1,r4,#0,#11
0001b0  5456              STRB     r6,[r2,r1]
0001b2  f000b93e          B.W      |L33.1074|
0001b6  f0040107          AND      r1,r4,#7
0001ba  2908              CMP      r1,#8
0001bc  f0808139          BCS.W    |L33.1074|
0001c0  e8dff001          TBB      [pc,r1]
0001c4  0408880c          DCB      0x04,0x08,0x88,0x0c
0001c8  111c2c37          DCB      0x11,0x1c,0x2c,0x37
0001cc  498d              LDR      r1,|L33.1028|
0001ce  700e              STRB     r6,[r1,#0]
0001d0  f000b92f          B.W      |L33.1074|
0001d4  498b              LDR      r1,|L33.1028|
0001d6  704e              STRB     r6,[r1,#1]
0001d8  f000b92b          B.W      |L33.1074|
0001dc  498c              LDR      r1,|L33.1040|
0001de  f8816100          STRB     r6,[r1,#0x100]
0001e2  f000b926          B.W      |L33.1074|
0001e6  498a              LDR      r1,|L33.1040|
0001e8  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0001ec  548e              STRB     r6,[r1,r2]
0001ee  f8910100          LDRB     r0,[r1,#0x100]  ; Spr_Mem
0001f2  1c40              ADDS     r0,r0,#1
0001f4  f8810100          STRB     r0,[r1,#0x100]
0001f8  f000b91b          B.W      |L33.1074|
0001fc  4982              LDR      r1,|L33.1032|
0001fe  780a              LDRB     r2,[r1,#0]  ; PPU_Latch_Flag
000200  2a00              CMP      r2,#0
000202  bf04              ITT      EQ
000204  4b84              LDREQ    r3,|L33.1048|
000206  701e              STRBEQ   r6,[r3,#0]
000208  d004              BEQ      |L33.532|
00020a  28ef              CMP      r0,#0xef
00020c  bf88              IT       HI
00020e  2000              MOVHI    r0,#0
000210  4b82              LDR      r3,|L33.1052|
000212  7018              STRB     r0,[r3,#0]
                  |L33.532|
000214  f0820001          EOR      r0,r2,#1
000218  f000b90a          B.W      |L33.1072|
00021c  497d              LDR      r1,|L33.1044|
00021e  780a              LDRB     r2,[r1,#0]  ; PPU_Mem
000220  eb062002          ADD      r0,r6,r2,LSL #8
000224  8008              STRH     r0,[r1,#0]
000226  4878              LDR      r0,|L33.1032|
000228  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
00022a  f0810101          EOR      r1,r1,#1
00022e  7001              STRB     r1,[r0,#0]
000230  e0ff              B        |L33.1074|
000232  4c78              LDR      r4,|L33.1044|
000234  8821              LDRH     r1,[r4,#0]  ; PPU_Mem
000236  f4114270          ANDS     r2,r1,#0xf000
00023a  bf18              IT       NE
00023c  f5b25f80          CMPNE    r2,#0x1000
000240  d03f              BEQ      |L33.706|
000242  f5b25f00          CMP      r2,#0x2000
000246  d003              BEQ      |L33.592|
000248  f5b25f40          CMP      r2,#0x3000
00024c  d019              BEQ      |L33.642|
00024e  e038              B        |L33.706|
                  |L33.592|
000250  f3c1010b          UBFX     r1,r1,#0,#12
000254  f5b16f40          CMP      r1,#0xc00
000258  bf84              ITT      HI
00025a  69a2              LDRHI    r2,[r4,#0x18]  ; PPU_Mem
00025c  f5a16140          SUBHI    r1,r1,#0xc00
000260  d80d              BHI      |L33.638|
000262  f5b16f00          CMP      r1,#0x800
000266  bf84              ITT      HI
000268  6962              LDRHI    r2,[r4,#0x14]  ; PPU_Mem
00026a  f5a16100          SUBHI    r1,r1,#0x800
00026e  d806              BHI      |L33.638|
000270  f5b16f80          CMP      r1,#0x400
000274  bf86              ITTE     HI
000276  6922              LDRHI    r2,[r4,#0x10]  ; PPU_Mem
000278  f5a16180          SUBHI    r1,r1,#0x400
00027c  68e2              LDRLS    r2,[r4,#0xc]  ; PPU_Mem
                  |L33.638|
00027e  5456              STRB     r6,[r2,r1]
000280  e01f              B        |L33.706|
                  |L33.642|
000282  f001021f          AND      r2,r1,#0x1f
000286  f001010f          AND      r1,r1,#0xf
00028a  2a0f              CMP      r2,#0xf
00028c  4421              ADD      r1,r1,r4
00028e  d915              BLS      |L33.700|
000290  f881002c          STRB     r0,[r1,#0x2c]
000294  7821              LDRB     r1,[r4,#0]  ; PPU_Mem
000296  f0110f03          TST      r1,#3
00029a  d112              BNE      |L33.706|
00029c  7720              STRB     r0,[r4,#0x1c]
00029e  f884002c          STRB     r0,[r4,#0x2c]
0002a2  f8840020          STRB     r0,[r4,#0x20]
0002a6  f8840030          STRB     r0,[r4,#0x30]
0002aa  f8840024          STRB     r0,[r4,#0x24]
0002ae  f8840034          STRB     r0,[r4,#0x34]
0002b2  f8840028          STRB     r0,[r4,#0x28]
0002b6  f8840038          STRB     r0,[r4,#0x38]
0002ba  e002              B        |L33.706|
                  |L33.700|
0002bc  770e              STRB     r6,[r1,#0x1c]
0002be  f7fffffe          BL       premap_palette
                  |L33.706|
0002c2  4850              LDR      r0,|L33.1028|
0002c4  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002c6  f0100f04          TST      r0,#4
0002ca  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
0002cc  bf14              ITE      NE
0002ce  3020              ADDNE    r0,r0,#0x20
0002d0  1c40              ADDEQ    r0,r0,#1
0002d2  8020              STRH     r0,[r4,#0]
0002d4  e0ad              B        |L33.1074|
0002d6  f5a44280          SUB      r2,r4,#0x4000
0002da  3a14              SUBS     r2,r2,#0x14
0002dc  d004              BEQ      |L33.744|
0002de  f5a44280          SUB      r2,r4,#0x4000
0002e2  3a16              SUBS     r2,r2,#0x16
0002e4  d03d              BEQ      |L33.866|
0002e6  e0a4              B        |L33.1074|
                  |L33.744|
0002e8  6a29              LDR      r1,[r5,#0x20]  ; cpu_clockticks
0002ea  0902              LSRS     r2,r0,#4
0002ec  f5a17100          SUB      r1,r1,#0x200
0002f0  6229              STR      r1,[r5,#0x20]  ; cpu_clockticks
0002f2  2100              MOVS     r1,#0
0002f4  2a10              CMP      r2,#0x10
0002f6  d218              BCS      |L33.810|
0002f8  e8dff002          TBB      [pc,r2]
0002fc  08081717          DCB      0x08,0x08,0x17,0x17
000300  17179b9b          DCB      0x17,0x17,0x9b,0x9b
000304  0c0c0c0c          DCB      0x0c,0x0c,0x0c,0x0c
000308  12121212          DCB      0x12,0x12,0x12,0x12
00030c  493c              LDR      r1,|L33.1024|
00030e  eb012106          ADD      r1,r1,r6,LSL #8
000312  e00a              B        |L33.810|
000314  69a9              LDR      r1,[r5,#0x18]  ; prg_rombank0
000316  eb012006          ADD      r0,r1,r6,LSL #8
00031a  f5a04100          SUB      r1,r0,#0x8000
00031e  e004              B        |L33.810|
000320  69e9              LDR      r1,[r5,#0x1c]  ; prg_rombank1
000322  eb012006          ADD      r0,r1,r6,LSL #8
000326  f5a04140          SUB      r1,r0,#0xc000
                  |L33.810|
00032a  4b39              LDR      r3,|L33.1040|
00032c  1a58              SUBS     r0,r3,r1
00032e  2800              CMP      r0,#0
000330  dd04              BLE      |L33.828|
000332  f5b07f80          CMP      r0,#0x100
000336  bfb8              IT       LT
000338  2000              MOVLT    r0,#0
00033a  db05              BLT      |L33.840|
                  |L33.828|
00033c  f44f7280          MOV      r2,#0x100
000340  4833              LDR      r0,|L33.1040|
000342  f7fffffe          BL       __aeabi_memmove
000346  e074              B        |L33.1074|
                  |L33.840|
000348  5c0a              LDRB     r2,[r1,r0]
00034a  541a              STRB     r2,[r3,r0]
00034c  180a              ADDS     r2,r1,r0
00034e  f892c001          LDRB     r12,[r2,#1]
000352  181a              ADDS     r2,r3,r0
000354  1c80              ADDS     r0,r0,#2
000356  f882c001          STRB     r12,[r2,#1]
00035a  f5b07f80          CMP      r0,#0x100
00035e  dbf3              BLT      |L33.840|
000360  e067              B        |L33.1074|
                  |L33.866|
000362  b3e8              CBZ      r0,|L33.992|
000364  4a2e              LDR      r2,|L33.1056|
000366  7011              STRB     r1,[r2,#0]
000368  492e              LDR      r1,|L33.1060|
00036a  6909              LDR      r1,[r1,#0x10]
00036c  43c9              MVNS     r1,r1
00036e  b28b              UXTH     r3,r1
000370  492d              LDR      r1,|L33.1064|
000372  880a              LDRH     r2,[r1,#0]  ; joys
000374  f5b26f40          CMP      r2,#0xc00
000378  bf94              ITE      LS
00037a  f04f0c00          MOVLS    r12,#0
00037e  f04f0c01          MOVHI    r12,#1
000382  ea43430c          ORR      r3,r3,r12,LSL #16
000386  f5b26f80          CMP      r2,#0x400
00038a  bf34              ITE      CC
00038c  2201              MOVCC    r2,#1
00038e  2200              MOVCS    r2,#0
000390  ea434342          ORR      r3,r3,r2,LSL #17
000394  884a              LDRH     r2,[r1,#2]  ; joys
000396  f5b26f40          CMP      r2,#0xc00
00039a  bf8c              ITE      HI
00039c  f04f0c01          MOVHI    r12,#1
0003a0  f04f0c00          MOVLS    r12,#0
0003a4  ea43438c          ORR      r3,r3,r12,LSL #18
0003a8  f5b26f80          CMP      r2,#0x400
0003ac  bf34              ITE      CC
0003ae  2201              MOVCC    r2,#1
0003b0  2200              MOVCS    r2,#0
0003b2  ea4342c2          ORR      r2,r3,r2,LSL #19
0003b6  88cb              LDRH     r3,[r1,#6]  ; joys
0003b8  f5b36f40          CMP      r3,#0xc00
0003bc  bf8c              ITE      HI
0003be  f04f0c01          MOVHI    r12,#1
0003c2  f04f0c00          MOVLS    r12,#0
0003c6  ea42520c          ORR      r2,r2,r12,LSL #20
0003ca  f5b36f80          CMP      r3,#0x400
0003ce  bf34              ITE      CC
0003d0  2301              MOVCC    r3,#1
0003d2  2300              MOVCS    r3,#0
0003d4  ea425243          ORR      r2,r2,r3,LSL #21
0003d8  8889              LDRH     r1,[r1,#4]  ; joys
0003da  f5b16f40          CMP      r1,#0xc00
0003de  e000              B        |L33.994|
                  |L33.992|
0003e0  e025              B        |L33.1070|
                  |L33.994|
0003e2  bf8c              ITE      HI
0003e4  2301              MOVHI    r3,#1
0003e6  2300              MOVLS    r3,#0
0003e8  ea425283          ORR      r2,r2,r3,LSL #22
0003ec  f5b16f80          CMP      r1,#0x400
0003f0  bf34              ITE      CC
0003f2  2101              MOVCC    r1,#1
0003f4  2100              MOVCS    r1,#0
0003f6  ea4251c1          ORR      r1,r2,r1,LSL #23
0003fa  e017              B        |L33.1068|
                  |L33.1020|
                          DCD      ||.data||
                  |L33.1024|
                          DCD      ||.bss||
                  |L33.1028|
                          DCD      PPU_Reg
                  |L33.1032|
                          DCD      PPU_Latch_Flag
                  |L33.1036|
                          DCD      PPU_scanline
                  |L33.1040|
                          DCD      Spr_Mem
                  |L33.1044|
                          DCD      PPU_Mem
                  |L33.1048|
                          DCD      PPU_BG_HScrlOrg
                  |L33.1052|
                          DCD      PPU_BG_VScrlOrg
                  |L33.1056|
                          DCD      ||.data||+0x9
                  |L33.1060|
                          DCD      0x40021000
                  |L33.1064|
                          DCD      joys
                  |L33.1068|
00042c  6169              STR      r1,[r5,#0x14]  ; joypad_state
                  |L33.1070|
00042e  490a              LDR      r1,|L33.1112|
                  |L33.1072|
000430  7008              STRB     r0,[r1,#0]
                  |L33.1074|
;;;419    	cpu_putmemory(savepc,value);   
;;;420    	if (value) P &= 0xfd; else P |= 0x02;   
000432  7968              LDRB     r0,[r5,#5]  ; P
000434  2e00              CMP      r6,#0
000436  bf14              ITE      NE
000438  f00000fd          ANDNE    r0,r0,#0xfd
00043c  f0400002          ORREQ    r0,r0,#2
000440  7168              STRB     r0,[r5,#5]
;;;421    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000442  f0160f80          TST      r6,#0x80
000446  b2c0              UXTB     r0,r0
000448  bf14              ITE      NE
00044a  f0400080          ORRNE    r0,r0,#0x80
00044e  f000007f          ANDEQ    r0,r0,#0x7f
000452  7168              STRB     r0,[r5,#5]
;;;422    }   
000454  bd70              POP      {r4-r6,pc}
;;;423    
                          ENDP

000456  0000              DCW      0x0000
                  |L33.1112|
                          DCD      ||.data||+0xb

                          AREA ||i.cpu_ror||, CODE, READONLY, ALIGN=2

                  cpu_ror PROC
;;;433    
;;;434    static inline void cpu_ror(CpuAdrMode adrmode)   
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;435    {   
;;;436    	int saveflags=(P & 0x01);   
000004  49fe              LDR      r1,|L34.1024|
000006  7949              LDRB     r1,[r1,#5]  ; P
000008  f0010601          AND      r6,r1,#1
;;;437    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
00000c  4780              BLX      r0
00000e  f4004170          AND      r1,r0,#0xf000
000012  1309              ASRS     r1,r1,#12
000014  4604              MOV      r4,r0
000016  2910              CMP      r1,#0x10
000018  d27c              BCS      |L34.276|
00001a  e8dff001          TBB      [pc,r1]
00001e  0808              DCB      0x08,0x08
000020  0d0d8eb9          DCB      0x0d,0x0d,0x8e,0xb9
000024  b9b9bbbb          DCB      0xb9,0xb9,0xbb,0xbb
000028  bbbbc2c2          DCB      0xbb,0xbb,0xc2,0xc2
00002c  c2c2              DCB      0xc2,0xc2
00002e  49f5              LDR      r1,|L34.1028|
000030  f3c4000a          UBFX     r0,r4,#0,#11
000034  5c08              LDRB     r0,[r1,r0]
000036  e08d              B        |L34.340|
000038  f0040007          AND      r0,r4,#7
00003c  2808              CMP      r0,#8
00003e  d243              BCS      |L34.200|
000040  e8dff000          TBB      [pc,r0]
000044  04060988          DCB      0x04,0x06,0x09,0x88
000048  1e888826          DCB      0x1e,0x88,0x88,0x26
00004c  48ee              LDR      r0,|L34.1032|
00004e  e0ad              B        |L34.428|
000050  48ed              LDR      r0,|L34.1032|
000052  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
000054  e07e              B        |L34.340|
000056  49ec              LDR      r1,|L34.1032|
000058  4bec              LDR      r3,|L34.1036|
00005a  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
00005c  f0200280          BIC      r2,r0,#0x80
000060  708a              STRB     r2,[r1,#2]
000062  2200              MOVS     r2,#0
000064  701a              STRB     r2,[r3,#0]
000066  4aea              LDR      r2,|L34.1040|
000068  6812              LDR      r2,[r2,#0]  ; PPU_scanline
00006a  3a15              SUBS     r2,r2,#0x15
00006c  2af1              CMP      r2,#0xf1
00006e  d271              BCS      |L34.340|
000070  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000072  f0120f80          TST      r2,#0x80
000076  bf04              ITT      EQ
000078  f0220203          BICEQ    r2,r2,#3
00007c  700a              STRBEQ   r2,[r1,#0]
00007e  e069              B        |L34.340|
000080  49e4              LDR      r1,|L34.1044|
000082  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000086  5c88              LDRB     r0,[r1,r2]
000088  1c52              ADDS     r2,r2,#1
00008a  f8812100          STRB     r2,[r1,#0x100]
00008e  e061              B        |L34.340|
000090  49e1              LDR      r1,|L34.1048|
000092  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
000094  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
000096  f4124370          ANDS     r3,r2,#0xf000
00009a  bf04              ITT      EQ
00009c  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
00009e  5c9b              LDRBEQ   r3,[r3,r2]
0000a0  d018              BEQ      |L34.212|
0000a2  f5b35f80          CMP      r3,#0x1000
0000a6  d010              BEQ      |L34.202|
0000a8  f5b35f00          CMP      r3,#0x2000
0000ac  d014              BEQ      |L34.216|
0000ae  f5b35f40          CMP      r3,#0x3000
0000b2  bf18              IT       NE
0000b4  2000              MOVNE    r0,#0
0000b6  d02e              BEQ      |L34.278|
                  |L34.184|
0000b8  4bd3              LDR      r3,|L34.1032|
0000ba  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000bc  f0130f04          TST      r3,#4
0000c0  bf14              ITE      NE
0000c2  3220              ADDNE    r2,r2,#0x20
0000c4  1c52              ADDEQ    r2,r2,#1
0000c6  800a              STRH     r2,[r1,#0]
                  |L34.200|
0000c8  e044              B        |L34.340|
                  |L34.202|
0000ca  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000cc  f3c20c0b          UBFX     r12,r2,#0,#12
0000d0  f813300c          LDRB     r3,[r3,r12]
                  |L34.212|
0000d4  708b              STRB     r3,[r1,#2]
0000d6  e7ef              B        |L34.184|
                  |L34.216|
0000d8  f3c2030b          UBFX     r3,r2,#0,#12
0000dc  f5b36f40          CMP      r3,#0xc00
0000e0  bf84              ITT      HI
0000e2  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e6  f5a36340          SUBHI    r3,r3,#0xc00
0000ea  d810              BHI      |L34.270|
0000ec  f5b36f00          CMP      r3,#0x800
0000f0  bf84              ITT      HI
0000f2  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f6  f5a36300          SUBHI    r3,r3,#0x800
0000fa  d808              BHI      |L34.270|
0000fc  f5b36f80          CMP      r3,#0x400
000100  bf86              ITTE     HI
000102  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000106  f5a36380          SUBHI    r3,r3,#0x400
00010a  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L34.270|
00010e  f81c3003          LDRB     r3,[r12,r3]
000112  e7df              B        |L34.212|
                  |L34.276|
000114  e01d              B        |L34.338|
                  |L34.278|
000116  f6437310          MOV      r3,#0x3f10
00011a  429a              CMP      r2,r3
00011c  d305              BCC      |L34.298|
00011e  f002000f          AND      r0,r2,#0xf
000122  4408              ADD      r0,r0,r1
000124  f890002c          LDRB     r0,[r0,#0x2c]
000128  e7c6              B        |L34.184|
                  |L34.298|
00012a  f5b25f7c          CMP      r2,#0x3f00
00012e  d3c3              BCC      |L34.184|
000130  f002000f          AND      r0,r2,#0xf
000134  4408              ADD      r0,r0,r1
000136  7f00              LDRB     r0,[r0,#0x1c]
000138  e7be              B        |L34.184|
00013a  f5a04180          SUB      r1,r0,#0x4000
00013e  3916              SUBS     r1,r1,#0x16
000140  bf08              IT       EQ
000142  2000              MOVEQ    r0,#0
000144  d021              BEQ      |L34.394|
000146  f5a04180          SUB      r1,r0,#0x4000
00014a  3917              SUBS     r1,r1,#0x17
00014c  bf08              IT       EQ
00014e  2001              MOVEQ    r0,#1
000150  d01b              BEQ      |L34.394|
                  |L34.338|
000152  0a20              LSRS     r0,r4,#8
                  |L34.340|
;;;438    	uint8_t value = cpu_getmemory(savepc);   
;;;439    
;;;440    	P= (P & 0xfe) | (value & 0x01);   
000154  4daa              LDR      r5,|L34.1024|
000156  b2c0              UXTB     r0,r0                 ;438
000158  f0000201          AND      r2,r0,#1
00015c  7969              LDRB     r1,[r5,#5]  ; P
;;;441    	value = value >>1;   
00015e  0847              LSRS     r7,r0,#1
000160  f00101fe          AND      r1,r1,#0xfe           ;440
000164  4311              ORRS     r1,r1,r2              ;440
000166  7169              STRB     r1,[r5,#5]            ;440
;;;442    	if (saveflags) value |= 0x80;   
000168  2e00              CMP      r6,#0
00016a  bf18              IT       NE
00016c  f0470780          ORRNE    r7,r7,#0x80
;;;443    	cpu_putmemory(savepc,value);   
000170  4638              MOV      r0,r7
000172  f4044170          AND      r1,r4,#0xf000
000176  2200              MOVS     r2,#0
000178  1309              ASRS     r1,r1,#12
00017a  2905              CMP      r1,#5
00017c  f080815b          BCS.W    |L34.1078|
000180  e8dff001          TBB      [pc,r1]
000184  16161c1c          DCB      0x16,0x16,0x1c,0x1c
000188  ac00              DCB      0xac,0x00
                  |L34.394|
00018a  f7fffffe          BL       joypad_read
00018e  e7e1              B        |L34.340|
000190  2000              MOVS     r0,#0
000192  e7df              B        |L34.340|
000194  499a              LDR      r1,|L34.1024|
000196  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
000198  1908              ADDS     r0,r1,r4
00019a  f5a04000          SUB      r0,r0,#0x8000
00019e  7800              LDRB     r0,[r0,#0]
0001a0  e7d8              B        |L34.340|
0001a2  4997              LDR      r1,|L34.1024|
0001a4  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
0001a6  1908              ADDS     r0,r1,r4
0001a8  f5a04040          SUB      r0,r0,#0xc000
                  |L34.428|
0001ac  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001ae  e7d1              B        |L34.340|
0001b0  4a94              LDR      r2,|L34.1028|
0001b2  f3c4010a          UBFX     r1,r4,#0,#11
0001b6  5457              STRB     r7,[r2,r1]
0001b8  f000b93d          B.W      |L34.1078|
0001bc  f0040107          AND      r1,r4,#7
0001c0  2908              CMP      r1,#8
0001c2  f0808138          BCS.W    |L34.1078|
0001c6  e8dff001          TBB      [pc,r1]
0001ca  0408              DCB      0x04,0x08
0001cc  880c111c          DCB      0x88,0x0c,0x11,0x1c
0001d0  2d37              DCB      0x2d,0x37
0001d2  498d              LDR      r1,|L34.1032|
0001d4  700f              STRB     r7,[r1,#0]
0001d6  f000b92e          B.W      |L34.1078|
0001da  498b              LDR      r1,|L34.1032|
0001dc  704f              STRB     r7,[r1,#1]
0001de  f000b92a          B.W      |L34.1078|
0001e2  498c              LDR      r1,|L34.1044|
0001e4  f8817100          STRB     r7,[r1,#0x100]
0001e8  f000b925          B.W      |L34.1078|
0001ec  4989              LDR      r1,|L34.1044|
0001ee  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0001f2  548f              STRB     r7,[r1,r2]
0001f4  f8910100          LDRB     r0,[r1,#0x100]  ; Spr_Mem
0001f8  1c40              ADDS     r0,r0,#1
0001fa  f8810100          STRB     r0,[r1,#0x100]
0001fe  f000b91a          B.W      |L34.1078|
000202  4982              LDR      r1,|L34.1036|
000204  780a              LDRB     r2,[r1,#0]  ; PPU_Latch_Flag
000206  2a00              CMP      r2,#0
000208  bf04              ITT      EQ
00020a  4b84              LDREQ    r3,|L34.1052|
00020c  701f              STRBEQ   r7,[r3,#0]
00020e  d004              BEQ      |L34.538|
000210  28ef              CMP      r0,#0xef
000212  bf88              IT       HI
000214  2000              MOVHI    r0,#0
000216  4b82              LDR      r3,|L34.1056|
000218  7018              STRB     r0,[r3,#0]
                  |L34.538|
00021a  f0820001          EOR      r0,r2,#1
00021e  7008              STRB     r0,[r1,#0]
000220  f000b909          B.W      |L34.1078|
000224  497c              LDR      r1,|L34.1048|
000226  780a              LDRB     r2,[r1,#0]  ; PPU_Mem
000228  eb072002          ADD      r0,r7,r2,LSL #8
00022c  8008              STRH     r0,[r1,#0]
00022e  4877              LDR      r0,|L34.1036|
000230  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000232  f0810101          EOR      r1,r1,#1
000236  e0fd              B        |L34.1076|
000238  4c77              LDR      r4,|L34.1048|
00023a  8821              LDRH     r1,[r4,#0]  ; PPU_Mem
00023c  f4114270          ANDS     r2,r1,#0xf000
000240  bf18              IT       NE
000242  f5b25f80          CMPNE    r2,#0x1000
000246  d03f              BEQ      |L34.712|
000248  f5b25f00          CMP      r2,#0x2000
00024c  d003              BEQ      |L34.598|
00024e  f5b25f40          CMP      r2,#0x3000
000252  d019              BEQ      |L34.648|
000254  e038              B        |L34.712|
                  |L34.598|
000256  f3c1010b          UBFX     r1,r1,#0,#12
00025a  f5b16f40          CMP      r1,#0xc00
00025e  bf84              ITT      HI
000260  69a2              LDRHI    r2,[r4,#0x18]  ; PPU_Mem
000262  f5a16140          SUBHI    r1,r1,#0xc00
000266  d80d              BHI      |L34.644|
000268  f5b16f00          CMP      r1,#0x800
00026c  bf84              ITT      HI
00026e  6962              LDRHI    r2,[r4,#0x14]  ; PPU_Mem
000270  f5a16100          SUBHI    r1,r1,#0x800
000274  d806              BHI      |L34.644|
000276  f5b16f80          CMP      r1,#0x400
00027a  bf86              ITTE     HI
00027c  6922              LDRHI    r2,[r4,#0x10]  ; PPU_Mem
00027e  f5a16180          SUBHI    r1,r1,#0x400
000282  68e2              LDRLS    r2,[r4,#0xc]  ; PPU_Mem
                  |L34.644|
000284  5457              STRB     r7,[r2,r1]
000286  e01f              B        |L34.712|
                  |L34.648|
000288  f001021f          AND      r2,r1,#0x1f
00028c  f001010f          AND      r1,r1,#0xf
000290  2a0f              CMP      r2,#0xf
000292  4421              ADD      r1,r1,r4
000294  d915              BLS      |L34.706|
000296  f881002c          STRB     r0,[r1,#0x2c]
00029a  7821              LDRB     r1,[r4,#0]  ; PPU_Mem
00029c  f0110f03          TST      r1,#3
0002a0  d112              BNE      |L34.712|
0002a2  7720              STRB     r0,[r4,#0x1c]
0002a4  f884002c          STRB     r0,[r4,#0x2c]
0002a8  f8840020          STRB     r0,[r4,#0x20]
0002ac  f8840030          STRB     r0,[r4,#0x30]
0002b0  f8840024          STRB     r0,[r4,#0x24]
0002b4  f8840034          STRB     r0,[r4,#0x34]
0002b8  f8840028          STRB     r0,[r4,#0x28]
0002bc  f8840038          STRB     r0,[r4,#0x38]
0002c0  e002              B        |L34.712|
                  |L34.706|
0002c2  770f              STRB     r7,[r1,#0x1c]
0002c4  f7fffffe          BL       premap_palette
                  |L34.712|
0002c8  484f              LDR      r0,|L34.1032|
0002ca  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002cc  f0100f04          TST      r0,#4
0002d0  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
0002d2  bf14              ITE      NE
0002d4  3020              ADDNE    r0,r0,#0x20
0002d6  1c40              ADDEQ    r0,r0,#1
0002d8  8020              STRH     r0,[r4,#0]
0002da  e0ac              B        |L34.1078|
0002dc  f5a44180          SUB      r1,r4,#0x4000
0002e0  3914              SUBS     r1,r1,#0x14
0002e2  d004              BEQ      |L34.750|
0002e4  f5a44180          SUB      r1,r4,#0x4000
0002e8  3916              SUBS     r1,r1,#0x16
0002ea  d03d              BEQ      |L34.872|
0002ec  e0a3              B        |L34.1078|
                  |L34.750|
0002ee  6a29              LDR      r1,[r5,#0x20]  ; cpu_clockticks
0002f0  0902              LSRS     r2,r0,#4
0002f2  f5a17100          SUB      r1,r1,#0x200
0002f6  6229              STR      r1,[r5,#0x20]  ; cpu_clockticks
0002f8  2100              MOVS     r1,#0
0002fa  2a10              CMP      r2,#0x10
0002fc  d218              BCS      |L34.816|
0002fe  e8dff002          TBB      [pc,r2]
000302  0808              DCB      0x08,0x08
000304  17171717          DCB      0x17,0x17,0x17,0x17
000308  9a9a0c0c          DCB      0x9a,0x9a,0x0c,0x0c
00030c  0c0c1212          DCB      0x0c,0x0c,0x12,0x12
000310  1212              DCB      0x12,0x12
000312  493c              LDR      r1,|L34.1028|
000314  eb012107          ADD      r1,r1,r7,LSL #8
000318  e00a              B        |L34.816|
00031a  69a9              LDR      r1,[r5,#0x18]  ; prg_rombank0
00031c  eb012007          ADD      r0,r1,r7,LSL #8
000320  f5a04100          SUB      r1,r0,#0x8000
000324  e004              B        |L34.816|
000326  69e9              LDR      r1,[r5,#0x1c]  ; prg_rombank1
000328  eb012007          ADD      r0,r1,r7,LSL #8
00032c  f5a04140          SUB      r1,r0,#0xc000
                  |L34.816|
000330  4a38              LDR      r2,|L34.1044|
000332  1a50              SUBS     r0,r2,r1
000334  2800              CMP      r0,#0
000336  dd04              BLE      |L34.834|
000338  f5b07f80          CMP      r0,#0x100
00033c  bfb8              IT       LT
00033e  2000              MOVLT    r0,#0
000340  db05              BLT      |L34.846|
                  |L34.834|
000342  f44f7280          MOV      r2,#0x100
000346  4833              LDR      r0,|L34.1044|
000348  f7fffffe          BL       __aeabi_memmove
00034c  e073              B        |L34.1078|
                  |L34.846|
00034e  5c0b              LDRB     r3,[r1,r0]
000350  5413              STRB     r3,[r2,r0]
000352  180b              ADDS     r3,r1,r0
000354  eb020c00          ADD      r12,r2,r0
000358  785b              LDRB     r3,[r3,#1]
00035a  1c80              ADDS     r0,r0,#2
00035c  f88c3001          STRB     r3,[r12,#1]
000360  f5b07f80          CMP      r0,#0x100
000364  dbf3              BLT      |L34.846|
000366  e066              B        |L34.1078|
                  |L34.872|
000368  0039              MOVS     r1,r7
00036a  d062              BEQ      |L34.1074|
00036c  482d              LDR      r0,|L34.1060|
00036e  7002              STRB     r2,[r0,#0]
000370  482d              LDR      r0,|L34.1064|
000372  6900              LDR      r0,[r0,#0x10]
000374  43c0              MVNS     r0,r0
000376  b282              UXTH     r2,r0
000378  482c              LDR      r0,|L34.1068|
00037a  8803              LDRH     r3,[r0,#0]  ; joys
00037c  f5b36f40          CMP      r3,#0xc00
000380  bf94              ITE      LS
000382  f04f0c00          MOVLS    r12,#0
000386  f04f0c01          MOVHI    r12,#1
00038a  ea42420c          ORR      r2,r2,r12,LSL #16
00038e  f5b36f80          CMP      r3,#0x400
000392  bf34              ITE      CC
000394  2301              MOVCC    r3,#1
000396  2300              MOVCS    r3,#0
000398  ea424343          ORR      r3,r2,r3,LSL #17
00039c  8842              LDRH     r2,[r0,#2]  ; joys
00039e  f5b26f40          CMP      r2,#0xc00
0003a2  bf8c              ITE      HI
0003a4  f04f0c01          MOVHI    r12,#1
0003a8  f04f0c00          MOVLS    r12,#0
0003ac  ea43438c          ORR      r3,r3,r12,LSL #18
0003b0  f5b26f80          CMP      r2,#0x400
0003b4  bf34              ITE      CC
0003b6  2201              MOVCC    r2,#1
0003b8  2200              MOVCS    r2,#0
0003ba  ea4343c2          ORR      r3,r3,r2,LSL #19
0003be  88c2              LDRH     r2,[r0,#6]  ; joys
0003c0  f5b26f40          CMP      r2,#0xc00
0003c4  bf8c              ITE      HI
0003c6  f04f0c01          MOVHI    r12,#1
0003ca  f04f0c00          MOVLS    r12,#0
0003ce  ea43530c          ORR      r3,r3,r12,LSL #20
0003d2  f5b26f80          CMP      r2,#0x400
0003d6  bf34              ITE      CC
0003d8  2201              MOVCC    r2,#1
0003da  2200              MOVCS    r2,#0
0003dc  ea435242          ORR      r2,r3,r2,LSL #21
0003e0  8880              LDRH     r0,[r0,#4]  ; joys
0003e2  f5b06f40          CMP      r0,#0xc00
0003e6  bf8c              ITE      HI
0003e8  2301              MOVHI    r3,#1
0003ea  2300              MOVLS    r3,#0
0003ec  ea425283          ORR      r2,r2,r3,LSL #22
0003f0  f5b06f80          CMP      r0,#0x400
0003f4  bf34              ITE      CC
0003f6  2001              MOVCC    r0,#1
0003f8  2000              MOVCS    r0,#0
0003fa  ea4250c0          ORR      r0,r2,r0,LSL #23
0003fe  e017              B        |L34.1072|
                  |L34.1024|
                          DCD      ||.data||
                  |L34.1028|
                          DCD      ||.bss||
                  |L34.1032|
                          DCD      PPU_Reg
                  |L34.1036|
                          DCD      PPU_Latch_Flag
                  |L34.1040|
                          DCD      PPU_scanline
                  |L34.1044|
                          DCD      Spr_Mem
                  |L34.1048|
                          DCD      PPU_Mem
                  |L34.1052|
                          DCD      PPU_BG_HScrlOrg
                  |L34.1056|
                          DCD      PPU_BG_VScrlOrg
                  |L34.1060|
                          DCD      ||.data||+0x9
                  |L34.1064|
                          DCD      0x40021000
                  |L34.1068|
                          DCD      joys
                  |L34.1072|
000430  6168              STR      r0,[r5,#0x14]  ; joypad_state
                  |L34.1074|
000432  480a              LDR      r0,|L34.1116|
                  |L34.1076|
000434  7001              STRB     r1,[r0,#0]
                  |L34.1078|
;;;444    	if (value) P &= 0xfd; else P |= 0x02;   
000436  7968              LDRB     r0,[r5,#5]  ; P
000438  2f00              CMP      r7,#0
00043a  bf14              ITE      NE
00043c  f00000fd          ANDNE    r0,r0,#0xfd
000440  f0400002          ORREQ    r0,r0,#2
000444  7168              STRB     r0,[r5,#5]
;;;445    	if (value & 0x80) P |= 0x80; else P &= 0x7f;   
000446  f0170f80          TST      r7,#0x80
00044a  b2c0              UXTB     r0,r0
00044c  bf14              ITE      NE
00044e  f0400080          ORRNE    r0,r0,#0x80
000452  f000007f          ANDEQ    r0,r0,#0x7f
000456  7168              STRB     r0,[r5,#5]
;;;446    }   
000458  e8bd81f0          POP      {r4-r8,pc}
;;;447    
                          ENDP

                  |L34.1116|
                          DCD      ||.data||+0xb

                          AREA ||i.cpu_sbc||, CODE, READONLY, ALIGN=2

                  cpu_sbc PROC
;;;475    
;;;476    static inline void cpu_sbc(CpuAdrMode adrmode)   
000000  b510              PUSH     {r4,lr}
;;;477    {   
;;;478    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  1309              ASRS     r1,r1,#12
00000a  4c80              LDR      r4,|L35.524|
00000c  2910              CMP      r1,#0x10
00000e  d27d              BCS      |L35.268|
000010  e8dff001          TBB      [pc,r1]
000014  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000018  8fd7d7d7          DCB      0x8f,0xd7,0xd7,0xd7
00001c  d9d9d9d9          DCB      0xd9,0xd9,0xd9,0xd9
000020  dfdfdfdf          DCB      0xdf,0xdf,0xdf,0xdf
000024  497a              LDR      r1,|L35.528|
000026  f3c0000a          UBFX     r0,r0,#0,#11
00002a  5c08              LDRB     r0,[r1,r0]
00002c  e08e              B        |L35.332|
00002e  f0000007          AND      r0,r0,#7
000032  2808              CMP      r0,#8
000034  d244              BCS      |L35.192|
000036  e8dff000          TBB      [pc,r0]
00003a  0407              DCB      0x04,0x07
00003c  0a891f89          DCB      0x0a,0x89,0x1f,0x89
000040  8927              DCB      0x89,0x27
000042  4874              LDR      r0,|L35.532|
000044  f000b8c9          B.W      |L35.474|
000048  4872              LDR      r0,|L35.532|
00004a  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004c  e07e              B        |L35.332|
00004e  4971              LDR      r1,|L35.532|
000050  4b71              LDR      r3,|L35.536|
000052  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000054  f0200280          BIC      r2,r0,#0x80
000058  708a              STRB     r2,[r1,#2]
00005a  2200              MOVS     r2,#0
00005c  701a              STRB     r2,[r3,#0]
00005e  4a6f              LDR      r2,|L35.540|
000060  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000062  3a15              SUBS     r2,r2,#0x15
000064  2af1              CMP      r2,#0xf1
000066  d271              BCS      |L35.332|
000068  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006a  f0120f80          TST      r2,#0x80
00006e  bf04              ITT      EQ
000070  f0220203          BICEQ    r2,r2,#3
000074  700a              STRBEQ   r2,[r1,#0]
000076  e069              B        |L35.332|
000078  4969              LDR      r1,|L35.544|
00007a  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00007e  5c88              LDRB     r0,[r1,r2]
000080  1c52              ADDS     r2,r2,#1
000082  f8812100          STRB     r2,[r1,#0x100]
000086  e061              B        |L35.332|
000088  4966              LDR      r1,|L35.548|
00008a  880a              LDRH     r2,[r1,#0]  ; PPU_Mem
00008c  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
00008e  f4124370          ANDS     r3,r2,#0xf000
000092  bf04              ITT      EQ
000094  684b              LDREQ    r3,[r1,#4]  ; PPU_Mem
000096  5c9b              LDRBEQ   r3,[r3,r2]
000098  d018              BEQ      |L35.204|
00009a  f5b35f80          CMP      r3,#0x1000
00009e  d010              BEQ      |L35.194|
0000a0  f5b35f00          CMP      r3,#0x2000
0000a4  d014              BEQ      |L35.208|
0000a6  f5b35f40          CMP      r3,#0x3000
0000aa  bf18              IT       NE
0000ac  2000              MOVNE    r0,#0
0000ae  d02e              BEQ      |L35.270|
                  |L35.176|
0000b0  4b58              LDR      r3,|L35.532|
0000b2  781b              LDRB     r3,[r3,#0]  ; PPU_Reg
0000b4  f0130f04          TST      r3,#4
0000b8  bf14              ITE      NE
0000ba  3220              ADDNE    r2,r2,#0x20
0000bc  1c52              ADDEQ    r2,r2,#1
0000be  800a              STRH     r2,[r1,#0]
                  |L35.192|
0000c0  e044              B        |L35.332|
                  |L35.194|
0000c2  688b              LDR      r3,[r1,#8]  ; PPU_Mem
0000c4  f3c20c0b          UBFX     r12,r2,#0,#12
0000c8  f813300c          LDRB     r3,[r3,r12]
                  |L35.204|
0000cc  708b              STRB     r3,[r1,#2]
0000ce  e7ef              B        |L35.176|
                  |L35.208|
0000d0  f3c2030b          UBFX     r3,r2,#0,#12
0000d4  f5b36f40          CMP      r3,#0xc00
0000d8  bf84              ITT      HI
0000da  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000de  f5a36340          SUBHI    r3,r3,#0xc00
0000e2  d810              BHI      |L35.262|
0000e4  f5b36f00          CMP      r3,#0x800
0000e8  bf84              ITT      HI
0000ea  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000ee  f5a36300          SUBHI    r3,r3,#0x800
0000f2  d808              BHI      |L35.262|
0000f4  f5b36f80          CMP      r3,#0x400
0000f8  bf86              ITTE     HI
0000fa  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
0000fe  f5a36380          SUBHI    r3,r3,#0x400
000102  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L35.262|
000106  f81c3003          LDRB     r3,[r12,r3]
00010a  e7df              B        |L35.204|
                  |L35.268|
00010c  e01d              B        |L35.330|
                  |L35.270|
00010e  f6437310          MOV      r3,#0x3f10
000112  429a              CMP      r2,r3
000114  d305              BCC      |L35.290|
000116  f002000f          AND      r0,r2,#0xf
00011a  4408              ADD      r0,r0,r1
00011c  f890002c          LDRB     r0,[r0,#0x2c]
000120  e7c6              B        |L35.176|
                  |L35.290|
000122  f5b25f7c          CMP      r2,#0x3f00
000126  d3c3              BCC      |L35.176|
000128  f002000f          AND      r0,r2,#0xf
00012c  4408              ADD      r0,r0,r1
00012e  7f00              LDRB     r0,[r0,#0x1c]
000130  e7be              B        |L35.176|
000132  f5a04180          SUB      r1,r0,#0x4000
000136  3916              SUBS     r1,r1,#0x16
000138  bf08              IT       EQ
00013a  2000              MOVEQ    r0,#0
00013c  d03e              BEQ      |L35.444|
00013e  f5a04180          SUB      r1,r0,#0x4000
000142  3917              SUBS     r1,r1,#0x17
000144  bf08              IT       EQ
000146  2001              MOVEQ    r0,#1
000148  d038              BEQ      |L35.444|
                  |L35.330|
00014a  0a00              LSRS     r0,r0,#8
                  |L35.332|
;;;479    	uint8_t value = cpu_getmemory(savepc) ^ 0xFF;   
00014c  43c0              MVNS     r0,r0
00014e  b2c2              UXTB     r2,r0
;;;480    
;;;481    	int saveflags=(P & 0x01);   
000150  7960              LDRB     r0,[r4,#5]  ; P
;;;482    	int sum= ((char) A) + ((char) value) + (saveflags << 4);   
000152  78a3              LDRB     r3,[r4,#2]  ; A
000154  f0000101          AND      r1,r0,#1              ;481
000158  441a              ADD      r2,r2,r3
00015a  eb021301          ADD      r3,r2,r1,LSL #4
00015e  3380              ADDS     r3,r3,#0x80
;;;483    	if ((sum>0x7f) || (sum<-0x80)) P |= 0x40; else P &= 0xbf;   
000160  f5b37f80          CMP      r3,#0x100
000164  bf2c              ITE      CS
000166  f0400040          ORRCS    r0,r0,#0x40
00016a  f00000bf          ANDCC    r0,r0,#0xbf
00016e  7160              STRB     r0,[r4,#5]
;;;484    	sum= A + value + saveflags;   
000170  1850              ADDS     r0,r2,r1
;;;485    	if (sum>0xff) P |= 0x01; else P &= 0xfe;   
000172  7961              LDRB     r1,[r4,#5]  ; P
000174  28ff              CMP      r0,#0xff
000176  bfcc              ITE      GT
000178  f0410101          ORRGT    r1,r1,#1
00017c  f00101fe          ANDLE    r1,r1,#0xfe
000180  7161              STRB     r1,[r4,#5]
;;;486    	A=sum;   
000182  b2c0              UXTB     r0,r0
;;;487    	if (P & 0x08)   
000184  b2c9              UXTB     r1,r1
000186  70a0              STRB     r0,[r4,#2]            ;486
000188  f0110f08          TST      r1,#8
00018c  d027              BEQ      |L35.478|
00018e  3866              SUBS     r0,r0,#0x66           ;483
;;;488    	{   
;;;489    		A -= 0x66;     
000190  b2c0              UXTB     r0,r0
000192  70a0              STRB     r0,[r4,#2]
;;;490    		P &= 0xfe;   
000194  f00101fe          AND      r1,r1,#0xfe
;;;491    		if ((A & 0x0f)>0x09)   
000198  f000020f          AND      r2,r0,#0xf
00019c  7161              STRB     r1,[r4,#5]            ;490
00019e  2a09              CMP      r2,#9
0001a0  bf84              ITT      HI
0001a2  1d80              ADDHI    r0,r0,#6
;;;492    			A += 0x06;   
0001a4  70a0              STRBHI   r0,[r4,#2]
;;;493    		if ((A & 0xf0)>0x90)   
0001a6  b2c0              UXTB     r0,r0
0001a8  f00002f0          AND      r2,r0,#0xf0
0001ac  2a90              CMP      r2,#0x90
0001ae  d919              BLS      |L35.484|
0001b0  3060              ADDS     r0,r0,#0x60           ;491
;;;494    		{   
;;;495    			A += 0x60;   
0001b2  70a0              STRB     r0,[r4,#2]
;;;496    			P |= 0x01;   
0001b4  f0410001          ORR      r0,r1,#1
0001b8  7160              STRB     r0,[r4,#5]
0001ba  e013              B        |L35.484|
                  |L35.444|
0001bc  f7fffffe          BL       joypad_read
0001c0  e7c4              B        |L35.332|
0001c2  2000              MOVS     r0,#0
0001c4  e7c2              B        |L35.332|
0001c6  69a1              LDR      r1,[r4,#0x18]  ; prg_rombank0
0001c8  4408              ADD      r0,r0,r1
0001ca  f5a04000          SUB      r0,r0,#0x8000
0001ce  7800              LDRB     r0,[r0,#0]
0001d0  e7bc              B        |L35.332|
0001d2  69e1              LDR      r1,[r4,#0x1c]  ; prg_rombank1
0001d4  4408              ADD      r0,r0,r1
0001d6  f5a04040          SUB      r0,r0,#0xc000
                  |L35.474|
0001da  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0001dc  e7b6              B        |L35.332|
                  |L35.478|
;;;497    		}   
;;;498    	}   
;;;499    	else   
;;;500    	{   
;;;501    		cpu_clockticks++;   
0001de  6a20              LDR      r0,[r4,#0x20]  ; cpu_clockticks
0001e0  1c40              ADDS     r0,r0,#1
0001e2  6220              STR      r0,[r4,#0x20]  ; cpu_clockticks
                  |L35.484|
;;;502    	}   
;;;503    	if (A) P &= 0xfd; else P |= 0x02;   
0001e4  78a0              LDRB     r0,[r4,#2]  ; A
0001e6  7961              LDRB     r1,[r4,#5]  ; P
0001e8  2800              CMP      r0,#0
0001ea  bf14              ITE      NE
0001ec  f00101fd          ANDNE    r1,r1,#0xfd
0001f0  f0410102          ORREQ    r1,r1,#2
0001f4  7161              STRB     r1,[r4,#5]
;;;504    	if (A & 0x80) P |= 0x80; else P &= 0x7f;   
0001f6  f0100f80          TST      r0,#0x80
0001fa  b2c8              UXTB     r0,r1
0001fc  bf14              ITE      NE
0001fe  f0400080          ORRNE    r0,r0,#0x80
000202  f000007f          ANDEQ    r0,r0,#0x7f
000206  7160              STRB     r0,[r4,#5]
;;;505    }   
000208  bd10              POP      {r4,pc}
;;;506    
                          ENDP

00020a  0000              DCW      0x0000
                  |L35.524|
                          DCD      ||.data||
                  |L35.528|
                          DCD      ||.bss||
                  |L35.532|
                          DCD      PPU_Reg
                  |L35.536|
                          DCD      PPU_Latch_Flag
                  |L35.540|
                          DCD      PPU_scanline
                  |L35.544|
                          DCD      Spr_Mem
                  |L35.548|
                          DCD      PPU_Mem

                          AREA ||i.cpu_sta||, CODE, READONLY, ALIGN=2

                  cpu_sta PROC
;;;521    
;;;522    static inline void cpu_sta(CpuAdrMode adrmode)   
000000  b570              PUSH     {r4-r6,lr}
;;;523    {   
;;;524    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
;;;525    	cpu_putmemory(savepc,A);   
000004  f8dfc25c          LDR      r12,|L36.612|
000008  f4004370          AND      r3,r0,#0xf000
00000c  131d              ASRS     r5,r3,#12
00000e  f89c2002          LDRB     r2,[r12,#2]  ; A
000012  2100              MOVS     r1,#0
000014  4c94              LDR      r4,|L36.616|
000016  4b95              LDR      r3,|L36.620|
000018  2d05              CMP      r5,#5
;;;526    }   
00001a  bf28              IT       CS
00001c  bd70              POPCS    {r4-r6,pc}
00001e  e8dff005          TBB      [pc,r5]
000022  0303              DCB      0x03,0x03
000024  07078d00          DCB      0x07,0x07,0x8d,0x00
000028  f3c0000a          UBFX     r0,r0,#0,#11
00002c  5422              STRB     r2,[r4,r0]
                  |L36.46|
00002e  bd70              POP      {r4-r6,pc}
000030  f0000107          AND      r1,r0,#7
000034  4d8e              LDR      r5,|L36.624|
000036  488f              LDR      r0,|L36.628|
000038  4c8f              LDR      r4,|L36.632|
00003a  2908              CMP      r1,#8
00003c  bf28              IT       CS
00003e  bd70              POPCS    {r4-r6,pc}
000040  e8dff001          TBB      [pc,r1]
000044  05070409          DCB      0x05,0x07,0x04,0x09
000048  0c15232c          DCB      0x0c,0x15,0x23,0x2c
00004c  e7ef              B        |L36.46|
00004e  702a              STRB     r2,[r5,#0]
000050  bd70              POP      {r4-r6,pc}
000052  706a              STRB     r2,[r5,#1]
000054  bd70              POP      {r4-r6,pc}
000056  f8832100          STRB     r2,[r3,#0x100]
00005a  bd70              POP      {r4-r6,pc}
00005c  f8930100          LDRB     r0,[r3,#0x100]  ; Spr_Mem
000060  541a              STRB     r2,[r3,r0]
000062  f8930100          LDRB     r0,[r3,#0x100]  ; Spr_Mem
000066  1c40              ADDS     r0,r0,#1
000068  f8830100          STRB     r0,[r3,#0x100]
00006c  bd70              POP      {r4-r6,pc}
00006e  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000070  2900              CMP      r1,#0
000072  bf08              IT       EQ
000074  4b81              LDREQ    r3,|L36.636|
000076  d003              BEQ      |L36.128|
000078  2aef              CMP      r2,#0xef
00007a  bf88              IT       HI
00007c  2200              MOVHI    r2,#0
00007e  4b80              LDR      r3,|L36.640|
                  |L36.128|
000080  f0810101          EOR      r1,r1,#1
000084  701a              STRB     r2,[r3,#0]
000086  7001              STRB     r1,[r0,#0]
000088  bd70              POP      {r4-r6,pc}
00008a  7821              LDRB     r1,[r4,#0]  ; PPU_Mem
00008c  eb022101          ADD      r1,r2,r1,LSL #8
000090  8021              STRH     r1,[r4,#0]
000092  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000094  f0810101          EOR      r1,r1,#1
000098  7001              STRB     r1,[r0,#0]
00009a  bd70              POP      {r4-r6,pc}
00009c  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
00009e  f4104170          ANDS     r1,r0,#0xf000
0000a2  bf18              IT       NE
0000a4  f5b15f80          CMPNE    r1,#0x1000
0000a8  d03f              BEQ      |L36.298|
0000aa  f5b15f00          CMP      r1,#0x2000
0000ae  d003              BEQ      |L36.184|
0000b0  f5b15f40          CMP      r1,#0x3000
0000b4  d019              BEQ      |L36.234|
0000b6  e038              B        |L36.298|
                  |L36.184|
0000b8  f3c0000b          UBFX     r0,r0,#0,#12
0000bc  f5b06f40          CMP      r0,#0xc00
0000c0  bf84              ITT      HI
0000c2  69a1              LDRHI    r1,[r4,#0x18]  ; PPU_Mem
0000c4  f5a06040          SUBHI    r0,r0,#0xc00
0000c8  d80d              BHI      |L36.230|
0000ca  f5b06f00          CMP      r0,#0x800
0000ce  bf84              ITT      HI
0000d0  6961              LDRHI    r1,[r4,#0x14]  ; PPU_Mem
0000d2  f5a06000          SUBHI    r0,r0,#0x800
0000d6  d806              BHI      |L36.230|
0000d8  f5b06f80          CMP      r0,#0x400
0000dc  bf86              ITTE     HI
0000de  6921              LDRHI    r1,[r4,#0x10]  ; PPU_Mem
0000e0  f5a06080          SUBHI    r0,r0,#0x400
0000e4  68e1              LDRLS    r1,[r4,#0xc]  ; PPU_Mem
                  |L36.230|
0000e6  540a              STRB     r2,[r1,r0]
0000e8  e01f              B        |L36.298|
                  |L36.234|
0000ea  f000011f          AND      r1,r0,#0x1f
0000ee  f000000f          AND      r0,r0,#0xf
0000f2  290f              CMP      r1,#0xf
0000f4  4420              ADD      r0,r0,r4
0000f6  d915              BLS      |L36.292|
0000f8  f880202c          STRB     r2,[r0,#0x2c]
0000fc  7820              LDRB     r0,[r4,#0]  ; PPU_Mem
0000fe  f0100f03          TST      r0,#3
000102  d112              BNE      |L36.298|
000104  7722              STRB     r2,[r4,#0x1c]
000106  f884202c          STRB     r2,[r4,#0x2c]
00010a  f8842020          STRB     r2,[r4,#0x20]
00010e  f8842030          STRB     r2,[r4,#0x30]
000112  f8842024          STRB     r2,[r4,#0x24]
000116  f8842034          STRB     r2,[r4,#0x34]
00011a  f8842028          STRB     r2,[r4,#0x28]
00011e  f8842038          STRB     r2,[r4,#0x38]
000122  e002              B        |L36.298|
                  |L36.292|
000124  7702              STRB     r2,[r0,#0x1c]
000126  f7fffffe          BL       premap_palette
                  |L36.298|
00012a  7828              LDRB     r0,[r5,#0]  ; PPU_Reg
00012c  f0100f04          TST      r0,#4
000130  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
000132  bf14              ITE      NE
000134  3020              ADDNE    r0,r0,#0x20
000136  1c40              ADDEQ    r0,r0,#1
000138  8020              STRH     r0,[r4,#0]
00013a  bd70              POP      {r4-r6,pc}
00013c  f5a04580          SUB      r5,r0,#0x4000
000140  3d14              SUBS     r5,r5,#0x14
000142  d04e              BEQ      |L36.482|
000144  f5a04380          SUB      r3,r0,#0x4000
000148  3b16              SUBS     r3,r3,#0x16
00014a  bf18              IT       NE
00014c  bd70              POPNE    {r4-r6,pc}
00014e  2a00              CMP      r2,#0
000150  d044              BEQ      |L36.476|
000152  484c              LDR      r0,|L36.644|
000154  7001              STRB     r1,[r0,#0]
000156  484c              LDR      r0,|L36.648|
000158  6900              LDR      r0,[r0,#0x10]
00015a  43c0              MVNS     r0,r0
00015c  b283              UXTH     r3,r0
00015e  484b              LDR      r0,|L36.652|
000160  8801              LDRH     r1,[r0,#0]  ; joys
000162  f5b16f40          CMP      r1,#0xc00
000166  bf94              ITE      LS
000168  2400              MOVLS    r4,#0
00016a  2401              MOVHI    r4,#1
00016c  ea434304          ORR      r3,r3,r4,LSL #16
000170  f5b16f80          CMP      r1,#0x400
000174  bf34              ITE      CC
000176  2101              MOVCC    r1,#1
000178  2100              MOVCS    r1,#0
00017a  ea434141          ORR      r1,r3,r1,LSL #17
00017e  8843              LDRH     r3,[r0,#2]  ; joys
000180  f5b36f40          CMP      r3,#0xc00
000184  bf8c              ITE      HI
000186  2401              MOVHI    r4,#1
000188  2400              MOVLS    r4,#0
00018a  ea414184          ORR      r1,r1,r4,LSL #18
00018e  f5b36f80          CMP      r3,#0x400
000192  bf34              ITE      CC
000194  2301              MOVCC    r3,#1
000196  2300              MOVCS    r3,#0
000198  ea4141c3          ORR      r1,r1,r3,LSL #19
00019c  88c3              LDRH     r3,[r0,#6]  ; joys
00019e  f5b36f40          CMP      r3,#0xc00
0001a2  bf8c              ITE      HI
0001a4  2401              MOVHI    r4,#1
0001a6  2400              MOVLS    r4,#0
0001a8  ea415104          ORR      r1,r1,r4,LSL #20
0001ac  f5b36f80          CMP      r3,#0x400
0001b0  bf34              ITE      CC
0001b2  2301              MOVCC    r3,#1
0001b4  2300              MOVCS    r3,#0
0001b6  ea415143          ORR      r1,r1,r3,LSL #21
0001ba  8880              LDRH     r0,[r0,#4]  ; joys
0001bc  f5b06f40          CMP      r0,#0xc00
0001c0  bf8c              ITE      HI
0001c2  2301              MOVHI    r3,#1
0001c4  2300              MOVLS    r3,#0
0001c6  ea415183          ORR      r1,r1,r3,LSL #22
0001ca  f5b06f80          CMP      r0,#0x400
0001ce  bf34              ITE      CC
0001d0  2001              MOVCC    r0,#1
0001d2  2000              MOVCS    r0,#0
0001d4  ea4150c0          ORR      r0,r1,r0,LSL #23
0001d8  f8cc0014          STR      r0,[r12,#0x14]  ; joypad_state
                  |L36.476|
0001dc  482c              LDR      r0,|L36.656|
0001de  7002              STRB     r2,[r0,#0]
                  |L36.480|
0001e0  bd70              POP      {r4-r6,pc}
                  |L36.482|
0001e2  f8dc0020          LDR      r0,[r12,#0x20]  ; cpu_clockticks
0001e6  2100              MOVS     r1,#0
0001e8  f5a07000          SUB      r0,r0,#0x200
0001ec  f8cc0020          STR      r0,[r12,#0x20]  ; cpu_clockticks
0001f0  0910              LSRS     r0,r2,#4
0001f2  2810              CMP      r0,#0x10
0001f4  d21a              BCS      |L36.556|
0001f6  e8dff000          TBB      [pc,r0]
0001fa  0909              DCB      0x09,0x09
0001fc  19191919          DCB      0x19,0x19,0x19,0x19
000200  08080c0c          DCB      0x08,0x08,0x0c,0x0c
000204  0c0c1313          DCB      0x0c,0x0c,0x13,0x13
000208  1313              DCB      0x13,0x13
00020a  e7e9              B        |L36.480|
00020c  eb042102          ADD      r1,r4,r2,LSL #8
000210  e00c              B        |L36.556|
000212  f8dc0018          LDR      r0,[r12,#0x18]  ; prg_rombank0
000216  eb002002          ADD      r0,r0,r2,LSL #8
00021a  f5a04100          SUB      r1,r0,#0x8000
00021e  e005              B        |L36.556|
000220  f8dc001c          LDR      r0,[r12,#0x1c]  ; prg_rombank1
000224  eb002002          ADD      r0,r0,r2,LSL #8
000228  f5a04140          SUB      r1,r0,#0xc000
                  |L36.556|
00022c  1a58              SUBS     r0,r3,r1
00022e  2800              CMP      r0,#0
000230  dd04              BLE      |L36.572|
000232  f5b07f80          CMP      r0,#0x100
000236  bfb8              IT       LT
000238  2000              MOVLT    r0,#0
00023a  db06              BLT      |L36.586|
                  |L36.572|
00023c  e8bd4070          POP      {r4-r6,lr}
000240  f44f7280          MOV      r2,#0x100
000244  4809              LDR      r0,|L36.620|
000246  f7ffbffe          B.W      __aeabi_memmove
                  |L36.586|
00024a  5c0a              LDRB     r2,[r1,r0]
00024c  541a              STRB     r2,[r3,r0]
00024e  180a              ADDS     r2,r1,r0
000250  eb030c00          ADD      r12,r3,r0
000254  7852              LDRB     r2,[r2,#1]
000256  1c80              ADDS     r0,r0,#2
000258  f88c2001          STRB     r2,[r12,#1]
00025c  f5b07f80          CMP      r0,#0x100
000260  dbf3              BLT      |L36.586|
000262  bd70              POP      {r4-r6,pc}
;;;527    
                          ENDP

                  |L36.612|
                          DCD      ||.data||
                  |L36.616|
                          DCD      ||.bss||
                  |L36.620|
                          DCD      Spr_Mem
                  |L36.624|
                          DCD      PPU_Reg
                  |L36.628|
                          DCD      PPU_Latch_Flag
                  |L36.632|
                          DCD      PPU_Mem
                  |L36.636|
                          DCD      PPU_BG_HScrlOrg
                  |L36.640|
                          DCD      PPU_BG_VScrlOrg
                  |L36.644|
                          DCD      ||.data||+0x9
                  |L36.648|
                          DCD      0x40021000
                  |L36.652|
                          DCD      joys
                  |L36.656|
                          DCD      ||.data||+0xb

                          AREA ||i.cpu_stz||, CODE, READONLY, ALIGN=2

                  cpu_stz PROC
;;;626    
;;;627    static inline void cpu_stz(CpuAdrMode adrmode)   
000000  b570              PUSH     {r4-r6,lr}
;;;628    {   
;;;629    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000002  4780              BLX      r0
000004  f4004170          AND      r1,r0,#0xf000
000008  ea4f3c21          ASR      r12,r1,#12
;;;630    	cpu_putmemory(savepc,0);   
00000c  2200              MOVS     r2,#0
00000e  495f              LDR      r1,|L37.396|
000010  4b5f              LDR      r3,|L37.400|
000012  f1bc0f05          CMP      r12,#5
;;;631    }   
000016  bf28              IT       CS
000018  bd70              POPCS    {r4-r6,pc}
00001a  e8dff00c          TBB      [pc,r12]
00001e  0303              DCB      0x03,0x03
000020  07078900          DCB      0x07,0x07,0x89,0x00
000024  f3c0000a          UBFX     r0,r0,#0,#11
000028  540a              STRB     r2,[r1,r0]
                  |L37.42|
00002a  bd70              POP      {r4-r6,pc}
00002c  f0000107          AND      r1,r0,#7
000030  4d58              LDR      r5,|L37.404|
000032  4859              LDR      r0,|L37.408|
000034  4c59              LDR      r4,|L37.412|
000036  2908              CMP      r1,#8
000038  bf28              IT       CS
00003a  bd70              POPCS    {r4-r6,pc}
00003c  e8dff001          TBB      [pc,r1]
000040  05070409          DCB      0x05,0x07,0x04,0x09
000044  0c151f28          DCB      0x0c,0x15,0x1f,0x28
000048  e7ef              B        |L37.42|
00004a  702a              STRB     r2,[r5,#0]
00004c  bd70              POP      {r4-r6,pc}
00004e  706a              STRB     r2,[r5,#1]
000050  bd70              POP      {r4-r6,pc}
000052  f8832100          STRB     r2,[r3,#0x100]
000056  bd70              POP      {r4-r6,pc}
000058  f8930100          LDRB     r0,[r3,#0x100]  ; Spr_Mem
00005c  541a              STRB     r2,[r3,r0]
00005e  f8930100          LDRB     r0,[r3,#0x100]  ; Spr_Mem
000062  1c40              ADDS     r0,r0,#1
000064  f8830100          STRB     r0,[r3,#0x100]
000068  bd70              POP      {r4-r6,pc}
00006a  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
00006c  2900              CMP      r1,#0
00006e  bf14              ITE      NE
000070  4b4b              LDRNE    r3,|L37.416|
000072  4b4c              LDREQ    r3,|L37.420|
000074  701a              STRB     r2,[r3,#0]
000076  f0810101          EOR      r1,r1,#1
00007a  7001              STRB     r1,[r0,#0]
00007c  bd70              POP      {r4-r6,pc}
00007e  7821              LDRB     r1,[r4,#0]  ; PPU_Mem
000080  eb022101          ADD      r1,r2,r1,LSL #8
000084  8021              STRH     r1,[r4,#0]
000086  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000088  f0810101          EOR      r1,r1,#1
00008c  7001              STRB     r1,[r0,#0]
00008e  bd70              POP      {r4-r6,pc}
000090  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
000092  f4104170          ANDS     r1,r0,#0xf000
000096  bf18              IT       NE
000098  f5b15f80          CMPNE    r1,#0x1000
00009c  d03f              BEQ      |L37.286|
00009e  f5b15f00          CMP      r1,#0x2000
0000a2  d003              BEQ      |L37.172|
0000a4  f5b15f40          CMP      r1,#0x3000
0000a8  d019              BEQ      |L37.222|
0000aa  e038              B        |L37.286|
                  |L37.172|
0000ac  f3c0000b          UBFX     r0,r0,#0,#12
0000b0  f5b06f40          CMP      r0,#0xc00
0000b4  bf84              ITT      HI
0000b6  69a1              LDRHI    r1,[r4,#0x18]  ; PPU_Mem
0000b8  f5a06040          SUBHI    r0,r0,#0xc00
0000bc  d80d              BHI      |L37.218|
0000be  f5b06f00          CMP      r0,#0x800
0000c2  bf84              ITT      HI
0000c4  6961              LDRHI    r1,[r4,#0x14]  ; PPU_Mem
0000c6  f5a06000          SUBHI    r0,r0,#0x800
0000ca  d806              BHI      |L37.218|
0000cc  f5b06f80          CMP      r0,#0x400
0000d0  bf86              ITTE     HI
0000d2  6921              LDRHI    r1,[r4,#0x10]  ; PPU_Mem
0000d4  f5a06080          SUBHI    r0,r0,#0x400
0000d8  68e1              LDRLS    r1,[r4,#0xc]  ; PPU_Mem
                  |L37.218|
0000da  540a              STRB     r2,[r1,r0]
0000dc  e01f              B        |L37.286|
                  |L37.222|
0000de  f000011f          AND      r1,r0,#0x1f
0000e2  f000000f          AND      r0,r0,#0xf
0000e6  290f              CMP      r1,#0xf
0000e8  4420              ADD      r0,r0,r4
0000ea  d915              BLS      |L37.280|
0000ec  f880202c          STRB     r2,[r0,#0x2c]
0000f0  7820              LDRB     r0,[r4,#0]  ; PPU_Mem
0000f2  f0100f03          TST      r0,#3
0000f6  d112              BNE      |L37.286|
0000f8  7722              STRB     r2,[r4,#0x1c]
0000fa  f884202c          STRB     r2,[r4,#0x2c]
0000fe  f8842020          STRB     r2,[r4,#0x20]
000102  f8842030          STRB     r2,[r4,#0x30]
000106  f8842024          STRB     r2,[r4,#0x24]
00010a  f8842034          STRB     r2,[r4,#0x34]
00010e  f8842028          STRB     r2,[r4,#0x28]
000112  f8842038          STRB     r2,[r4,#0x38]
000116  e002              B        |L37.286|
                  |L37.280|
000118  7702              STRB     r2,[r0,#0x1c]
00011a  f7fffffe          BL       premap_palette
                  |L37.286|
00011e  7828              LDRB     r0,[r5,#0]  ; PPU_Reg
000120  f0100f04          TST      r0,#4
000124  8820              LDRH     r0,[r4,#0]  ; PPU_Mem
000126  bf14              ITE      NE
000128  3020              ADDNE    r0,r0,#0x20
00012a  1c40              ADDEQ    r0,r0,#1
00012c  8020              STRH     r0,[r4,#0]
00012e  bd70              POP      {r4-r6,pc}
000130  f5a04c80          SUB      r12,r0,#0x4000
000134  f1bc0c14          SUBS     r12,r12,#0x14
000138  d006              BEQ      |L37.328|
00013a  f5a04180          SUB      r1,r0,#0x4000
00013e  3916              SUBS     r1,r1,#0x16
000140  bf04              ITT      EQ
000142  4819              LDREQ    r0,|L37.424|
000144  7002              STRBEQ   r2,[r0,#0]
000146  bd70              POP      {r4-r6,pc}
                  |L37.328|
000148  4818              LDR      r0,|L37.428|
00014a  6a02              LDR      r2,[r0,#0x20]  ; cpu_clockticks
00014c  f5a27200          SUB      r2,r2,#0x200
000150  6202              STR      r2,[r0,#0x20]  ; cpu_clockticks
000152  1a58              SUBS     r0,r3,r1
000154  2800              CMP      r0,#0
000156  dd04              BLE      |L37.354|
000158  f5b07f80          CMP      r0,#0x100
00015c  bfb8              IT       LT
00015e  2000              MOVLT    r0,#0
000160  db06              BLT      |L37.368|
                  |L37.354|
000162  e8bd4070          POP      {r4-r6,lr}
000166  f44f7280          MOV      r2,#0x100
00016a  4809              LDR      r0,|L37.400|
00016c  f7ffbffe          B.W      __aeabi_memmove
                  |L37.368|
000170  5c0a              LDRB     r2,[r1,r0]
000172  541a              STRB     r2,[r3,r0]
000174  180a              ADDS     r2,r1,r0
000176  eb030c00          ADD      r12,r3,r0
00017a  7852              LDRB     r2,[r2,#1]
00017c  1c80              ADDS     r0,r0,#2
00017e  f88c2001          STRB     r2,[r12,#1]
000182  f5b07f80          CMP      r0,#0x100
000186  dbf3              BLT      |L37.368|
000188  bd70              POP      {r4-r6,pc}
;;;632    
                          ENDP

00018a  0000              DCW      0x0000
                  |L37.396|
                          DCD      ||.bss||
                  |L37.400|
                          DCD      Spr_Mem
                  |L37.404|
                          DCD      PPU_Reg
                  |L37.408|
                          DCD      PPU_Latch_Flag
                  |L37.412|
                          DCD      PPU_Mem
                  |L37.416|
                          DCD      PPU_BG_VScrlOrg
                  |L37.420|
                          DCD      PPU_BG_HScrlOrg
                  |L37.424|
                          DCD      ||.data||+0xb
                  |L37.428|
                          DCD      ||.data||

                          AREA ||i.cpu_trb||, CODE, READONLY, ALIGN=2

                  cpu_trb PROC
;;;644    
;;;645    static inline void cpu_trb(CpuAdrMode adrmode)   
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;646    {   
;;;647    	uint8_t temp;       
;;;648    
;;;649    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000004  4780              BLX      r0
000006  f4004170          AND      r1,r0,#0xf000
00000a  1309              ASRS     r1,r1,#12
00000c  4efb              LDR      r6,|L38.1020|
00000e  4604              MOV      r4,r0
000010  2910              CMP      r1,#0x10
000012  d27d              BCS      |L38.272|
000014  e8dff001          TBB      [pc,r1]
000018  08080d0d          DCB      0x08,0x08,0x0d,0x0d
00001c  93b6b6b6          DCB      0x93,0xb6,0xb6,0xb6
000020  b8b8b8b8          DCB      0xb8,0xb8,0xb8,0xb8
000024  bdbdbdbd          DCB      0xbd,0xbd,0xbd,0xbd
000028  49f5              LDR      r1,|L38.1024|
00002a  f3c4000a          UBFX     r0,r4,#0,#11
00002e  5c08              LDRB     r0,[r1,r0]
000030  e092              B        |L38.344|
000032  f0040007          AND      r0,r4,#7
000036  2808              CMP      r0,#8
000038  d26b              BCS      |L38.274|
00003a  e8dff000          TBB      [pc,r0]
00003e  0407              DCB      0x04,0x07
000040  0a8d1f8d          DCB      0x0a,0x8d,0x1f,0x8d
000044  8d28              DCB      0x8d,0x28
000046  48ef              LDR      r0,|L38.1028|
000048  7801              LDRB     r1,[r0,#0]  ; PPU_Reg
00004a  e01e              B        |L38.138|
00004c  48ed              LDR      r0,|L38.1028|
00004e  7841              LDRB     r1,[r0,#1]  ; PPU_Reg
000050  e01b              B        |L38.138|
000052  48ec              LDR      r0,|L38.1028|
000054  4bec              LDR      r3,|L38.1032|
000056  7881              LDRB     r1,[r0,#2]  ; PPU_Reg
000058  f0210280          BIC      r2,r1,#0x80
00005c  7082              STRB     r2,[r0,#2]
00005e  2200              MOVS     r2,#0
000060  701a              STRB     r2,[r3,#0]
000062  4aea              LDR      r2,|L38.1036|
000064  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000066  3a15              SUBS     r2,r2,#0x15
000068  2af1              CMP      r2,#0xf1
00006a  d20e              BCS      |L38.138|
00006c  7802              LDRB     r2,[r0,#0]  ; PPU_Reg
00006e  f0120f80          TST      r2,#0x80
000072  bf04              ITT      EQ
000074  f0220203          BICEQ    r2,r2,#3
000078  7002              STRBEQ   r2,[r0,#0]
00007a  e006              B        |L38.138|
00007c  48e4              LDR      r0,|L38.1040|
00007e  f8902100          LDRB     r2,[r0,#0x100]  ; Spr_Mem
000082  5c81              LDRB     r1,[r0,r2]
000084  1c52              ADDS     r2,r2,#1
000086  f8802100          STRB     r2,[r0,#0x100]
                  |L38.138|
00008a  4608              MOV      r0,r1
00008c  e064              B        |L38.344|
00008e  48e1              LDR      r0,|L38.1044|
000090  8803              LDRH     r3,[r0,#0]  ; PPU_Mem
000092  7881              LDRB     r1,[r0,#2]  ; PPU_Mem
000094  f4134270          ANDS     r2,r3,#0xf000
000098  bf04              ITT      EQ
00009a  6842              LDREQ    r2,[r0,#4]  ; PPU_Mem
00009c  5cd2              LDRBEQ   r2,[r2,r3]
00009e  d019              BEQ      |L38.212|
0000a0  f5b25f80          CMP      r2,#0x1000
0000a4  d011              BEQ      |L38.202|
0000a6  f5b25f00          CMP      r2,#0x2000
0000aa  d015              BEQ      |L38.216|
0000ac  f5b25f40          CMP      r2,#0x3000
0000b0  bf18              IT       NE
0000b2  2100              MOVNE    r1,#0
0000b4  d031              BEQ      |L38.282|
                  |L38.182|
0000b6  4ad3              LDR      r2,|L38.1028|
0000b8  7812              LDRB     r2,[r2,#0]  ; PPU_Reg
0000ba  f0120f04          TST      r2,#4
0000be  bf14              ITE      NE
0000c0  f1030220          ADDNE    r2,r3,#0x20
0000c4  1c5a              ADDEQ    r2,r3,#1
0000c6  8002              STRH     r2,[r0,#0]
0000c8  e7df              B        |L38.138|
                  |L38.202|
0000ca  6882              LDR      r2,[r0,#8]  ; PPU_Mem
0000cc  f3c30c0b          UBFX     r12,r3,#0,#12
0000d0  f812200c          LDRB     r2,[r2,r12]
                  |L38.212|
0000d4  7082              STRB     r2,[r0,#2]
0000d6  e7ee              B        |L38.182|
                  |L38.216|
0000d8  f3c3020b          UBFX     r2,r3,#0,#12
0000dc  f5b26f40          CMP      r2,#0xc00
0000e0  bf84              ITT      HI
0000e2  f8d0c018          LDRHI    r12,[r0,#0x18]  ; PPU_Mem
0000e6  f5a26240          SUBHI    r2,r2,#0xc00
0000ea  d810              BHI      |L38.270|
0000ec  f5b26f00          CMP      r2,#0x800
0000f0  bf84              ITT      HI
0000f2  f8d0c014          LDRHI    r12,[r0,#0x14]  ; PPU_Mem
0000f6  f5a26200          SUBHI    r2,r2,#0x800
0000fa  d808              BHI      |L38.270|
0000fc  f5b26f80          CMP      r2,#0x400
000100  bf86              ITTE     HI
000102  f8d0c010          LDRHI    r12,[r0,#0x10]  ; PPU_Mem
000106  f5a26280          SUBHI    r2,r2,#0x400
00010a  f8d0c00c          LDRLS    r12,[r0,#0xc]  ; PPU_Mem
                  |L38.270|
00010e  e001              B        |L38.276|
                  |L38.272|
000110  e021              B        |L38.342|
                  |L38.274|
000112  e021              B        |L38.344|
                  |L38.276|
000114  f81c2002          LDRB     r2,[r12,r2]
000118  e7dc              B        |L38.212|
                  |L38.282|
00011a  f6437210          MOV      r2,#0x3f10
00011e  4293              CMP      r3,r2
000120  d305              BCC      |L38.302|
000122  f003010f          AND      r1,r3,#0xf
000126  4401              ADD      r1,r1,r0
000128  f891102c          LDRB     r1,[r1,#0x2c]
00012c  e7c3              B        |L38.182|
                  |L38.302|
00012e  f5b35f7c          CMP      r3,#0x3f00
000132  d3c0              BCC      |L38.182|
000134  f003010f          AND      r1,r3,#0xf
000138  4401              ADD      r1,r1,r0
00013a  7f09              LDRB     r1,[r1,#0x1c]
00013c  e7bb              B        |L38.182|
00013e  f5a04180          SUB      r1,r0,#0x4000
000142  3916              SUBS     r1,r1,#0x16
000144  bf08              IT       EQ
000146  2000              MOVEQ    r0,#0
000148  d019              BEQ      |L38.382|
00014a  f5a04180          SUB      r1,r0,#0x4000
00014e  3917              SUBS     r1,r1,#0x17
000150  bf08              IT       EQ
000152  2001              MOVEQ    r0,#1
000154  d013              BEQ      |L38.382|
                  |L38.342|
000156  0a20              LSRS     r0,r4,#8
                  |L38.344|
;;;650    	temp  = cpu_getmemory(savepc);   
;;;651    	temp &= (A ^ 0xFF);   
000158  78b1              LDRB     r1,[r6,#2]  ; A
00015a  b2c0              UXTB     r0,r0                 ;650
00015c  f08101ff          EOR      r1,r1,#0xff
000160  ea010200          AND      r2,r1,r0
000164  f4044870          AND      r8,r4,#0xf000
000168  2700              MOVS     r7,#0
00016a  ea4f3028          ASR      r0,r8,#12
00016e  2805              CMP      r0,#5
000170  f080813f          BCS.W    |L38.1010|
000174  e8dff000          TBB      [pc,r0]
000178  13131919          DCB      0x13,0x13,0x19,0x19
00017c  a800              DCB      0xa8,0x00
                  |L38.382|
00017e  f7fffffe          BL       joypad_read
000182  e7e9              B        |L38.344|
000184  2000              MOVS     r0,#0
000186  e7e7              B        |L38.344|
000188  69b1              LDR      r1,[r6,#0x18]  ; prg_rombank0
00018a  1908              ADDS     r0,r1,r4
00018c  f5a04000          SUB      r0,r0,#0x8000
000190  e003              B        |L38.410|
000192  69f1              LDR      r1,[r6,#0x1c]  ; prg_rombank1
000194  1908              ADDS     r0,r1,r4
000196  f5a04040          SUB      r0,r0,#0xc000
                  |L38.410|
00019a  7800              LDRB     r0,[r0,#0]
00019c  e7dc              B        |L38.344|
00019e  4998              LDR      r1,|L38.1024|
0001a0  f3c4000a          UBFX     r0,r4,#0,#11
0001a4  540a              STRB     r2,[r1,r0]
0001a6  f000b924          B.W      |L38.1010|
0001aa  f0040007          AND      r0,r4,#7
0001ae  2808              CMP      r0,#8
0001b0  f080811f          BCS.W    |L38.1010|
0001b4  e8dff000          TBB      [pc,r0]
0001b8  0407870b          DCB      0x04,0x07,0x87,0x0b
0001bc  101b2b36          DCB      0x10,0x1b,0x2b,0x36
0001c0  4890              LDR      r0,|L38.1028|
0001c2  f000b915          B.W      |L38.1008|
0001c6  488f              LDR      r0,|L38.1028|
0001c8  7042              STRB     r2,[r0,#1]
0001ca  f000b912          B.W      |L38.1010|
0001ce  4890              LDR      r0,|L38.1040|
0001d0  f8802100          STRB     r2,[r0,#0x100]
0001d4  f000b90d          B.W      |L38.1010|
0001d8  488d              LDR      r0,|L38.1040|
0001da  f8901100          LDRB     r1,[r0,#0x100]  ; Spr_Mem
0001de  5442              STRB     r2,[r0,r1]
0001e0  f8901100          LDRB     r1,[r0,#0x100]  ; Spr_Mem
0001e4  1c49              ADDS     r1,r1,#1
0001e6  f8801100          STRB     r1,[r0,#0x100]
0001ea  f000b902          B.W      |L38.1010|
0001ee  4886              LDR      r0,|L38.1032|
0001f0  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
0001f2  2900              CMP      r1,#0
0001f4  bf08              IT       EQ
0001f6  4b88              LDREQ    r3,|L38.1048|
0001f8  d003              BEQ      |L38.514|
0001fa  2aef              CMP      r2,#0xef
0001fc  bf88              IT       HI
0001fe  2200              MOVHI    r2,#0
000200  4b86              LDR      r3,|L38.1052|
                  |L38.514|
000202  f0810101          EOR      r1,r1,#1
000206  701a              STRB     r2,[r3,#0]
000208  7001              STRB     r1,[r0,#0]
00020a  f000b8f2          B.W      |L38.1010|
00020e  4881              LDR      r0,|L38.1044|
000210  7801              LDRB     r1,[r0,#0]  ; PPU_Mem
000212  eb022101          ADD      r1,r2,r1,LSL #8
000216  8001              STRH     r1,[r0,#0]
000218  487b              LDR      r0,|L38.1032|
00021a  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
00021c  f0810101          EOR      r1,r1,#1
000220  7001              STRB     r1,[r0,#0]
000222  e0e6              B        |L38.1010|
000224  4d7b              LDR      r5,|L38.1044|
000226  8828              LDRH     r0,[r5,#0]  ; PPU_Mem
000228  f4104170          ANDS     r1,r0,#0xf000
00022c  bf18              IT       NE
00022e  f5b15f80          CMPNE    r1,#0x1000
000232  d03f              BEQ      |L38.692|
000234  f5b15f00          CMP      r1,#0x2000
000238  d003              BEQ      |L38.578|
00023a  f5b15f40          CMP      r1,#0x3000
00023e  d019              BEQ      |L38.628|
000240  e038              B        |L38.692|
                  |L38.578|
000242  f3c0000b          UBFX     r0,r0,#0,#12
000246  f5b06f40          CMP      r0,#0xc00
00024a  bf84              ITT      HI
00024c  69a9              LDRHI    r1,[r5,#0x18]  ; PPU_Mem
00024e  f5a06040          SUBHI    r0,r0,#0xc00
000252  d80d              BHI      |L38.624|
000254  f5b06f00          CMP      r0,#0x800
000258  bf84              ITT      HI
00025a  6969              LDRHI    r1,[r5,#0x14]  ; PPU_Mem
00025c  f5a06000          SUBHI    r0,r0,#0x800
000260  d806              BHI      |L38.624|
000262  f5b06f80          CMP      r0,#0x400
000266  bf86              ITTE     HI
000268  6929              LDRHI    r1,[r5,#0x10]  ; PPU_Mem
00026a  f5a06080          SUBHI    r0,r0,#0x400
00026e  68e9              LDRLS    r1,[r5,#0xc]  ; PPU_Mem
                  |L38.624|
000270  540a              STRB     r2,[r1,r0]
000272  e01f              B        |L38.692|
                  |L38.628|
000274  f000011f          AND      r1,r0,#0x1f
000278  f000000f          AND      r0,r0,#0xf
00027c  290f              CMP      r1,#0xf
00027e  4428              ADD      r0,r0,r5
000280  d915              BLS      |L38.686|
000282  f880202c          STRB     r2,[r0,#0x2c]
000286  7828              LDRB     r0,[r5,#0]  ; PPU_Mem
000288  f0100f03          TST      r0,#3
00028c  d112              BNE      |L38.692|
00028e  772a              STRB     r2,[r5,#0x1c]
000290  f885202c          STRB     r2,[r5,#0x2c]
000294  f8852020          STRB     r2,[r5,#0x20]
000298  f8852030          STRB     r2,[r5,#0x30]
00029c  f8852024          STRB     r2,[r5,#0x24]
0002a0  f8852034          STRB     r2,[r5,#0x34]
0002a4  f8852028          STRB     r2,[r5,#0x28]
0002a8  f8852038          STRB     r2,[r5,#0x38]
0002ac  e002              B        |L38.692|
                  |L38.686|
0002ae  7702              STRB     r2,[r0,#0x1c]
0002b0  f7fffffe          BL       premap_palette
                  |L38.692|
0002b4  4853              LDR      r0,|L38.1028|
0002b6  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002b8  f0100f04          TST      r0,#4
0002bc  8828              LDRH     r0,[r5,#0]  ; PPU_Mem
0002be  bf14              ITE      NE
0002c0  3020              ADDNE    r0,r0,#0x20
0002c2  1c40              ADDEQ    r0,r0,#1
0002c4  8028              STRH     r0,[r5,#0]
0002c6  e094              B        |L38.1010|
0002c8  f5a44180          SUB      r1,r4,#0x4000
0002cc  3914              SUBS     r1,r1,#0x14
0002ce  d004              BEQ      |L38.730|
0002d0  f5a44180          SUB      r1,r4,#0x4000
0002d4  3916              SUBS     r1,r1,#0x16
0002d6  d03d              BEQ      |L38.852|
0002d8  e08b              B        |L38.1010|
                  |L38.730|
0002da  6a30              LDR      r0,[r6,#0x20]  ; cpu_clockticks
0002dc  2100              MOVS     r1,#0
0002de  f5a07000          SUB      r0,r0,#0x200
0002e2  6230              STR      r0,[r6,#0x20]  ; cpu_clockticks
0002e4  0910              LSRS     r0,r2,#4
0002e6  2810              CMP      r0,#0x10
0002e8  d218              BCS      |L38.796|
0002ea  e8dff000          TBB      [pc,r0]
0002ee  0808              DCB      0x08,0x08
0002f0  17171717          DCB      0x17,0x17,0x17,0x17
0002f4  82820c0c          DCB      0x82,0x82,0x0c,0x0c
0002f8  0c0c1212          DCB      0x0c,0x0c,0x12,0x12
0002fc  1212              DCB      0x12,0x12
0002fe  4840              LDR      r0,|L38.1024|
000300  eb002102          ADD      r1,r0,r2,LSL #8
000304  e00a              B        |L38.796|
000306  69b0              LDR      r0,[r6,#0x18]  ; prg_rombank0
000308  eb002002          ADD      r0,r0,r2,LSL #8
00030c  f5a04100          SUB      r1,r0,#0x8000
000310  e004              B        |L38.796|
000312  69f0              LDR      r0,[r6,#0x1c]  ; prg_rombank1
000314  eb002002          ADD      r0,r0,r2,LSL #8
000318  f5a04140          SUB      r1,r0,#0xc000
                  |L38.796|
00031c  483c              LDR      r0,|L38.1040|
00031e  1a42              SUBS     r2,r0,r1
000320  2a00              CMP      r2,#0
000322  dd04              BLE      |L38.814|
000324  f5b27f80          CMP      r2,#0x100
000328  bfb8              IT       LT
00032a  2200              MOVLT    r2,#0
00032c  db05              BLT      |L38.826|
                  |L38.814|
00032e  f44f7280          MOV      r2,#0x100
000332  4837              LDR      r0,|L38.1040|
000334  f7fffffe          BL       __aeabi_memmove
000338  e05b              B        |L38.1010|
                  |L38.826|
00033a  5c8b              LDRB     r3,[r1,r2]
00033c  5483              STRB     r3,[r0,r2]
00033e  188b              ADDS     r3,r1,r2
000340  eb000c02          ADD      r12,r0,r2
000344  785b              LDRB     r3,[r3,#1]
000346  1c92              ADDS     r2,r2,#2
000348  f88c3001          STRB     r3,[r12,#1]
00034c  f5b27f80          CMP      r2,#0x100
000350  dbf3              BLT      |L38.826|
000352  e04e              B        |L38.1010|
                  |L38.852|
000354  b3ea              CBZ      r2,|L38.978|
000356  4832              LDR      r0,|L38.1056|
000358  7007              STRB     r7,[r0,#0]
00035a  4832              LDR      r0,|L38.1060|
00035c  6900              LDR      r0,[r0,#0x10]
00035e  43c0              MVNS     r0,r0
000360  b283              UXTH     r3,r0
000362  4831              LDR      r0,|L38.1064|
000364  8801              LDRH     r1,[r0,#0]  ; joys
000366  f5b16f40          CMP      r1,#0xc00
00036a  bf94              ITE      LS
00036c  f04f0c00          MOVLS    r12,#0
000370  f04f0c01          MOVHI    r12,#1
000374  ea43430c          ORR      r3,r3,r12,LSL #16
000378  f5b16f80          CMP      r1,#0x400
00037c  bf34              ITE      CC
00037e  2101              MOVCC    r1,#1
000380  2100              MOVCS    r1,#0
000382  ea434341          ORR      r3,r3,r1,LSL #17
000386  8841              LDRH     r1,[r0,#2]  ; joys
000388  f5b16f40          CMP      r1,#0xc00
00038c  bf8c              ITE      HI
00038e  f04f0c01          MOVHI    r12,#1
000392  f04f0c00          MOVLS    r12,#0
000396  ea43438c          ORR      r3,r3,r12,LSL #18
00039a  f5b16f80          CMP      r1,#0x400
00039e  bf34              ITE      CC
0003a0  2101              MOVCC    r1,#1
0003a2  2100              MOVCS    r1,#0
0003a4  ea4343c1          ORR      r3,r3,r1,LSL #19
0003a8  88c1              LDRH     r1,[r0,#6]  ; joys
0003aa  f5b16f40          CMP      r1,#0xc00
0003ae  bf8c              ITE      HI
0003b0  f04f0c01          MOVHI    r12,#1
0003b4  f04f0c00          MOVLS    r12,#0
0003b8  ea43530c          ORR      r3,r3,r12,LSL #20
0003bc  f5b16f80          CMP      r1,#0x400
0003c0  bf34              ITE      CC
0003c2  2101              MOVCC    r1,#1
0003c4  2100              MOVCS    r1,#0
0003c6  ea435141          ORR      r1,r3,r1,LSL #21
0003ca  8880              LDRH     r0,[r0,#4]  ; joys
0003cc  f5b06f40          CMP      r0,#0xc00
0003d0  e000              B        |L38.980|
                  |L38.978|
0003d2  e00c              B        |L38.1006|
                  |L38.980|
0003d4  bf8c              ITE      HI
0003d6  2301              MOVHI    r3,#1
0003d8  2300              MOVLS    r3,#0
0003da  ea415183          ORR      r1,r1,r3,LSL #22
0003de  f5b06f80          CMP      r0,#0x400
0003e2  bf34              ITE      CC
0003e4  2001              MOVCC    r0,#1
0003e6  2000              MOVCS    r0,#0
0003e8  ea4150c0          ORR      r0,r1,r0,LSL #23
0003ec  6170              STR      r0,[r6,#0x14]  ; joypad_state
                  |L38.1006|
0003ee  480f              LDR      r0,|L38.1068|
                  |L38.1008|
0003f0  7002              STRB     r2,[r0,#0]
                  |L38.1010|
0003f2  ea4f3028          ASR      r0,r8,#12
0003f6  2810              CMP      r0,#0x10
0003f8  d271              BCS      |L38.1246|
0003fa  e019              B        |L38.1072|
                  |L38.1020|
                          DCD      ||.data||
                  |L38.1024|
                          DCD      ||.bss||
                  |L38.1028|
                          DCD      PPU_Reg
                  |L38.1032|
                          DCD      PPU_Latch_Flag
                  |L38.1036|
                          DCD      PPU_scanline
                  |L38.1040|
                          DCD      Spr_Mem
                  |L38.1044|
                          DCD      PPU_Mem
                  |L38.1048|
                          DCD      PPU_BG_HScrlOrg
                  |L38.1052|
                          DCD      PPU_BG_VScrlOrg
                  |L38.1056|
                          DCD      ||.data||+0x9
                  |L38.1060|
                          DCD      0x40021000
                  |L38.1064|
                          DCD      joys
                  |L38.1068|
                          DCD      ||.data||+0xb
                  |L38.1072|
000430  e8dff000          TBB      [pc,r0]
000434  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000438  8daeaeae          DCB      0x8d,0xae,0xae,0xae
00043c  a2a2a2a2          DCB      0xa2,0xa2,0xa2,0xa2
000440  a8a8a8a8          DCB      0xa8,0xa8,0xa8,0xa8
000444  4955              LDR      r1,|L38.1436|
000446  f3c4000a          UBFX     r0,r4,#0,#11
00044a  5c08              LDRB     r0,[r1,r0]
00044c  e08a              B        |L38.1380|
00044e  f0040007          AND      r0,r4,#7
000452  2808              CMP      r0,#8
000454  d242              BCS      |L38.1244|
000456  e8dff000          TBB      [pc,r0]
00045a  0406              DCB      0x04,0x06
00045c  09851d85          DCB      0x09,0x85,0x1d,0x85
000460  8525              DCB      0x85,0x25
000462  484f              LDR      r0,|L38.1440|
000464  e092              B        |L38.1420|
000466  484e              LDR      r0,|L38.1440|
000468  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00046a  e07b              B        |L38.1380|
00046c  494c              LDR      r1,|L38.1440|
00046e  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000470  f0200280          BIC      r2,r0,#0x80
000474  708a              STRB     r2,[r1,#2]
000476  4a4b              LDR      r2,|L38.1444|
000478  7017              STRB     r7,[r2,#0]
00047a  4a4b              LDR      r2,|L38.1448|
00047c  6812              LDR      r2,[r2,#0]  ; PPU_scanline
00047e  3a15              SUBS     r2,r2,#0x15
000480  2af1              CMP      r2,#0xf1
000482  d26f              BCS      |L38.1380|
000484  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
000486  f0120f80          TST      r2,#0x80
00048a  bf04              ITT      EQ
00048c  f0220203          BICEQ    r2,r2,#3
000490  700a              STRBEQ   r2,[r1,#0]
000492  e067              B        |L38.1380|
000494  4945              LDR      r1,|L38.1452|
000496  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
00049a  5c88              LDRB     r0,[r1,r2]
00049c  1c52              ADDS     r2,r2,#1
00049e  f8812100          STRB     r2,[r1,#0x100]
0004a2  e05f              B        |L38.1380|
0004a4  4b42              LDR      r3,|L38.1456|
0004a6  8819              LDRH     r1,[r3,#0]  ; PPU_Mem
0004a8  7898              LDRB     r0,[r3,#2]  ; PPU_Mem
0004aa  f4114270          ANDS     r2,r1,#0xf000
0004ae  bf04              ITT      EQ
0004b0  685a              LDREQ    r2,[r3,#4]  ; PPU_Mem
0004b2  5c52              LDRBEQ   r2,[r2,r1]
0004b4  d019              BEQ      |L38.1258|
0004b6  f5b25f80          CMP      r2,#0x1000
0004ba  d011              BEQ      |L38.1248|
0004bc  f5b25f00          CMP      r2,#0x2000
0004c0  d015              BEQ      |L38.1262|
0004c2  f5b25f40          CMP      r2,#0x3000
0004c6  bf18              IT       NE
0004c8  2000              MOVNE    r0,#0
0004ca  d02e              BEQ      |L38.1322|
                  |L38.1228|
0004cc  4a34              LDR      r2,|L38.1440|
0004ce  7812              LDRB     r2,[r2,#0]  ; PPU_Reg
0004d0  f0120f04          TST      r2,#4
0004d4  bf14              ITE      NE
0004d6  3120              ADDNE    r1,r1,#0x20
0004d8  1c49              ADDEQ    r1,r1,#1
0004da  8019              STRH     r1,[r3,#0]
                  |L38.1244|
0004dc  e042              B        |L38.1380|
                  |L38.1246|
0004de  e040              B        |L38.1378|
                  |L38.1248|
0004e0  689a              LDR      r2,[r3,#8]  ; PPU_Mem
0004e2  f3c10c0b          UBFX     r12,r1,#0,#12
0004e6  f812200c          LDRB     r2,[r2,r12]
                  |L38.1258|
0004ea  709a              STRB     r2,[r3,#2]
0004ec  e7ee              B        |L38.1228|
                  |L38.1262|
0004ee  f3c1020b          UBFX     r2,r1,#0,#12
0004f2  f5b26f40          CMP      r2,#0xc00
0004f6  bf84              ITT      HI
0004f8  f8d3c018          LDRHI    r12,[r3,#0x18]  ; PPU_Mem
0004fc  f5a26240          SUBHI    r2,r2,#0xc00
000500  d810              BHI      |L38.1316|
000502  f5b26f00          CMP      r2,#0x800
000506  bf84              ITT      HI
000508  f8d3c014          LDRHI    r12,[r3,#0x14]  ; PPU_Mem
00050c  f5a26200          SUBHI    r2,r2,#0x800
000510  d808              BHI      |L38.1316|
000512  f5b26f80          CMP      r2,#0x400
000516  bf86              ITTE     HI
000518  f8d3c010          LDRHI    r12,[r3,#0x10]  ; PPU_Mem
00051c  f5a26280          SUBHI    r2,r2,#0x400
000520  f8d3c00c          LDRLS    r12,[r3,#0xc]  ; PPU_Mem
                  |L38.1316|
000524  f81c2002          LDRB     r2,[r12,r2]
000528  e7df              B        |L38.1258|
                  |L38.1322|
00052a  f6437210          MOV      r2,#0x3f10
00052e  4291              CMP      r1,r2
000530  d305              BCC      |L38.1342|
000532  f001000f          AND      r0,r1,#0xf
000536  4418              ADD      r0,r0,r3
000538  f890002c          LDRB     r0,[r0,#0x2c]
00053c  e7c6              B        |L38.1228|
                  |L38.1342|
00053e  f5b15f7c          CMP      r1,#0x3f00
000542  d3c3              BCC      |L38.1228|
000544  f001000f          AND      r0,r1,#0xf
000548  4418              ADD      r0,r0,r3
00054a  7f00              LDRB     r0,[r0,#0x1c]
00054c  e7be              B        |L38.1228|
00054e  f5a44080          SUB      r0,r4,#0x4000
000552  3816              SUBS     r0,r0,#0x16
000554  d00d              BEQ      |L38.1394|
000556  f5a44080          SUB      r0,r4,#0x4000
00055a  3817              SUBS     r0,r0,#0x17
00055c  bf08              IT       EQ
00055e  2001              MOVEQ    r0,#1
000560  d007              BEQ      |L38.1394|
                  |L38.1378|
000562  0a20              LSRS     r0,r4,#8
                  |L38.1380|
;;;652    	cpu_putmemory(savepc, temp);   
;;;653    
;;;654    	if(cpu_getmemory(savepc))P &= 0xfd; else P |= 0x02;   
000564  2800              CMP      r0,#0
000566  bf1c              ITT      NE
000568  7970              LDRBNE   r0,[r6,#5]  ; P
00056a  f00000fd          ANDNE    r0,r0,#0xfd
00056e  d112              BNE      |L38.1430|
000570  e00e              B        |L38.1424|
                  |L38.1394|
000572  f7fffffe          BL       joypad_read
000576  e7f5              B        |L38.1380|
000578  69b0              LDR      r0,[r6,#0x18]  ; prg_rombank0
00057a  4420              ADD      r0,r0,r4
00057c  f5a04000          SUB      r0,r0,#0x8000
000580  7800              LDRB     r0,[r0,#0]
000582  e7ef              B        |L38.1380|
000584  69f0              LDR      r0,[r6,#0x1c]  ; prg_rombank1
000586  4420              ADD      r0,r0,r4
000588  f5a04040          SUB      r0,r0,#0xc000
                  |L38.1420|
00058c  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
00058e  e7e9              B        |L38.1380|
                  |L38.1424|
000590  7970              LDRB     r0,[r6,#5]  ; P
000592  f0400002          ORR      r0,r0,#2
                  |L38.1430|
000596  7170              STRB     r0,[r6,#5]
;;;655    }
000598  e8bd81f0          POP      {r4-r8,pc}
;;;656    
                          ENDP

                  |L38.1436|
                          DCD      ||.bss||
                  |L38.1440|
                          DCD      PPU_Reg
                  |L38.1444|
                          DCD      PPU_Latch_Flag
                  |L38.1448|
                          DCD      PPU_scanline
                  |L38.1452|
                          DCD      Spr_Mem
                  |L38.1456|
                          DCD      PPU_Mem

                          AREA ||i.cpu_tsb||, CODE, READONLY, ALIGN=2

                  cpu_tsb PROC
;;;632    
;;;633    static inline void cpu_tsb(CpuAdrMode adrmode)   
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;634    {   
;;;635    	uint8_t temp;    
;;;636    
;;;637    	uint16_t savepc = /*opcodetable[opcode].*/adrmode();   
000004  4780              BLX      r0
000006  f4004170          AND      r1,r0,#0xf000
00000a  1309              ASRS     r1,r1,#12
00000c  4dfd              LDR      r5,|L39.1028|
00000e  4604              MOV      r4,r0
000010  2910              CMP      r1,#0x10
000012  d27d              BCS      |L39.272|
000014  e8dff001          TBB      [pc,r1]
000018  08080d0d          DCB      0x08,0x08,0x0d,0x0d
00001c  8fafafaf          DCB      0x8f,0xaf,0xaf,0xaf
000020  b1b1b1b1          DCB      0xb1,0xb1,0xb1,0xb1
000024  b7b7b7b7          DCB      0xb7,0xb7,0xb7,0xb7
000028  49f7              LDR      r1,|L39.1032|
00002a  f3c4000a          UBFX     r0,r4,#0,#11
00002e  5c08              LDRB     r0,[r1,r0]
000030  e08e              B        |L39.336|
000032  f0040007          AND      r0,r4,#7
000036  2808              CMP      r0,#8
000038  d244              BCS      |L39.196|
00003a  e8dff000          TBB      [pc,r0]
00003e  0406              DCB      0x04,0x06
000040  09891e89          DCB      0x09,0x89,0x1e,0x89
000044  8926              DCB      0x89,0x26
000046  48f1              LDR      r0,|L39.1036|
000048  e0a1              B        |L39.398|
00004a  48f0              LDR      r0,|L39.1036|
00004c  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
00004e  e07f              B        |L39.336|
000050  49ee              LDR      r1,|L39.1036|
000052  4bef              LDR      r3,|L39.1040|
000054  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000056  f0200280          BIC      r2,r0,#0x80
00005a  708a              STRB     r2,[r1,#2]
00005c  2200              MOVS     r2,#0
00005e  701a              STRB     r2,[r3,#0]
000060  4aec              LDR      r2,|L39.1044|
000062  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000064  3a15              SUBS     r2,r2,#0x15
000066  2af1              CMP      r2,#0xf1
000068  d272              BCS      |L39.336|
00006a  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00006c  f0120f80          TST      r2,#0x80
000070  bf04              ITT      EQ
000072  f0220203          BICEQ    r2,r2,#3
000076  700a              STRBEQ   r2,[r1,#0]
000078  e06a              B        |L39.336|
00007a  49e7              LDR      r1,|L39.1048|
00007c  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
000080  5c88              LDRB     r0,[r1,r2]
000082  1c52              ADDS     r2,r2,#1
000084  f8812100          STRB     r2,[r1,#0x100]
000088  e062              B        |L39.336|
00008a  49e4              LDR      r1,|L39.1052|
00008c  880b              LDRH     r3,[r1,#0]  ; PPU_Mem
00008e  7888              LDRB     r0,[r1,#2]  ; PPU_Mem
000090  f4134270          ANDS     r2,r3,#0xf000
000094  bf04              ITT      EQ
000096  684a              LDREQ    r2,[r1,#4]  ; PPU_Mem
000098  5cd2              LDRBEQ   r2,[r2,r3]
00009a  d019              BEQ      |L39.208|
00009c  f5b25f80          CMP      r2,#0x1000
0000a0  d011              BEQ      |L39.198|
0000a2  f5b25f00          CMP      r2,#0x2000
0000a6  d015              BEQ      |L39.212|
0000a8  f5b25f40          CMP      r2,#0x3000
0000ac  bf18              IT       NE
0000ae  2000              MOVNE    r0,#0
0000b0  d02f              BEQ      |L39.274|
                  |L39.178|
0000b2  4ad6              LDR      r2,|L39.1036|
0000b4  7812              LDRB     r2,[r2,#0]  ; PPU_Reg
0000b6  f0120f04          TST      r2,#4
0000ba  bf14              ITE      NE
0000bc  f1030220          ADDNE    r2,r3,#0x20
0000c0  1c5a              ADDEQ    r2,r3,#1
0000c2  800a              STRH     r2,[r1,#0]
                  |L39.196|
0000c4  e044              B        |L39.336|
                  |L39.198|
0000c6  688a              LDR      r2,[r1,#8]  ; PPU_Mem
0000c8  f3c30c0b          UBFX     r12,r3,#0,#12
0000cc  f812200c          LDRB     r2,[r2,r12]
                  |L39.208|
0000d0  708a              STRB     r2,[r1,#2]
0000d2  e7ee              B        |L39.178|
                  |L39.212|
0000d4  f3c3020b          UBFX     r2,r3,#0,#12
0000d8  f5b26f40          CMP      r2,#0xc00
0000dc  bf84              ITT      HI
0000de  f8d1c018          LDRHI    r12,[r1,#0x18]  ; PPU_Mem
0000e2  f5a26240          SUBHI    r2,r2,#0xc00
0000e6  d810              BHI      |L39.266|
0000e8  f5b26f00          CMP      r2,#0x800
0000ec  bf84              ITT      HI
0000ee  f8d1c014          LDRHI    r12,[r1,#0x14]  ; PPU_Mem
0000f2  f5a26200          SUBHI    r2,r2,#0x800
0000f6  d808              BHI      |L39.266|
0000f8  f5b26f80          CMP      r2,#0x400
0000fc  bf86              ITTE     HI
0000fe  f8d1c010          LDRHI    r12,[r1,#0x10]  ; PPU_Mem
000102  f5a26280          SUBHI    r2,r2,#0x400
000106  f8d1c00c          LDRLS    r12,[r1,#0xc]  ; PPU_Mem
                  |L39.266|
00010a  f81c2002          LDRB     r2,[r12,r2]
00010e  e7df              B        |L39.208|
                  |L39.272|
000110  e01d              B        |L39.334|
                  |L39.274|
000112  f6437210          MOV      r2,#0x3f10
000116  4293              CMP      r3,r2
000118  d305              BCC      |L39.294|
00011a  f003000f          AND      r0,r3,#0xf
00011e  4408              ADD      r0,r0,r1
000120  f890002c          LDRB     r0,[r0,#0x2c]
000124  e7c5              B        |L39.178|
                  |L39.294|
000126  f5b35f7c          CMP      r3,#0x3f00
00012a  d3c2              BCC      |L39.178|
00012c  f003000f          AND      r0,r3,#0xf
000130  4408              ADD      r0,r0,r1
000132  7f00              LDRB     r0,[r0,#0x1c]
000134  e7bd              B        |L39.178|
000136  f5a04180          SUB      r1,r0,#0x4000
00013a  3916              SUBS     r1,r1,#0x16
00013c  bf08              IT       EQ
00013e  2000              MOVEQ    r0,#0
000140  d016              BEQ      |L39.368|
000142  f5a04180          SUB      r1,r0,#0x4000
000146  3917              SUBS     r1,r1,#0x17
000148  bf08              IT       EQ
00014a  2001              MOVEQ    r0,#1
00014c  d010              BEQ      |L39.368|
                  |L39.334|
00014e  0a20              LSRS     r0,r4,#8
                  |L39.336|
;;;638    	temp  = cpu_getmemory(savepc);   
;;;639    	temp |= A;   
000150  78a9              LDRB     r1,[r5,#2]  ; A
000152  b2c0              UXTB     r0,r0                 ;638
000154  ea400201          ORR      r2,r0,r1
000158  f4044770          AND      r7,r4,#0xf000
00015c  2600              MOVS     r6,#0
00015e  1338              ASRS     r0,r7,#12
000160  2805              CMP      r0,#5
000162  f080814a          BCS.W    |L39.1018|
000166  e8dff000          TBB      [pc,r0]
00016a  1414              DCB      0x14,0x14
00016c  1a1ab300          DCB      0x1a,0x1a,0xb3,0x00
                  |L39.368|
000170  f7fffffe          BL       joypad_read
000174  e7ec              B        |L39.336|
000176  2000              MOVS     r0,#0
000178  e7ea              B        |L39.336|
00017a  69a9              LDR      r1,[r5,#0x18]  ; prg_rombank0
00017c  1908              ADDS     r0,r1,r4
00017e  f5a04000          SUB      r0,r0,#0x8000
000182  7800              LDRB     r0,[r0,#0]
000184  e7e4              B        |L39.336|
000186  69e9              LDR      r1,[r5,#0x1c]  ; prg_rombank1
000188  1908              ADDS     r0,r1,r4
00018a  f5a04040          SUB      r0,r0,#0xc000
                  |L39.398|
00018e  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000190  e7de              B        |L39.336|
000192  499d              LDR      r1,|L39.1032|
000194  f3c4000a          UBFX     r0,r4,#0,#11
000198  540a              STRB     r2,[r1,r0]
00019a  f000b92e          B.W      |L39.1018|
00019e  f0040007          AND      r0,r4,#7
0001a2  2808              CMP      r0,#8
0001a4  f0808129          BCS.W    |L39.1018|
0001a8  e8dff000          TBB      [pc,r0]
0001ac  0407910b          DCB      0x04,0x07,0x91,0x0b
0001b0  101b2b36          DCB      0x10,0x1b,0x2b,0x36
0001b4  4895              LDR      r0,|L39.1036|
0001b6  f000b91f          B.W      |L39.1016|
0001ba  4894              LDR      r0,|L39.1036|
0001bc  7042              STRB     r2,[r0,#1]
0001be  f000b91c          B.W      |L39.1018|
0001c2  4895              LDR      r0,|L39.1048|
0001c4  f8802100          STRB     r2,[r0,#0x100]
0001c8  f000b917          B.W      |L39.1018|
0001cc  4892              LDR      r0,|L39.1048|
0001ce  f8901100          LDRB     r1,[r0,#0x100]  ; Spr_Mem
0001d2  5442              STRB     r2,[r0,r1]
0001d4  f8901100          LDRB     r1,[r0,#0x100]  ; Spr_Mem
0001d8  1c49              ADDS     r1,r1,#1
0001da  f8801100          STRB     r1,[r0,#0x100]
0001de  f000b90c          B.W      |L39.1018|
0001e2  488b              LDR      r0,|L39.1040|
0001e4  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
0001e6  2900              CMP      r1,#0
0001e8  bf08              IT       EQ
0001ea  4b8d              LDREQ    r3,|L39.1056|
0001ec  d003              BEQ      |L39.502|
0001ee  2aef              CMP      r2,#0xef
0001f0  bf88              IT       HI
0001f2  2200              MOVHI    r2,#0
0001f4  4b8b              LDR      r3,|L39.1060|
                  |L39.502|
0001f6  f0810101          EOR      r1,r1,#1
0001fa  701a              STRB     r2,[r3,#0]
0001fc  7001              STRB     r1,[r0,#0]
0001fe  f000b8fc          B.W      |L39.1018|
000202  4886              LDR      r0,|L39.1052|
000204  7801              LDRB     r1,[r0,#0]  ; PPU_Mem
000206  eb022101          ADD      r1,r2,r1,LSL #8
00020a  8001              STRH     r1,[r0,#0]
00020c  4880              LDR      r0,|L39.1040|
00020e  7801              LDRB     r1,[r0,#0]  ; PPU_Latch_Flag
000210  f0810101          EOR      r1,r1,#1
000214  7001              STRB     r1,[r0,#0]
000216  e0f0              B        |L39.1018|
000218  f8df8200          LDR      r8,|L39.1052|
00021c  f8b80000          LDRH     r0,[r8,#0]  ; PPU_Mem
000220  f4104170          ANDS     r1,r0,#0xf000
000224  bf18              IT       NE
000226  f5b15f80          CMPNE    r1,#0x1000
00022a  d045              BEQ      |L39.696|
00022c  f5b15f00          CMP      r1,#0x2000
000230  d003              BEQ      |L39.570|
000232  f5b15f40          CMP      r1,#0x3000
000236  d01d              BEQ      |L39.628|
000238  e03e              B        |L39.696|
                  |L39.570|
00023a  f3c0000b          UBFX     r0,r0,#0,#12
00023e  f5b06f40          CMP      r0,#0xc00
000242  bf84              ITT      HI
000244  f8d81018          LDRHI    r1,[r8,#0x18]  ; PPU_Mem
000248  f5a06040          SUBHI    r0,r0,#0xc00
00024c  d810              BHI      |L39.624|
00024e  f5b06f00          CMP      r0,#0x800
000252  bf84              ITT      HI
000254  f8d81014          LDRHI    r1,[r8,#0x14]  ; PPU_Mem
000258  f5a06000          SUBHI    r0,r0,#0x800
00025c  d808              BHI      |L39.624|
00025e  f5b06f80          CMP      r0,#0x400
000262  bf86              ITTE     HI
000264  f8d81010          LDRHI    r1,[r8,#0x10]  ; PPU_Mem
000268  f5a06080          SUBHI    r0,r0,#0x400
00026c  f8d8100c          LDRLS    r1,[r8,#0xc]  ; PPU_Mem
                  |L39.624|
000270  540a              STRB     r2,[r1,r0]
000272  e021              B        |L39.696|
                  |L39.628|
000274  f000011f          AND      r1,r0,#0x1f
000278  f000000f          AND      r0,r0,#0xf
00027c  290f              CMP      r1,#0xf
00027e  4440              ADD      r0,r0,r8
000280  d917              BLS      |L39.690|
000282  f880202c          STRB     r2,[r0,#0x2c]
000286  f8980000          LDRB     r0,[r8,#0]  ; PPU_Mem
00028a  f0100f03          TST      r0,#3
00028e  d113              BNE      |L39.696|
000290  f888201c          STRB     r2,[r8,#0x1c]
000294  f888202c          STRB     r2,[r8,#0x2c]
000298  f8882020          STRB     r2,[r8,#0x20]
00029c  f8882030          STRB     r2,[r8,#0x30]
0002a0  f8882024          STRB     r2,[r8,#0x24]
0002a4  f8882034          STRB     r2,[r8,#0x34]
0002a8  f8882028          STRB     r2,[r8,#0x28]
0002ac  f8882038          STRB     r2,[r8,#0x38]
0002b0  e002              B        |L39.696|
                  |L39.690|
0002b2  7702              STRB     r2,[r0,#0x1c]
0002b4  f7fffffe          BL       premap_palette
                  |L39.696|
0002b8  4854              LDR      r0,|L39.1036|
0002ba  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
0002bc  f0100f04          TST      r0,#4
0002c0  f8b80000          LDRH     r0,[r8,#0]  ; PPU_Mem
0002c4  bf14              ITE      NE
0002c6  3020              ADDNE    r0,r0,#0x20
0002c8  1c40              ADDEQ    r0,r0,#1
0002ca  f8a80000          STRH     r0,[r8,#0]
0002ce  e094              B        |L39.1018|
0002d0  f5a44180          SUB      r1,r4,#0x4000
0002d4  3914              SUBS     r1,r1,#0x14
0002d6  d004              BEQ      |L39.738|
0002d8  f5a44180          SUB      r1,r4,#0x4000
0002dc  3916              SUBS     r1,r1,#0x16
0002de  d03d              BEQ      |L39.860|
0002e0  e08b              B        |L39.1018|
                  |L39.738|
0002e2  6a28              LDR      r0,[r5,#0x20]  ; cpu_clockticks
0002e4  2100              MOVS     r1,#0
0002e6  f5a07000          SUB      r0,r0,#0x200
0002ea  6228              STR      r0,[r5,#0x20]  ; cpu_clockticks
0002ec  0910              LSRS     r0,r2,#4
0002ee  2810              CMP      r0,#0x10
0002f0  d218              BCS      |L39.804|
0002f2  e8dff000          TBB      [pc,r0]
0002f6  0808              DCB      0x08,0x08
0002f8  17171717          DCB      0x17,0x17,0x17,0x17
0002fc  82820c0c          DCB      0x82,0x82,0x0c,0x0c
000300  0c0c1212          DCB      0x0c,0x0c,0x12,0x12
000304  1212              DCB      0x12,0x12
000306  4840              LDR      r0,|L39.1032|
000308  eb002102          ADD      r1,r0,r2,LSL #8
00030c  e00a              B        |L39.804|
00030e  69a8              LDR      r0,[r5,#0x18]  ; prg_rombank0
000310  eb002002          ADD      r0,r0,r2,LSL #8
000314  f5a04100          SUB      r1,r0,#0x8000
000318  e004              B        |L39.804|
00031a  69e8              LDR      r0,[r5,#0x1c]  ; prg_rombank1
00031c  eb002002          ADD      r0,r0,r2,LSL #8
000320  f5a04140          SUB      r1,r0,#0xc000
                  |L39.804|
000324  483c              LDR      r0,|L39.1048|
000326  1a42              SUBS     r2,r0,r1
000328  2a00              CMP      r2,#0
00032a  dd04              BLE      |L39.822|
00032c  f5b27f80          CMP      r2,#0x100
000330  bfb8              IT       LT
000332  2200              MOVLT    r2,#0
000334  db05              BLT      |L39.834|
                  |L39.822|
000336  f44f7280          MOV      r2,#0x100
00033a  4837              LDR      r0,|L39.1048|
00033c  f7fffffe          BL       __aeabi_memmove
000340  e05b              B        |L39.1018|
                  |L39.834|
000342  5c8b              LDRB     r3,[r1,r2]
000344  5483              STRB     r3,[r0,r2]
000346  188b              ADDS     r3,r1,r2
000348  f893c001          LDRB     r12,[r3,#1]
00034c  1883              ADDS     r3,r0,r2
00034e  1c92              ADDS     r2,r2,#2
000350  f883c001          STRB     r12,[r3,#1]
000354  f5b27f80          CMP      r2,#0x100
000358  dbf3              BLT      |L39.834|
00035a  e04e              B        |L39.1018|
                  |L39.860|
00035c  b3ea              CBZ      r2,|L39.986|
00035e  4832              LDR      r0,|L39.1064|
000360  7006              STRB     r6,[r0,#0]
000362  4832              LDR      r0,|L39.1068|
000364  6900              LDR      r0,[r0,#0x10]
000366  43c0              MVNS     r0,r0
000368  b281              UXTH     r1,r0
00036a  4831              LDR      r0,|L39.1072|
00036c  8803              LDRH     r3,[r0,#0]  ; joys
00036e  f5b36f40          CMP      r3,#0xc00
000372  bf94              ITE      LS
000374  f04f0c00          MOVLS    r12,#0
000378  f04f0c01          MOVHI    r12,#1
00037c  ea41410c          ORR      r1,r1,r12,LSL #16
000380  f5b36f80          CMP      r3,#0x400
000384  bf34              ITE      CC
000386  2301              MOVCC    r3,#1
000388  2300              MOVCS    r3,#0
00038a  ea414343          ORR      r3,r1,r3,LSL #17
00038e  8841              LDRH     r1,[r0,#2]  ; joys
000390  f5b16f40          CMP      r1,#0xc00
000394  bf8c              ITE      HI
000396  f04f0c01          MOVHI    r12,#1
00039a  f04f0c00          MOVLS    r12,#0
00039e  ea43438c          ORR      r3,r3,r12,LSL #18
0003a2  f5b16f80          CMP      r1,#0x400
0003a6  bf34              ITE      CC
0003a8  2101              MOVCC    r1,#1
0003aa  2100              MOVCS    r1,#0
0003ac  ea4343c1          ORR      r3,r3,r1,LSL #19
0003b0  88c1              LDRH     r1,[r0,#6]  ; joys
0003b2  f5b16f40          CMP      r1,#0xc00
0003b6  bf8c              ITE      HI
0003b8  f04f0c01          MOVHI    r12,#1
0003bc  f04f0c00          MOVLS    r12,#0
0003c0  ea43530c          ORR      r3,r3,r12,LSL #20
0003c4  f5b16f80          CMP      r1,#0x400
0003c8  bf34              ITE      CC
0003ca  2101              MOVCC    r1,#1
0003cc  2100              MOVCS    r1,#0
0003ce  ea435141          ORR      r1,r3,r1,LSL #21
0003d2  8880              LDRH     r0,[r0,#4]  ; joys
0003d4  f5b06f40          CMP      r0,#0xc00
0003d8  e000              B        |L39.988|
                  |L39.986|
0003da  e00c              B        |L39.1014|
                  |L39.988|
0003dc  bf8c              ITE      HI
0003de  2301              MOVHI    r3,#1
0003e0  2300              MOVLS    r3,#0
0003e2  ea415183          ORR      r1,r1,r3,LSL #22
0003e6  f5b06f80          CMP      r0,#0x400
0003ea  bf34              ITE      CC
0003ec  2001              MOVCC    r0,#1
0003ee  2000              MOVCS    r0,#0
0003f0  ea4150c0          ORR      r0,r1,r0,LSL #23
0003f4  6168              STR      r0,[r5,#0x14]  ; joypad_state
                  |L39.1014|
0003f6  480f              LDR      r0,|L39.1076|
                  |L39.1016|
0003f8  7002              STRB     r2,[r0,#0]
                  |L39.1018|
0003fa  1338              ASRS     r0,r7,#12
0003fc  2810              CMP      r0,#0x10
0003fe  d272              BCS      |L39.1254|
000400  e01a              B        |L39.1080|
000402  0000              DCW      0x0000
                  |L39.1028|
                          DCD      ||.data||
                  |L39.1032|
                          DCD      ||.bss||
                  |L39.1036|
                          DCD      PPU_Reg
                  |L39.1040|
                          DCD      PPU_Latch_Flag
                  |L39.1044|
                          DCD      PPU_scanline
                  |L39.1048|
                          DCD      Spr_Mem
                  |L39.1052|
                          DCD      PPU_Mem
                  |L39.1056|
                          DCD      PPU_BG_HScrlOrg
                  |L39.1060|
                          DCD      PPU_BG_VScrlOrg
                  |L39.1064|
                          DCD      ||.data||+0x9
                  |L39.1068|
                          DCD      0x40021000
                  |L39.1072|
                          DCD      joys
                  |L39.1076|
                          DCD      ||.data||+0xb
                  |L39.1080|
000438  e8dff000          TBB      [pc,r0]
00043c  08080d0d          DCB      0x08,0x08,0x0d,0x0d
000440  8daeaeae          DCB      0x8d,0xae,0xae,0xae
000444  a2a2a2a2          DCB      0xa2,0xa2,0xa2,0xa2
000448  a8a8a8a8          DCB      0xa8,0xa8,0xa8,0xa8
00044c  4955              LDR      r1,|L39.1444|
00044e  f3c4000a          UBFX     r0,r4,#0,#11
000452  5c08              LDRB     r0,[r1,r0]
000454  e08a              B        |L39.1388|
000456  f0040007          AND      r0,r4,#7
00045a  2808              CMP      r0,#8
00045c  d242              BCS      |L39.1252|
00045e  e8dff000          TBB      [pc,r0]
000462  0406              DCB      0x04,0x06
000464  09851d85          DCB      0x09,0x85,0x1d,0x85
000468  8525              DCB      0x85,0x25
00046a  484f              LDR      r0,|L39.1448|
00046c  e092              B        |L39.1428|
00046e  484e              LDR      r0,|L39.1448|
000470  7840              LDRB     r0,[r0,#1]  ; PPU_Reg
000472  e07b              B        |L39.1388|
000474  494c              LDR      r1,|L39.1448|
000476  7888              LDRB     r0,[r1,#2]  ; PPU_Reg
000478  f0200280          BIC      r2,r0,#0x80
00047c  708a              STRB     r2,[r1,#2]
00047e  4a4b              LDR      r2,|L39.1452|
000480  7016              STRB     r6,[r2,#0]
000482  4a4b              LDR      r2,|L39.1456|
000484  6812              LDR      r2,[r2,#0]  ; PPU_scanline
000486  3a15              SUBS     r2,r2,#0x15
000488  2af1              CMP      r2,#0xf1
00048a  d26f              BCS      |L39.1388|
00048c  780a              LDRB     r2,[r1,#0]  ; PPU_Reg
00048e  f0120f80          TST      r2,#0x80
000492  bf04              ITT      EQ
000494  f0220203          BICEQ    r2,r2,#3
000498  700a              STRBEQ   r2,[r1,#0]
00049a  e067              B        |L39.1388|
00049c  4945              LDR      r1,|L39.1460|
00049e  f8912100          LDRB     r2,[r1,#0x100]  ; Spr_Mem
0004a2  5c88              LDRB     r0,[r1,r2]
0004a4  1c52              ADDS     r2,r2,#1
0004a6  f8812100          STRB     r2,[r1,#0x100]
0004aa  e05f              B        |L39.1388|
0004ac  4b42              LDR      r3,|L39.1464|
0004ae  8819              LDRH     r1,[r3,#0]  ; PPU_Mem
0004b0  7898              LDRB     r0,[r3,#2]  ; PPU_Mem
0004b2  f4114270          ANDS     r2,r1,#0xf000
0004b6  bf04              ITT      EQ
0004b8  685a              LDREQ    r2,[r3,#4]  ; PPU_Mem
0004ba  5c52              LDRBEQ   r2,[r2,r1]
0004bc  d019              BEQ      |L39.1266|
0004be  f5b25f80          CMP      r2,#0x1000
0004c2  d011              BEQ      |L39.1256|
0004c4  f5b25f00          CMP      r2,#0x2000
0004c8  d015              BEQ      |L39.1270|
0004ca  f5b25f40          CMP      r2,#0x3000
0004ce  bf18              IT       NE
0004d0  2000              MOVNE    r0,#0
0004d2  d02e              BEQ      |L39.1330|
                  |L39.1236|
0004d4  4a34              LDR      r2,|L39.1448|
0004d6  7812              LDRB     r2,[r2,#0]  ; PPU_Reg
0004d8  f0120f04          TST      r2,#4
0004dc  bf14              ITE      NE
0004de  3120              ADDNE    r1,r1,#0x20
0004e0  1c49              ADDEQ    r1,r1,#1
0004e2  8019              STRH     r1,[r3,#0]
                  |L39.1252|
0004e4  e042              B        |L39.1388|
                  |L39.1254|
0004e6  e040              B        |L39.1386|
                  |L39.1256|
0004e8  689a              LDR      r2,[r3,#8]  ; PPU_Mem
0004ea  f3c10c0b          UBFX     r12,r1,#0,#12
0004ee  f812200c          LDRB     r2,[r2,r12]
                  |L39.1266|
0004f2  709a              STRB     r2,[r3,#2]
0004f4  e7ee              B        |L39.1236|
                  |L39.1270|
0004f6  f3c1020b          UBFX     r2,r1,#0,#12
0004fa  f5b26f40          CMP      r2,#0xc00
0004fe  bf84              ITT      HI
000500  f8d3c018          LDRHI    r12,[r3,#0x18]  ; PPU_Mem
000504  f5a26240          SUBHI    r2,r2,#0xc00
000508  d810              BHI      |L39.1324|
00050a  f5b26f00          CMP      r2,#0x800
00050e  bf84              ITT      HI
000510  f8d3c014          LDRHI    r12,[r3,#0x14]  ; PPU_Mem
000514  f5a26200          SUBHI    r2,r2,#0x800
000518  d808              BHI      |L39.1324|
00051a  f5b26f80          CMP      r2,#0x400
00051e  bf86              ITTE     HI
000520  f8d3c010          LDRHI    r12,[r3,#0x10]  ; PPU_Mem
000524  f5a26280          SUBHI    r2,r2,#0x400
000528  f8d3c00c          LDRLS    r12,[r3,#0xc]  ; PPU_Mem
                  |L39.1324|
00052c  f81c2002          LDRB     r2,[r12,r2]
000530  e7df              B        |L39.1266|
                  |L39.1330|
000532  f6437210          MOV      r2,#0x3f10
000536  4291              CMP      r1,r2
000538  d305              BCC      |L39.1350|
00053a  f001000f          AND      r0,r1,#0xf
00053e  4418              ADD      r0,r0,r3
000540  f890002c          LDRB     r0,[r0,#0x2c]
000544  e7c6              B        |L39.1236|
                  |L39.1350|
000546  f5b15f7c          CMP      r1,#0x3f00
00054a  d3c3              BCC      |L39.1236|
00054c  f001000f          AND      r0,r1,#0xf
000550  4418              ADD      r0,r0,r3
000552  7f00              LDRB     r0,[r0,#0x1c]
000554  e7be              B        |L39.1236|
000556  f5a44080          SUB      r0,r4,#0x4000
00055a  3816              SUBS     r0,r0,#0x16
00055c  d00d              BEQ      |L39.1402|
00055e  f5a44080          SUB      r0,r4,#0x4000
000562  3817              SUBS     r0,r0,#0x17
000564  bf08              IT       EQ
000566  2001              MOVEQ    r0,#1
000568  d007              BEQ      |L39.1402|
                  |L39.1386|
00056a  0a20              LSRS     r0,r4,#8
                  |L39.1388|
;;;640    	cpu_putmemory(savepc, temp);   
;;;641    
;;;642    	if(cpu_getmemory(savepc))P &= 0xfd; else P |= 0x02;   
00056c  2800              CMP      r0,#0
00056e  bf1c              ITT      NE
000570  7968              LDRBNE   r0,[r5,#5]  ; P
000572  f00000fd          ANDNE    r0,r0,#0xfd
000576  d112              BNE      |L39.1438|
000578  e00e              B        |L39.1432|
                  |L39.1402|
00057a  f7fffffe          BL       joypad_read
00057e  e7f5              B        |L39.1388|
000580  69a8              LDR      r0,[r5,#0x18]  ; prg_rombank0
000582  4420              ADD      r0,r0,r4
000584  f5a04000          SUB      r0,r0,#0x8000
000588  7800              LDRB     r0,[r0,#0]
00058a  e7ef              B        |L39.1388|
00058c  69e8              LDR      r0,[r5,#0x1c]  ; prg_rombank1
00058e  4420              ADD      r0,r0,r4
000590  f5a04040          SUB      r0,r0,#0xc000
                  |L39.1428|
000594  7800              LDRB     r0,[r0,#0]  ; PPU_Reg
000596  e7e9              B        |L39.1388|
                  |L39.1432|
000598  7968              LDRB     r0,[r5,#5]  ; P
00059a  f0400002          ORR      r0,r0,#2
                  |L39.1438|
00059e  7168              STRB     r0,[r5,#5]
;;;643    }   
0005a0  e8bd81f0          POP      {r4-r8,pc}
;;;644    
                          ENDP

                  |L39.1444|
                          DCD      ||.bss||
                  |L39.1448|
                          DCD      PPU_Reg
                  |L39.1452|
                          DCD      PPU_Latch_Flag
                  |L39.1456|
                          DCD      PPU_scanline
                  |L39.1460|
                          DCD      Spr_Mem
                  |L39.1464|
                          DCD      PPU_Mem

                          AREA ||i.joypad_read||, CODE, READONLY, ALIGN=2

                  joypad_read PROC
;;;85     #define JOYPAD_BTN_READ(A, B) case A: return (joypad_state & B) != 0;
;;;86     uint8_t joypad_read(uint8_t n) {
000000  2801              CMP      r0,#1
000002  d03a              BEQ      |L40.122|
;;;87     	if (n==1) return 0;
;;;88     	// if (joypad_strobe) return joypad_A();
;;;89     	switch (joypad_read_state[n]++) {
000004  4a1e              LDR      r2,|L40.128|
000006  5c11              LDRB     r1,[r2,r0]
000008  1c4b              ADDS     r3,r1,#1
00000a  5413              STRB     r3,[r2,r0]
;;;90     		JOYPAD_BTN_TABLE(JOYPAD_BTN_READ)
00000c  f1a20009          SUB      r0,r2,#9
000010  2908              CMP      r1,#8                 ;89
000012  d232              BCS      |L40.122|
000014  e8dff001          TBB      [pc,r1]               ;89
000018  040a1014          DCB      0x04,0x0a,0x10,0x14
00001c  181e242a          DCB      0x18,0x1e,0x24,0x2a
000020  6940              LDR      r0,[r0,#0x14]  ; joypad_state
000022  4918              LDR      r1,|L40.132|
000024  4008              ANDS     r0,r0,r1
;;;91     		default: return 0;
;;;92     	}
;;;93     }
000026  bf08              IT       EQ
000028  4770              BXEQ     lr
00002a  e024              B        |L40.118|
00002c  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
00002e  4916              LDR      r1,|L40.136|
000030  4008              ANDS     r0,r0,r1              ;90
000032  bf08              IT       EQ
000034  4770              BXEQ     lr
000036  e01e              B        |L40.118|
000038  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
00003a  f3c01080          UBFX     r0,r0,#6,#1           ;90
00003e  4770              BX       lr
000040  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
000042  f3c02040          UBFX     r0,r0,#9,#1           ;90
000046  4770              BX       lr
000048  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
00004a  4910              LDR      r1,|L40.140|
00004c  4008              ANDS     r0,r0,r1              ;90
00004e  bf08              IT       EQ
000050  4770              BXEQ     lr
000052  e010              B        |L40.118|
000054  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
000056  490e              LDR      r1,|L40.144|
000058  4008              ANDS     r0,r0,r1              ;90
00005a  bf08              IT       EQ
00005c  4770              BXEQ     lr
00005e  e00a              B        |L40.118|
000060  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
000062  490c              LDR      r1,|L40.148|
000064  4008              ANDS     r0,r0,r1              ;90
000066  bf08              IT       EQ
000068  4770              BXEQ     lr
00006a  e004              B        |L40.118|
00006c  6940              LDR      r0,[r0,#0x14]         ;90  ; joypad_state
00006e  490a              LDR      r1,|L40.152|
000070  4008              ANDS     r0,r0,r1              ;90
000072  bf08              IT       EQ
000074  4770              BXEQ     lr
                  |L40.118|
000076  2001              MOVS     r0,#1                 ;90
000078  4770              BX       lr
                  |L40.122|
00007a  2000              MOVS     r0,#0                 ;91
00007c  4770              BX       lr
;;;4      #include "ppu.h" 
                          ENDP

00007e  0000              DCW      0x0000
                  |L40.128|
                          DCD      ||.data||+0x9
                  |L40.132|
                          DCD      0x00c05000
                  |L40.136|
                          DCD      0x0030ac21
                  |L40.140|
                          DCD      0x00080002
                  |L40.144|
                          DCD      0x00040008
                  |L40.148|
                          DCD      0x00010010
                  |L40.152|
                          DCD      0x00020004

                          AREA ||i.joypad_write||, CODE, READONLY, ALIGN=2

                  joypad_write PROC
;;;75     };
;;;76     void joypad_write(uint8_t n, uint8_t v) {
000000  b410              PUSH     {r4}
;;;77     	// if (joypad_strobe[n] && !v) {
;;;78     	if (v) {
000002  2900              CMP      r1,#0
000004  d04a              BEQ      |L41.156|
;;;79     		joypad_read_state[n] = 0;
000006  4b27              LDR      r3,|L41.164|
000008  2200              MOVS     r2,#0
00000a  541a              STRB     r2,[r3,r0]
00000c  4a26              LDR      r2,|L41.168|
00000e  6912              LDR      r2,[r2,#0x10]
000010  43d2              MVNS     r2,r2
000012  b293              UXTH     r3,r2
000014  4a25              LDR      r2,|L41.172|
000016  f8b2c000          LDRH     r12,[r2,#0]  ; joys
00001a  f5bc6f40          CMP      r12,#0xc00
00001e  bf94              ITE      LS
000020  2400              MOVLS    r4,#0
000022  2401              MOVHI    r4,#1
000024  ea434304          ORR      r3,r3,r4,LSL #16
000028  f5bc6f80          CMP      r12,#0x400
00002c  bf34              ITE      CC
00002e  f04f0c01          MOVCC    r12,#1
000032  f04f0c00          MOVCS    r12,#0
000036  ea434c4c          ORR      r12,r3,r12,LSL #17
00003a  8853              LDRH     r3,[r2,#2]  ; joys
00003c  f5b36f40          CMP      r3,#0xc00
000040  bf8c              ITE      HI
000042  2401              MOVHI    r4,#1
000044  2400              MOVLS    r4,#0
000046  ea4c4c84          ORR      r12,r12,r4,LSL #18
00004a  f5b36f80          CMP      r3,#0x400
00004e  bf34              ITE      CC
000050  2301              MOVCC    r3,#1
000052  2300              MOVCS    r3,#0
000054  ea4c4cc3          ORR      r12,r12,r3,LSL #19
000058  88d3              LDRH     r3,[r2,#6]  ; joys
00005a  f5b36f40          CMP      r3,#0xc00
00005e  bf8c              ITE      HI
000060  2401              MOVHI    r4,#1
000062  2400              MOVLS    r4,#0
000064  ea4c5c04          ORR      r12,r12,r4,LSL #20
000068  f5b36f80          CMP      r3,#0x400
00006c  bf34              ITE      CC
00006e  2301              MOVCC    r3,#1
000070  2300              MOVCS    r3,#0
000072  ea4c5343          ORR      r3,r12,r3,LSL #21
000076  8892              LDRH     r2,[r2,#4]  ; joys
000078  f5b26f40          CMP      r2,#0xc00
00007c  bf8c              ITE      HI
00007e  f04f0c01          MOVHI    r12,#1
000082  f04f0c00          MOVLS    r12,#0
000086  ea43538c          ORR      r3,r3,r12,LSL #22
00008a  f5b26f80          CMP      r2,#0x400
00008e  bf34              ITE      CC
000090  2201              MOVCC    r2,#1
000092  2200              MOVCS    r2,#0
000094  ea4352c2          ORR      r2,r3,r2,LSL #23
;;;80     		joypad_state = joypad_update();
000098  4b05              LDR      r3,|L41.176|
00009a  615a              STR      r2,[r3,#0x14]  ; joypad_state
                  |L41.156|
;;;81     	}
;;;82     	joypad_strobe[n] = v;
00009c  4a05              LDR      r2,|L41.180|
00009e  5411              STRB     r1,[r2,r0]
;;;83     }
0000a0  bc10              POP      {r4}
0000a2  4770              BX       lr
;;;84     
                          ENDP

                  |L41.164|
                          DCD      ||.data||+0x9
                  |L41.168|
                          DCD      0x40021000
                  |L41.172|
                          DCD      joys
                  |L41.176|
                          DCD      ||.data||
                  |L41.180|
                          DCD      ||.data||+0xb

                          AREA ||i.sprite_dma||, CODE, READONLY, ALIGN=2

                  sprite_dma PROC
;;;203    
;;;204    void sprite_dma(uint8_t scr_addr)  
000000  491f              LDR      r1,|L42.128|
;;;205    {      
;;;206        extern int cpu_clockticks;
;;;207        cpu_clockticks -= 512;
000002  6a0a              LDR      r2,[r1,#0x20]  ; cpu_clockticks
000004  f5a27200          SUB      r2,r2,#0x200
;;;208    
;;;209        const uint8_t *scr_addrptr = 0;  
000008  620a              STR      r2,[r1,#0x20]  ; cpu_clockticks
00000a  2100              MOVS     r1,#0
;;;210        int     i;   
;;;211    
;;;212        switch(scr_addr >> 4){  
00000c  0902              LSRS     r2,r0,#4
00000e  2a10              CMP      r2,#0x10
000010  d21a              BCS      |L42.72|
000012  e8dff002          TBB      [pc,r2]
000016  0808              DCB      0x08,0x08
000018  19191919          DCB      0x19,0x19,0x19,0x19
00001c  33330c0c          DCB      0x33,0x33,0x0c,0x0c
000020  0c0c1313          DCB      0x0c,0x0c,0x13,0x13
000024  1313              DCB      0x13,0x13
;;;213        case 0x0: //RAM   
;;;214        case 0x1: 
;;;215            scr_addrptr = &cpu_ram[(scr_addr << 8)];   
000026  4917              LDR      r1,|L42.132|
000028  eb012100          ADD      r1,r1,r0,LSL #8
;;;216            break;   
00002c  e00c              B        |L42.72|
;;;217        case 0x6: //SRAM   
;;;218        case 0x7:    
;;;219        #ifdef SRAM 
;;;220            scr_addrptr = SRAM + ((scr_addr << 8) - 0x6000);   
;;;221            break;
;;;222        #else
;;;223            return;
;;;224        #endif   
;;;225        case 0x8:
;;;226        case 0x9:   
;;;227        case 0xA:   
;;;228        case 0xB:   
;;;229            scr_addrptr = &prg_rombank0[(scr_addr << 8) - 0x8000];   
00002e  4914              LDR      r1,|L42.128|
000030  6989              LDR      r1,[r1,#0x18]  ; prg_rombank0
000032  eb012000          ADD      r0,r1,r0,LSL #8
000036  f5a04100          SUB      r1,r0,#0x8000
;;;230            break;   
00003a  e005              B        |L42.72|
;;;231        case 0xC:   
;;;232        case 0xD:   
;;;233        case 0xE:   
;;;234        case 0xF:   
;;;235            scr_addrptr = &prg_rombank1[(scr_addr << 8) - 0xC000];   
00003c  4910              LDR      r1,|L42.128|
00003e  69c9              LDR      r1,[r1,#0x1c]  ; prg_rombank1
000040  eb012000          ADD      r0,r1,r0,LSL #8
000044  f5a04140          SUB      r1,r0,#0xc000
                  |L42.72|
;;;236            break;   
;;;237        }  
;;;238    
;;;239        for(i=0; i<256; i++){   
000048  4a0f              LDR      r2,|L42.136|
00004a  1a50              SUBS     r0,r2,r1
00004c  2800              CMP      r0,#0
00004e  dd04              BLE      |L42.90|
000050  f5b07f80          CMP      r0,#0x100
000054  bfb8              IT       LT
000056  2000              MOVLT    r0,#0
000058  db04              BLT      |L42.100|
                  |L42.90|
00005a  f44f7280          MOV      r2,#0x100
00005e  480a              LDR      r0,|L42.136|
000060  f7ffbffe          B.W      __aeabi_memmove
                  |L42.100|
;;;240            Spr_Mem.spr_ram[i] = scr_addrptr[i];   
000064  5c0b              LDRB     r3,[r1,r0]
000066  5413              STRB     r3,[r2,r0]
000068  180b              ADDS     r3,r1,r0
00006a  eb020c00          ADD      r12,r2,r0
00006e  785b              LDRB     r3,[r3,#1]
000070  1c80              ADDS     r0,r0,#2
000072  f88c3001          STRB     r3,[r12,#1]
000076  f5b07f80          CMP      r0,#0x100
00007a  dbf3              BLT      |L42.100|
;;;241        }   
;;;242    }   
00007c  4770              BX       lr
;;;243    
                          ENDP

00007e  0000              DCW      0x0000
                  |L42.128|
                          DCD      ||.data||
                  |L42.132|
                          DCD      ||.bss||
                  |L42.136|
                          DCD      Spr_Mem

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  cpu_ram
                          %        2048

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  opcodeticks
                          DCD      0x00000007
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000007
                          DCD      0x00000002
                          DCD      0x00000006
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000007
                          DCD      0x00000002
                          DCD      0x00000006
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000007
                          DCD      0x00000002
                          DCD      0x00000006
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000006
                          DCD      0x00000004
                          DCD      0x00000007
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000006
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000005
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000006
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000007
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000003
                          DCD      0x00000005
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000005
                          DCD      0x00000003
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000006
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000004
                          DCD      0x00000002
                          DCD      0x00000002
                          DCD      0x00000004
                          DCD      0x00000007
                          DCD      0x00000002

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=2

000000  62726b00          DCB      "brk",0
000004  6f726100          DCB      "ora",0
000008  6e6f7000          DCB      "nop",0
00000c  7473627a          DCB      "tsbzp",0
000010  7000    
000012  00                DCB      0
000013  00                DCB      0
000014  6f72617a          DCB      "orazp",0
000018  7000    
00001a  00                DCB      0
00001b  00                DCB      0
00001c  61736c7a          DCB      "aslzp",0
000020  7000    
000022  00                DCB      0
000023  00                DCB      0
000024  70687000          DCB      "php",0
000028  61736c61          DCB      "asla",0
00002c  00      
00002d  00                DCB      0
00002e  00                DCB      0
00002f  00                DCB      0
000030  74736200          DCB      "tsb",0
000034  61736c00          DCB      "asl",0
000038  62706c00          DCB      "bpl",0
00003c  6f726169          DCB      "oraindzp",0
000040  6e647a70
000044  00      
000045  00                DCB      0
000046  00                DCB      0
000047  00                DCB      0
000048  7472627a          DCB      "trbzp",0
00004c  7000    
00004e  00                DCB      0
00004f  00                DCB      0
000050  6f72617a          DCB      "orazpx",0
000054  707800  
000057  00                DCB      0
000058  61736c7a          DCB      "aslzpx",0
00005c  707800  
00005f  00                DCB      0
000060  636c6300          DCB      "clc",0
000064  696e6100          DCB      "ina",0
000068  74726200          DCB      "trb",0
00006c  6a737200          DCB      "jsr",0
000070  616e6400          DCB      "and",0
000074  6269747a          DCB      "bitzp",0
000078  7000    
00007a  00                DCB      0
00007b  00                DCB      0
00007c  616e647a          DCB      "andzp",0
000080  7000    
000082  00                DCB      0
000083  00                DCB      0
000084  726f6c7a          DCB      "rolzp",0
000088  7000    
00008a  00                DCB      0
00008b  00                DCB      0
00008c  706c7000          DCB      "plp",0
000090  726f6c61          DCB      "rola",0
000094  00      
000095  00                DCB      0
000096  00                DCB      0
000097  00                DCB      0
000098  62697400          DCB      "bit",0
00009c  726f6c00          DCB      "rol",0
0000a0  626d6900          DCB      "bmi",0
0000a4  616e6469          DCB      "andindzp",0
0000a8  6e647a70
0000ac  00      
0000ad  00                DCB      0
0000ae  00                DCB      0
0000af  00                DCB      0
0000b0  6269747a          DCB      "bitzpx",0
0000b4  707800  
0000b7  00                DCB      0
0000b8  616e647a          DCB      "andzpx",0
0000bc  707800  
0000bf  00                DCB      0
0000c0  726f6c7a          DCB      "rolzpx",0
0000c4  707800  
0000c7  00                DCB      0
0000c8  73656300          DCB      "sec",0
0000cc  64656100          DCB      "dea",0
0000d0  72746900          DCB      "rti",0
0000d4  656f7200          DCB      "eor",0
0000d8  656f727a          DCB      "eorzp",0
0000dc  7000    
0000de  00                DCB      0
0000df  00                DCB      0
0000e0  6c73727a          DCB      "lsrzp",0
0000e4  7000    
0000e6  00                DCB      0
0000e7  00                DCB      0
0000e8  70686100          DCB      "pha",0
0000ec  6c737261          DCB      "lsra",0
0000f0  00      
0000f1  00                DCB      0
0000f2  00                DCB      0
0000f3  00                DCB      0
0000f4  6a6d7000          DCB      "jmp",0
0000f8  6c737200          DCB      "lsr",0
0000fc  62766300          DCB      "bvc",0
000100  656f7269          DCB      "eorindzp",0
000104  6e647a70
000108  00      
000109  00                DCB      0
00010a  00                DCB      0
00010b  00                DCB      0
00010c  656f727a          DCB      "eorzpx",0
000110  707800  
000113  00                DCB      0
000114  6c73727a          DCB      "lsrzpx",0
000118  707800  
00011b  00                DCB      0
00011c  636c6900          DCB      "cli",0
000120  70687900          DCB      "phy",0
000124  72747300          DCB      "rts",0
000128  61646300          DCB      "adc",0
00012c  73747a7a          DCB      "stzzp",0
000130  7000    
000132  00                DCB      0
000133  00                DCB      0
000134  6164637a          DCB      "adczp",0
000138  7000    
00013a  00                DCB      0
00013b  00                DCB      0
00013c  726f727a          DCB      "rorzp",0
000140  7000    
000142  00                DCB      0
000143  00                DCB      0
000144  706c6100          DCB      "pla",0
000148  726f7261          DCB      "rora",0
00014c  00      
00014d  00                DCB      0
00014e  00                DCB      0
00014f  00                DCB      0
000150  726f7200          DCB      "ror",0
000154  62767300          DCB      "bvs",0
000158  61646369          DCB      "adcindzp",0
00015c  6e647a70
000160  00      
000161  00                DCB      0
000162  00                DCB      0
000163  00                DCB      0
000164  73747a7a          DCB      "stzzpx",0
000168  707800  
00016b  00                DCB      0
00016c  6164637a          DCB      "adczpx",0
000170  707800  
000173  00                DCB      0
000174  726f727a          DCB      "rorzpx",0
000178  707800  
00017b  00                DCB      0
00017c  73656900          DCB      "sei",0
000180  706c7900          DCB      "ply",0
000184  62726100          DCB      "bra",0
000188  73746100          DCB      "sta",0
00018c  7374797a          DCB      "styzp",0
000190  7000    
000192  00                DCB      0
000193  00                DCB      0
000194  7374617a          DCB      "stazp",0
000198  7000    
00019a  00                DCB      0
00019b  00                DCB      0
00019c  7374787a          DCB      "stxzp",0
0001a0  7000    
0001a2  00                DCB      0
0001a3  00                DCB      0
0001a4  64657900          DCB      "dey",0
0001a8  74786100          DCB      "txa",0
0001ac  73747900          DCB      "sty",0
0001b0  73747800          DCB      "stx",0
0001b4  62636300          DCB      "bcc",0
0001b8  73746169          DCB      "staindzp",0
0001bc  6e647a70
0001c0  00      
0001c1  00                DCB      0
0001c2  00                DCB      0
0001c3  00                DCB      0
0001c4  7374797a          DCB      "styzpx",0
0001c8  707800  
0001cb  00                DCB      0
0001cc  7374617a          DCB      "stazpx",0
0001d0  707800  
0001d3  00                DCB      0
0001d4  7374787a          DCB      "stxzpy",0
0001d8  707900  
0001db  00                DCB      0
0001dc  74796100          DCB      "tya",0
0001e0  74787300          DCB      "txs",0
0001e4  73747a00          DCB      "stz",0
0001e8  6c647900          DCB      "ldy",0
0001ec  6c646100          DCB      "lda",0
0001f0  6c647800          DCB      "ldx",0
0001f4  6c64797a          DCB      "ldyzp",0
0001f8  7000    
0001fa  00                DCB      0
0001fb  00                DCB      0
0001fc  6c64617a          DCB      "ldazp",0
000200  7000    
000202  00                DCB      0
000203  00                DCB      0
000204  6c64787a          DCB      "ldxzp",0
000208  7000    
00020a  00                DCB      0
00020b  00                DCB      0
00020c  74617900          DCB      "tay",0
000210  74617800          DCB      "tax",0
000214  62637300          DCB      "bcs",0
000218  6c646169          DCB      "ldaindzp",0
00021c  6e647a70
000220  00      
000221  00                DCB      0
000222  00                DCB      0
000223  00                DCB      0
000224  6c64797a          DCB      "ldyzpx",0
000228  707800  
00022b  00                DCB      0
00022c  6c64617a          DCB      "ldazpx",0
000230  707800  
000233  00                DCB      0
000234  6c64787a          DCB      "ldxzpy",0
000238  707900  
00023b  00                DCB      0
00023c  636c7600          DCB      "clv",0
000240  74737800          DCB      "tsx",0
000244  63707900          DCB      "cpy",0
000248  636d7000          DCB      "cmp",0
00024c  6370797a          DCB      "cpyzp",0
000250  7000    
000252  00                DCB      0
000253  00                DCB      0
000254  636d707a          DCB      "cmpzp",0
000258  7000    
00025a  00                DCB      0
00025b  00                DCB      0
00025c  6465637a          DCB      "deczp",0
000260  7000    
000262  00                DCB      0
000263  00                DCB      0
000264  696e7900          DCB      "iny",0
000268  64657800          DCB      "dex",0
00026c  64656300          DCB      "dec",0
000270  626e6500          DCB      "bne",0
000274  636d7069          DCB      "cmpindzp",0
000278  6e647a70
00027c  00      
00027d  00                DCB      0
00027e  00                DCB      0
00027f  00                DCB      0
000280  636d707a          DCB      "cmpzpx",0
000284  707800  
000287  00                DCB      0
000288  6465637a          DCB      "deczpx",0
00028c  707800  
00028f  00                DCB      0
000290  636c6400          DCB      "cld",0
000294  70687800          DCB      "phx",0
000298  63707800          DCB      "cpx",0
00029c  73626300          DCB      "sbc",0
0002a0  6370787a          DCB      "cpxzp",0
0002a4  7000    
0002a6  00                DCB      0
0002a7  00                DCB      0
0002a8  7362637a          DCB      "sbczp",0
0002ac  7000    
0002ae  00                DCB      0
0002af  00                DCB      0
0002b0  696e637a          DCB      "inczp",0
0002b4  7000    
0002b6  00                DCB      0
0002b7  00                DCB      0
0002b8  696e7800          DCB      "inx",0
0002bc  696e6300          DCB      "inc",0
0002c0  62657100          DCB      "beq",0
0002c4  73626369          DCB      "sbcindzp",0
0002c8  6e647a70
0002cc  00      
0002cd  00                DCB      0
0002ce  00                DCB      0
0002cf  00                DCB      0
0002d0  7362637a          DCB      "sbczpx",0
0002d4  707800  
0002d7  00                DCB      0
0002d8  696e637a          DCB      "inczpx",0
0002dc  707800  
0002df  00                DCB      0
0002e0  73656400          DCB      "sed",0
0002e4  706c7800          DCB      "plx",0

                          AREA ||.data||, DATA, ALIGN=2

                  NMI_Flag
000000  00                DCB      0x00
                  IRQ_Flag
000001  00                DCB      0x00
                  A
000002  00                DCB      0x00
                  X
000003  00                DCB      0x00
                  Y
000004  00                DCB      0x00
                  P
000005  00                DCB      0x00
                  S
000006  00                DCB      0x00
                  opcode
000007  00                DCB      0x00
                  operand
000008  00                DCB      0x00
                  joypad_read_state
000009  0000              DCB      0x00,0x00
                  joypad_strobe
00000b  00                DCB      0x00
00000c  0000              DCB      0x00,0x00
                  ||PC||
00000e  0000              DCB      0x00,0x00
                  operand16
000010  00000000          DCB      0x00,0x00,0x00,0x00
                  joypad_state
                          DCD      0x00000000
                  prg_rombank0
                          DCD      0x00000000
                  prg_rombank1
                          DCD      0x00000000
                  cpu_clockticks
                          DCD      0x00000000
                  opcode_names
                          DCD      ||.conststring||
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xc
                          DCD      ||.conststring||+0x14
                          DCD      ||.conststring||+0x1c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x24
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x28
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x30
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x34
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x38
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x3c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x48
                          DCD      ||.conststring||+0x50
                          DCD      ||.conststring||+0x58
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x60
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x64
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x68
                          DCD      ||.conststring||+0x4
                          DCD      ||.conststring||+0x34
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x6c
                          DCD      ||.conststring||+0x70
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x74
                          DCD      ||.conststring||+0x7c
                          DCD      ||.conststring||+0x84
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8c
                          DCD      ||.conststring||+0x70
                          DCD      ||.conststring||+0x90
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x98
                          DCD      ||.conststring||+0x70
                          DCD      ||.conststring||+0x9c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xa0
                          DCD      ||.conststring||+0x70
                          DCD      ||.conststring||+0xa4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xb0
                          DCD      ||.conststring||+0xb8
                          DCD      ||.conststring||+0xc0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xc8
                          DCD      ||.conststring||+0x70
                          DCD      ||.conststring||+0xcc
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x98
                          DCD      ||.conststring||+0x70
                          DCD      ||.conststring||+0x9c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xd0
                          DCD      ||.conststring||+0xd4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xd8
                          DCD      ||.conststring||+0xe0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xe8
                          DCD      ||.conststring||+0xd4
                          DCD      ||.conststring||+0xec
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xf4
                          DCD      ||.conststring||+0xd4
                          DCD      ||.conststring||+0xf8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xfc
                          DCD      ||.conststring||+0xd4
                          DCD      ||.conststring||+0x100
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x10c
                          DCD      ||.conststring||+0x114
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x11c
                          DCD      ||.conststring||+0xd4
                          DCD      ||.conststring||+0x120
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xd4
                          DCD      ||.conststring||+0xf8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x124
                          DCD      ||.conststring||+0x128
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x12c
                          DCD      ||.conststring||+0x134
                          DCD      ||.conststring||+0x13c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x144
                          DCD      ||.conststring||+0x128
                          DCD      ||.conststring||+0x148
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xf4
                          DCD      ||.conststring||+0x128
                          DCD      ||.conststring||+0x150
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x154
                          DCD      ||.conststring||+0x128
                          DCD      ||.conststring||+0x158
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x164
                          DCD      ||.conststring||+0x16c
                          DCD      ||.conststring||+0x174
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x17c
                          DCD      ||.conststring||+0x128
                          DCD      ||.conststring||+0x180
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0xf4
                          DCD      ||.conststring||+0x128
                          DCD      ||.conststring||+0x150
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x184
                          DCD      ||.conststring||+0x188
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x18c
                          DCD      ||.conststring||+0x194
                          DCD      ||.conststring||+0x19c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1a4
                          DCD      ||.conststring||+0x98
                          DCD      ||.conststring||+0x1a8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1ac
                          DCD      ||.conststring||+0x188
                          DCD      ||.conststring||+0x1b0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1b4
                          DCD      ||.conststring||+0x188
                          DCD      ||.conststring||+0x1b8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1c4
                          DCD      ||.conststring||+0x1cc
                          DCD      ||.conststring||+0x1d4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1dc
                          DCD      ||.conststring||+0x188
                          DCD      ||.conststring||+0x1e0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1e4
                          DCD      ||.conststring||+0x188
                          DCD      ||.conststring||+0x1e4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1e8
                          DCD      ||.conststring||+0x1ec
                          DCD      ||.conststring||+0x1f0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1f4
                          DCD      ||.conststring||+0x1fc
                          DCD      ||.conststring||+0x204
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x20c
                          DCD      ||.conststring||+0x1ec
                          DCD      ||.conststring||+0x210
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1e8
                          DCD      ||.conststring||+0x1ec
                          DCD      ||.conststring||+0x1f0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x214
                          DCD      ||.conststring||+0x1ec
                          DCD      ||.conststring||+0x218
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x224
                          DCD      ||.conststring||+0x22c
                          DCD      ||.conststring||+0x234
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x23c
                          DCD      ||.conststring||+0x1ec
                          DCD      ||.conststring||+0x240
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x1e8
                          DCD      ||.conststring||+0x1ec
                          DCD      ||.conststring||+0x1f0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x244
                          DCD      ||.conststring||+0x248
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x24c
                          DCD      ||.conststring||+0x254
                          DCD      ||.conststring||+0x25c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x264
                          DCD      ||.conststring||+0x248
                          DCD      ||.conststring||+0x268
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x244
                          DCD      ||.conststring||+0x248
                          DCD      ||.conststring||+0x26c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x270
                          DCD      ||.conststring||+0x248
                          DCD      ||.conststring||+0x274
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x280
                          DCD      ||.conststring||+0x288
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x290
                          DCD      ||.conststring||+0x248
                          DCD      ||.conststring||+0x294
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x248
                          DCD      ||.conststring||+0x26c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x298
                          DCD      ||.conststring||+0x29c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x2a0
                          DCD      ||.conststring||+0x2a8
                          DCD      ||.conststring||+0x2b0
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x2b8
                          DCD      ||.conststring||+0x29c
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x298
                          DCD      ||.conststring||+0x29c
                          DCD      ||.conststring||+0x2bc
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x2c0
                          DCD      ||.conststring||+0x29c
                          DCD      ||.conststring||+0x2c4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x2d0
                          DCD      ||.conststring||+0x2d8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x2e0
                          DCD      ||.conststring||+0x29c
                          DCD      ||.conststring||+0x2e4
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x8
                          DCD      ||.conststring||+0x29c
                          DCD      ||.conststring||+0x2bc
                          DCD      ||.conststring||+0x8

;*** Start embedded assembler ***

#line 1 "..\\Src\\cpu.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___5_cpu_c_a54ab2cc____REV16|
#line 388 "../Drivers/CMSIS/Include/cmsis_armcc.h"
|__asm___5_cpu_c_a54ab2cc____REV16| PROC
#line 389

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___5_cpu_c_a54ab2cc____REVSH|
#line 402
|__asm___5_cpu_c_a54ab2cc____REVSH| PROC
#line 403

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___5_cpu_c_a54ab2cc____RRX|
#line 587
|__asm___5_cpu_c_a54ab2cc____RRX| PROC
#line 588

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
